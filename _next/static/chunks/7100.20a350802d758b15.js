"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7100],{17100:function(e,l,o){o.d(l,{parseData:function(){return parseData}});var t=o(56552),i=o(54685),n=o(74805),a=o(1972),s=o(74861),r=o(64569);let u={0:"dewdrop",1:"sandstone",2:"chillsnap",3:"astro"},d={0:"chopping",1:"fishing",2:"catching",3:"mining"},getHighscores=(e,l)=>{var o,t,i;let n=(null==e?void 0:null===(o=e.FamilyValuesMap)||void 0===o?void 0:o.ColosseumHighscores)||(null==e?void 0:e.FamValColosseumHighscores),a=(null==e?void 0:null===(t=e.FamilyValuesMap)||void 0===t?void 0:t.MinigameHiscores)||(null==e?void 0:e.FamValMinigameHiscores);return{coloHighscores:parseColosseum(n),minigameHighscores:parseMinigame(a).concat([{name:"pen pals",score:(null==l?void 0:null===(i=l.accountOptions)||void 0===i?void 0:i[99])||0}])}},parseColosseum=e=>e.slice(1).filter((e,l)=>u[l]).map((e,l)=>({name:u[l],score:parseFloat(e)})),parseMinigame=e=>e.filter((e,l)=>d[l]).map((e,l)=>({name:d[l],score:e}));var v=o(30925);let getGemShop=e=>{let l=(0,v.tryToParse)(null==e?void 0:e.GemItemsPurchased)||(null==e?void 0:e.GemItemsPurchased);return parseGemShop(l)},parseGemShop=e=>e;var c=o(25081),_=o(88054),p=o(23515),m=o(29129),h=o(96707),g=o(15815),f=o(70473);let getForge=(e,l)=>{let o=null==e?void 0:e.ForgeItemOrder,t=(null==e?void 0:e.ForgeItemQuantity)||(null==e?void 0:e.ForgeItemQty),i=(null==e?void 0:e.FurnaceLevels)||(null==e?void 0:e.ForgeLV);return parseForge(o,t,i,l)},y=[{name:"New Forge Slot",maxLevel:16,description:"extra slots to smelt ores",costMulti:void 0},{name:"Ore Capacity Boost",maxLevel:50,description:"Increases max ores per slot",costMulti:1.41},{name:"Forge Speed",maxLevel:90,description:"Ores are turned into bars faster",costMulti:1.2},{name:"Forge EXP Gain",maxLevel:85,description:"Increased EXP gain from using the forge",costMulti:1.21},{name:"Bar Bonanza",maxLevel:75,description:"Increased chance to make an extra bar",costMulti:1.25},{name:"Puff Puff Go",maxLevel:60,description:"Increased chance for a card drop while afk",costMulti:1.33}],parseForge=(e,l,o,t)=>{var i,n,a;let s=null==y?void 0:y.map((e,l)=>({...e,level:o[l]})),r=null!==(n=null==t?void 0:null===(i=t.gemShopPurchases)||void 0===i?void 0:i.find((e,l)=>104===l))&&void 0!==n?n:0,u=[],d=0;for(let o=0;o<(null==e?void 0:e.length);o+=3){let[t,i,n]=null==e?void 0:e.slice(o,o+3),[v,c,_]=l.slice(o,o+3),p=null===f.items||void 0===f.items?void 0:f.items[i],m=null===f.items||void 0===f.items?void 0:f.items[t],h=d<r,g=Math.round(100+5*(null==s?void 0:null===(a=s[2])||void 0===a?void 0:a.level)),y=getSpeed(g,p,h),b=Math.round(v/(null==m?void 0:m.Amount))*((null==m?void 0:m.Cooldown)/(4*y));u=[...u,{isBrimestone:h,ore:{...m,rawName:t,quantity:v,timeTillEmpty:1e3*b},barrel:{...p,rawName:i,quantity:c},bar:{...null===f.items||void 0===f.items?void 0:f.items[n],rawName:n,quantity:_}}],d++}return{list:u,upgrades:s}},getSpeed=(e,l,o)=>{let t=Math.round(e)/100;return t*=(null==l?void 0:l.Effect)==="SpeedForge"?null==l?void 0:l.Amount:1,o&&(t*=1.5),.25*t};var b=o(47212),S=o(9339),k=o(72664);let getTasks=e=>{var l;let o=(null==e?void 0:e.Tasks)||[(0,v.tryToParse)(null==e?void 0:e.TaskZZ0),(0,v.tryToParse)(null==e?void 0:e.TaskZZ1),(0,v.tryToParse)(null==e?void 0:e.TaskZZ2),(0,v.tryToParse)(null==e?void 0:e.TaskZZ3),(0,v.tryToParse)(null==e?void 0:e.TaskZZ4),(0,v.tryToParse)(null==e?void 0:e.TaskZZ5)],t=null===f.tasks||void 0===f.tasks?void 0:null===(l=f.tasks.map((e,l)=>null==e?void 0:e.map((e,t)=>{var i,n,a,s,r,u;let d=null==o?void 0:null===(n=o[0])||void 0===n?void 0:null===(i=n[l])||void 0===i?void 0:i[t],v=null==o?void 0:null===(s=o[1])||void 0===s?void 0:null===(a=s[l])||void 0===a?void 0:a[t],c=e;if(8===t){let e=null==o?void 0:null===(r=o[5])||void 0===r?void 0:r[l];c=null===f.tasks||void 0===f.tasks?void 0:null===(u=f.tasks[l])||void 0===u?void 0:u[8+e]}return{...c,stat:d,level:v,meritReward:Math.round(1+Math.floor(v/5))}})))||void 0===l?void 0:l.map(e=>null==e?void 0:e.slice(0,9)),i=null===f.merits||void 0===f.merits?void 0:f.merits.map((e,l)=>null==e?void 0:e.map((e,t)=>{var i,n;let a=null==o?void 0:null===(n=o[2])||void 0===n?void 0:null===(i=n[l])||void 0===i?void 0:i[t];return{...e,level:a}}));return{tasks:parseTasks(o),tasksDescriptions:t,meritsDescriptions:i}},parseTasks=e=>e;var M=o(71345),w=o(10924),T=o(32387),C=o(11028),O=o(89260),E=o(15893),x=o(64605),G=o(73592),P=o(70508),B=o(19225),I=o(74629),D=o(5432),N=o(19834),A=o(16727),j=o(20385),L=o(95331),F=o(67896),U=o(4056);let H=["Get_as_much_total_stats_as_possible,_STR_AGI_WIS_and_LUK_combined.","Get_as_much_STR_stat_as_you_can.","Get_as_much_AGI_stat_as_you_can.","Get_as_much_WIS_stat_as_you_can.","Get_as_much_LUK_stat_as_you_can.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_beginner","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_warrior.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_archer.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_mage.","Get_the_highest_Accuracy_stat_you_can.","Get_the_highest_Defence_stat._Tank_mains;_it's_your_moment!","Get_the_highest_Movement_Speed_you_can.","Get_the_highest_Critical_Chance_%_you_can.","Spawn_as_many_Giant_Mobs_this_week_as_you_can.","Get_the_highest_Max_HP_as_possible.","Get_the_highest_Max_MP_as_possible.","Get_as_many_individual_hits_on_the_DPS_Dummy_as_you_can_within_the_timer.","Get_as_much_Mining_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Choppin_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Fishing_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Catching_Efficiency_(number_of_digits)_as_you_can."],q=[{effect:"+{,Base_STR",divider:12},{effect:"+{,Base_AGI",divider:12},{effect:"+{,Base_WIS",divider:12},{effect:"+{,Base_LUK",divider:10},{effect:"+{%,Total_DMG",divider:3},{effect:"+{%,Class_EXP",divider:4},{effect:"+{%,Skill_Eff",divider:5}],W=[{effect:"1_in_100000_chance_for_Trophy_per_hr_of_Nothing_AFK",cost:24},{effect:"1.25x_Dungeon_Credits_and_Flurbos_gained",cost:200},{effect:"-30%_Kitchen_Upgrade_Costs",cost:750},{effect:"1.20x_Chance_to_find_Sailing_Artifacts",cost:2500},{effect:"Dirty_Shovel_digs_up_+25%_more_Gold_Nuggets",cost:1e4},{effect:"+100_Star_Talent_Pts",cost:2e4},{effect:"World_6_Bonus..._I_wonder_what_it_will_be...",cost:4e4},{effect:"World_7_Bonus..._I_wonder_what_it_will_be...",cost:6e4}],getIslands=e=>{var l,o,t,i,n,a,s,r,u,d,c,_;let p=null===(l=(null==e?void 0:null===(o=e.accountOptions)||void 0===o?void 0:o[169])||"")||void 0===l?void 0:l.split(""),h=null==e?void 0:null===(i=e.accountOptions)||void 0===i?void 0:null===(t=i[169])||void 0===t?void 0:t.length,g={0:0,1:8,2:32,3:80,4:200,5:500},f={0:0,1:15,2:45,3:100,4:200,5:500},y=[{name:"Trash",description:"Trade_garbage_that_washs_up_each_day_for_items",preUnlockCost:4,baseCost:10},{name:"Rando",description:"Guaranteed_Random_Event_once_a_week",preUnlockCost:12,baseCost:12},{name:"Crystal",description:"Fight_daily_giant_crystal_mobs_that_drop_candy",preUnlockCost:20,baseCost:15},{name:"Seasalt",description:"Catch_legendary_fish_for_crafting_World_6_equips",preUnlockCost:28,baseCost:50},{name:"Shimmer",description:"Do_Weekly_Challenges_for_Shimmer_Upgrades",preUnlockCost:40,baseCost:25},{name:"Fractal",description:"Dump_your_time_candy_here_for..._nothing...?",preUnlockCost:52,baseCost:70}].map((l,o)=>({...l,unlocked:(null==p?void 0:p.indexOf(null===v.number2letter||void 0===v.number2letter?void 0:v.number2letter[o]))!==-1,cost:0===h?l.preUnlockCost+(null==g?void 0:g[h]):l.baseCost+(null==f?void 0:f[h]),...extraIslandDetails(e,o)})),b=null==e?void 0:null===(n=e.accountOptions)||void 0===n?void 0:n[162],S=(0,m.k)(null==e?void 0:e.bribes,"Bottle_Service"),k=(0,w.U7)(null==e?void 0:e.bundles,"bun_p")?30:0,M=null==e?void 0:null===(u=e.quests)||void 0===u?void 0:null===(r=u["Yum-Yum_Desert"])||void 0===r?void 0:null===(s=r.find(e=>{let{name:l}=e;return"Omar_Da_Ogar"===l}))||void 0===s?void 0:null===(a=s.npcQuests)||void 0===a?void 0:a.reduce((e,l)=>{let{completed:o}=l;return e+((null==o?void 0:o.length)>0?1:0)},0),T=null==e?void 0:null===(d=e.accountOptions)||void 0===d?void 0:d[164],C=null===(c=e.accountOptions)||void 0===c?void 0:c[160],O=null===(_=e.accountOptions)||void 0===_?void 0:_[163];return{islandsUnlocked:h,bottles:b,bottlesPerDay:Math.floor(4*(1+(S+(10*T+10*M+k))/100)),trashPerDay:Math.round(3.75*Math.floor(1.01+(.5+(.01+O/5)))),trashPerDaysAfk:0===C?0:Math.round(3*(14>C?.25+C:Math.pow(8*C,.5))*Math.floor(1.01+(.5+(Math.min(C,70)/100+O/5)))),numberOfDaysAfk:C,list:y}},extraIslandDetails=(e,l)=>{var o,t,i,n,a,s,r,u,d,c,_;let p={};if(0===l){let l=null==e?void 0:null===(o=e.accountOptions)||void 0===o?void 0:o[161],n=["data/StampB47","data/StampB32","data/StampA38","data/StampA39","etc/Trash_Currency","etc/Bribe","data/Island1","data/TalentBook1","data/EquipmentNametag6b"],a=["Skelefish Stamp"," Amplestample Stamp","Golden Sixes Stamp","Stat Wallstreet Stamp","+20% Garbage Gain","Unlock New Bribe Set","10% Message Bottle Gain","Filthy Damage Special Talent Book","Trash Tuna Nametag"],s=[20,40,80,300,7*Math.pow(1.4,null==e?void 0:null===(t=e.accountOptions)||void 0===t?void 0:t[163]),135,25*Math.pow(1.5,null==e?void 0:null===(i=e.accountOptions)||void 0===i?void 0:i[164]),450,1500].map((l,o)=>{var t,i;let s=4===o?null==e?void 0:null===(t=e.accountOptions)||void 0===t?void 0:t[163]:6===o?null==e?void 0:null===(i=e.accountOptions)||void 0===i?void 0:i[164]:null;return{cost:Math.round(l),effect:null==n?void 0:n[o],upgrades:s,name:null==a?void 0:a[o]}});p={trash:l,learnMore:!0,shop:s}}else if(1===l)p={learnMore:!0,shop:[{effect:"5% Loot (".concat(null==e?void 0:null===(n=e.accountOptions)||void 0===n?void 0:n[166],")"),cost:Math.round(10*Math.pow(1.5,null==e?void 0:null===(a=e.accountOptions)||void 0===a?void 0:a[166]))},{effect:"3% Double boss (".concat(null==e?void 0:null===(s=e.accountOptions)||void 0===s?void 0:s[167],")"),cost:Math.round(6*Math.pow(1.4,null==e?void 0:null===(r=e.accountOptions)||void 0===r?void 0:r[167]))},{effect:"Star book",cost:200}]};else if(4===l){let l=null==e?void 0:null===(u=e.accountOptions)||void 0===u?void 0:u[183],o=(0,v.notateNumber)(null==e?void 0:null===(d=e.accountOptions)||void 0===d?void 0:d[172]),t=null==e?void 0:null===(c=e.accountOptions)||void 0===c?void 0:c[173],i=null==q?void 0:q.map((l,o)=>{var t,i;let{effect:n,divider:a}=l,s=null==e?void 0:null===(t=e.accountOptions)||void 0===t?void 0:t[174+o];return{effect:null==n?void 0:null===(i=n.replace("{",s))||void 0===i?void 0:i.replace(","," "),bonus:s,cost:1+Math.floor(s/a)}});p={shop:i,currentTrial:H[l],bestDpsEver:o,shimmerCurrency:t,learnMore:!0}}else if(5===l){let l=null==e?void 0:null===(_=e.accountOptions)||void 0===_?void 0:_[184];p={hoursAfk:l,shop:null==W?void 0:W.map(e=>({...e,unlocked:l>(null==e?void 0:e.cost)})),learnMore:!0}}return p};var R=o(72973),Z=o(15265),V=o(8616);let parseData=(e,l,o,t,i)=>{let n,a;try{console.info("%cStart Parsing","color:orange");let s=serializeData(e,l,o,t,i);return n=null==s?void 0:s.accountData,a=null==s?void 0:s.charactersData,console.info("data",{account:n,characters:a}),console.info("%cParsed successfully","color: green"),{account:n,characters:a}}catch(e){console.error("Error while parsing data",e),void 0!==window.gtag&&window.gtag("event","error",{event_category:"error",event_label:"engagement",value:JSON.stringify(e)})}},serializeData=(e,l,o,u,d)=>{var y,H,q,W,K,z,X,Y,Q,J,$,ee,el,eo;let et={},ei=[],en=(0,t.ql)(e,l);et.companions=(0,w.Rf)(o),et.bundles=(0,w.kU)(e),et.serverVars=d,et.accountOptions=(null==e?void 0:e.OptionsListAccount)||(0,v.tryToParse)(null==e?void 0:e.OptLacc),et.bribes=(0,m.t)(e),et.timeAway=(0,v.tryToParse)(null==e?void 0:e.TimeAway)||(null==e?void 0:e.TimeAway),et.alchemy=(0,_.p4)(e,et,en),et.equippedBubbles=(0,_.Tw)(e,null===(y=et.alchemy)||void 0===y?void 0:y.bubbles,en),et.storage=(0,p.cF)(e),et.saltLick=(0,T.U)(e,et.storage),et.dungeons=(0,C.MR)(e,et.accountOptions),et.prayers=(0,g.hn)(e,et.storage),et.cards=(0,i.vm)(e,et),et.gemShopPurchases=getGemShop(e),et.guild=(0,x.Sk)(e,u),et.currencies=(0,w.DE)(e),et.stamps=(0,a.t2)(e,et),et.obols=(0,n.dR)(e),et.looty=(0,w.NQ)(e);let{tasks:ea,tasksDescriptions:es,meritsDescriptions:er}=getTasks(e);et.tasks=ea,et.tasksDescriptions=es,et.meritsDescriptions=er,et.breeding=(0,D.N5)(e,et),et.cooking=(0,O.Tt)(e,et),et.divinity=(0,N.y0)(e,en),et.postOfficeShipments=(0,U.NU)(e),et.sneaking=(0,V.JL)(e,d,en),et.lab=(0,E.Cs)(e,en,et),et.towers=(0,b.d4)(e),et.shrines=(0,r.Xz)(e,et),et.statues=(0,s.Xl)(e,en),et.achievements=(0,S.j)(e),et.lab.connectedPlayers=null===(H=et.lab.connectedPlayers)||void 0===H?void 0:H.map(e=>{var l,o;return{...e,isDivinityConnected:(null==et?void 0:null===(o=et.divinity)||void 0===o?void 0:null===(l=o.linkedDeities)||void 0===l?void 0:l[null==e?void 0:e.playerId])===4||(0,E.p8)(e,4)}}),et.rift=(0,F.wE)(e),et.arcade=(0,M.z)(e,et,d);let eu=(0,E.c9)(et.lab.labBonuses,7);et.stamps=(0,a.Md)(et.stamps,eu),et.alchemy.vials=(0,_.B9)(et),et.equinox=(0,R.B)(e,et);let ed=(0,E.c9)(et.lab.labBonuses,8),ev=(0,E.pc)(et.lab.jewels,16,ed);et.cooking.meals=(0,O.wR)(et.cooking.meals,ev);let ec=null==en?void 0:en.map(e=>{var l,o,t;let i=null==e?void 0:e.PersonalValuesMap;return{level:null!==(o=null==i?void 0:null===(l=i.StatList)||void 0===l?void 0:l[4])&&void 0!==o?o:0,class:null!==(t=null===f.classes||void 0===f.classes?void 0:f.classes[null==e?void 0:e.CharacterClass])&&void 0!==t?t:""}});et.starSigns=(0,h.kz)(e),et.constellations=(0,h.tp)(e),et.charactersLevels=ec,ei=en.map(l=>(0,t.SD)(l,ec,{...et},e)),et.lab=(0,E.Cs)(e,en,et,ei),et.alchemy.vials=(0,_.B9)(et),q=[1,2,3,4,5],et.finishedWorlds=void 0===q?void 0:q.reduce((e,l)=>({...e,["World".concat(l)]:(0,B.jZ)(ei,l)}),{}),et.statues=(0,s.hE)(et.statues,ei);let e_=null==ei?void 0:ei.map(e=>{let{name:l,skillsInfo:o}=e;return{name:l,skillsInfo:o}});et.totalSkillsLevels=(0,w.B4)(e_),et.construction=(0,b.VR)(e,et),et.atoms=(0,L.nK)(e,et);let ep=(0,A.yN)(e,ei,et);et.alchemy.p2w.sigils=(0,_.RG)(et.alchemy.p2w.sigils,ep),et.alchemy.liquidCauldrons=(0,_.jd)(et),et.gaming=(0,j.gm)(e,ei,et,d),et.atoms=(0,L.nK)(e,et),et.sailing=(0,A.x0)(e,ep,ei,et,d,ec);let em=(0,w.tS)(e_);ei=ei.map(e=>({...e,skillsInfo:em[null==e?void 0:e.name]})),et.highscores=getHighscores(e,et),et.shopStock=(0,c.u6)(e),et.forge=getForge(e,et),et.refinery=(0,k.wt)(e,et.storage,et.tasks),et.printer=(0,G.h)(e,ei,et),et.traps=(0,P.aQ)(en),et.quests=(0,B.zz)(ei),et.islands=getIslands(et),et.deathNote=(0,I.WA)(ei,et),et.anvil=ei.map(e=>{let{anvil:l}=e;return l});let eh=parseFloat(null==e?void 0:e.MoneyBANK),eg=null==ei?void 0:ei.reduce((e,l)=>e+parseFloat(null==l?void 0:l.money),0),ef=eh+eg;et.currencies.rawMoney=ef,et.currencies.money=(0,v.getCoinsArray)(ef),et.currencies.gems=null==e?void 0:e.GemsOwned,et.currencies.KeysAll=(0,w.Ix)(null==et?void 0:null===(W=et.currencies)||void 0===W?void 0:W.KeysAll,ei,et),et.currencies.ColosseumTickets=(0,w.cg)(null==et?void 0:null===(K=et.currencies)||void 0===K?void 0:K.ColosseumTickets,ei,et),et.currencies.penPals=null!==(eo=null===(z=et.accountOptions)||void 0===z?void 0:z[99])&&void 0!==eo?eo:0,et.cooking.kitchens=(0,O.vu)(e,ei,et),et.libraryTimes=(0,w.W9)(e,ei,et),et.breeding=(0,D.XM)(e,et),et.divinity.deities=(0,N.wl)(et),ei=null==ei?void 0:ei.map(e=>{let{carryCapBags:l}=e;return e.carryCapBags=null==l?void 0:l.map(l=>{let o=(0,w.HA)(null==l?void 0:l.Class),t=(0,w.z3)(o,e,et);return{...l,capacityPerSlot:null==t?void 0:t.value,breakdown:null==t?void 0:t.breakdown,maxCapacity:(null==t?void 0:t.value)*(null==e?void 0:e.inventorySlots)}}),e.constructionSpeed=(0,t.x6)(e,et),e.constructionExpPerHour=(0,t.NA)(e,et),e}),et.stamps=(0,a.bW)(et,ei),et.shrinesExpBonus=(0,r.n)(ei,et);let ey=Math.floor((null==et?void 0:null===(Q=et.deathNote)||void 0===Q?void 0:null===(Y=Q[0])||void 0===Y?void 0:null===(X=Y.mobs)||void 0===X?void 0:X[0].kills)/1e6),eb=(null===($=et.lab.labBonuses)||void 0===$?void 0:null===(J=$[13])||void 0===J?void 0:J.active)?1.5*ey:0,eS=ey*(null===(el=et.lab.labBonuses)||void 0===el?void 0:null===(ee=el[9])||void 0===ee?void 0:ee.bonusOn);return et.lab.labBonuses=(0,E.ww)(et.lab.labBonuses,eS+eb,9),et.totems=(0,Z.Ew)(e),{accountData:et,charactersData:ei}}},25081:function(e,l,o){o.d(l,{gN:function(){return getRawShopItems},u6:function(){return getShops}});var t=o(30925),i=o(70473);let getShops=e=>{let l=(null==e?void 0:e.ShopStock)||(0,t.tryToParse)(null==e?void 0:e.ShopStock);return parseShops(l)},parseShops=e=>e.reduce((e,l,o)=>{var t;let a=null===(t=Object.values(l))||void 0===t?void 0:t.reduce((e,l,t)=>{var a,s,r,u;let d=null==n?void 0:null===(a=n[o])||void 0===a?void 0:a[t],v=parseInt(l)||0;return v>0&&d?[...e,{amount:l,...null===(r=i.shops[o])||void 0===r?void 0:null===(s=r.items)||void 0===s?void 0:s[t],shopName:null===(u=i.shops[o])||void 0===u?void 0:u.name}]:e},[]);return[...e,a]},[]),getRawShopItems=()=>{var e;return null===(e=Object.entries(i.shops))||void 0===e?void 0:e.reduce((e,l)=>{var o;let[t,{items:i}]=l,a=null==i?void 0:null===(o=i.filter((e,l)=>{var o;return null==n?void 0:null===(o=n[t])||void 0===o?void 0:o[l]}))||void 0===o?void 0:o.map(e=>{let{rawName:l}=e;return l});return[...e,...a]},[]).toSimpleObject()},n={0:[3,8,13,14,17,23].toSimpleObject(),1:[2,8,9,13].toSimpleObject(),2:[0,1,2,3,4,5,6,7,8,9,10,18,19].toSimpleObject(),3:[12].toSimpleObject(),4:[0,1,2,8,9,10,19,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject(),7:[0,2,3,4,5,6,7].toSimpleObject()}},70508:function(e,l,o){o.d(l,{aQ:function(){return getTraps},oH:function(){return getTrapsBonuses},q6:function(){return calcTotalCritters}});var t=o(70473),i=o(88054),n=o(30796);let getTraps=e=>parseTraps(e),parseTraps=e=>e.map(e=>{let l=(null==e?void 0:e.PldTraps)||[];return l.reduce((e,l)=>{var o;let[i,,n,a,s,r,u,d]=l;if(-1===i||"-1"===i)return e;let v=t.traps[r].find(e=>e.trapTime===u),c=u-n;return a?[...e,{name:null===(o=t.items[a])||void 0===o?void 0:o.displayName,rawName:a,crittersQuantity:s,trapType:r,trapExp:d,timeLeft:new Date().getTime()+1e3*c,trapData:v}]:e},[])}),calcTotalCritters=(e,l)=>{var o;let{critter:t,exp:i}=l;return null==e?void 0:null===(o=e.traps)||void 0===o?void 0:o.reduce((e,l)=>(l.reduce((l,o)=>{var n,a,s,r;let{crittersQuantity:u,trapExp:d,rawName:v}=o;e={...e,[v]:{critters:(null!==(s=null==e?void 0:null===(n=e[v])||void 0===n?void 0:n.critters)&&void 0!==s?s:0)+u*t,exp:(null!==(r=null==e?void 0:null===(a=e[v])||void 0===a?void 0:a.exp)&&void 0!==r?r:0)+d*i}}},{}),e),{})},getTrapsBonuses=(e,l)=>{let o=null==l?void 0:l.map((o,t)=>calcCrittersBonus({currentCharacterIndex:t,account:e,characters:l,isExp:!1})),t=null==l?void 0:l.map((o,t)=>calcCrittersBonus({currentCharacterIndex:t,account:e,characters:l,isExp:!0}));return{max:{critter:Math.max(...o||[1]),exp:Math.max(...t||[1])},min:{critter:Math.min(...o||[1]),exp:Math.min(...t||[1])}}},calcCrittersBonus=e=>{var l,o,t;let{currentCharacterIndex:a,account:s,characters:r,isExp:u}=e,d=u?0:(0,i.iu)(null==s?void 0:null===(l=s.alchemy)||void 0===l?void 0:l.vials,"TrapOvision");if((0,n.gW)(null==r?void 0:null===(o=r[a])||void 0===o?void 0:o.class,"Hunter")){let e=(0,n.L1)(r,2,"Hunter","EAGLE_EYE",u);d+=u?Math.max(40,Math.min((0,n._X)(null==e?void 0:e.talents,2,"EAGLE_EYE",u),99)):Math.max(50,(0,n._X)(null==e?void 0:e.talents,2,"EAGLE_EYE"))}else{let e=0;for(let l=0;l<(null==r?void 0:r.length);l++)if((0,n.gW)(null==r?void 0:null===(t=r[l])||void 0===t?void 0:t.class,"Hunter")){let l=(0,n.L1)(r,2,"Hunter","EAGLE_EYE",u,!0);e=Math.max(e,(0,n._X)(null==l?void 0:l.talents,2,"EAGLE_EYE",u,!0))}else e=Math.max(e,u?40:50);d+=e}return isNaN(d)?1:d/100}},8616:function(e,l,o){o.d(l,{JL:function(){return getSneaking},x5:function(){return isJadeBonusUnlocked}});var t=o(30925),i=o(70473);let getSneaking=(e,l,o)=>{let i=(0,t.tryToParse)(null==e?void 0:e.Ninja);return parseSneaking(i,l,o)},parseSneaking=(e,l,o)=>{var n,a,s,r;let u=null==e?void 0:null===(n=e[102])||void 0===n?void 0:n[9],d=null==e?void 0:null===(a=e[102])||void 0===a?void 0:a[1],v=null==e?void 0:e[103],c=null===(s=e.slice(0,null==o?void 0:o.length))||void 0===s?void 0:s.map(e=>{let[l]=e;return{floor:l}}),_=null===(r=i.ninjaExtraInfo.slice(13,21).map(e=>e.split(" ").toChunks(2)))||void 0===r?void 0:r.map(e=>null==e?void 0:e.map(e=>{let[l,o]=e;return{...i.ninjaEquipment[l],dropChance:o}})),p=null===i.ninjaUpgrades||void 0===i.ninjaUpgrades?void 0:i.ninjaUpgrades.map((e,l)=>({...e,level:null==v?void 0:v[l]})),m=i.ninjaExtraInfo[24].split(" "),h=parseNinjaItems(null==e?void 0:e.slice(12,12+(null==o?void 0:o.length)*4),!0),g=o.map((e,l)=>({equipment:null==h?void 0:h[l],...c[l]})),f=parseNinjaItems(null==e?void 0:e.slice(60,99),!1),y=i.jadeUpgrades.map((e,l)=>({...e,index:null==m?void 0:m.indexOf(l+""),unlocked:(null==u?void 0:u.indexOf(null===t.number2letter||void 0===t.number2letter?void 0:t.number2letter[l]))!==-1}));y.sort((e,l)=>e.index-l.index);let b=y.map((e,o)=>({...e,cost:(300+500*o+Math.pow(o,3))*Math.pow(l.A_empoExpon,o)})).slice(0,28),S=i.pristineCharms.map((l,o)=>{var t;return{...l,unlocked:null==e?void 0:null===(t=e[107])||void 0===t?void 0:t[o]}});return{jadeEmporium:b,jadeCoins:d,upgrades:p,characterEquipments:h,inventory:f,players:g,pristineCharms:S,dropList:_}},parseNinjaItems=(e,l)=>{let o=null==e?void 0:e.map(e=>{let[l,o]=e;return{...i.ninjaEquipment[l],level:o}});if(l){var t;return null==o?void 0:null===(t=o.toChunks(4))||void 0===t?void 0:t.map(e=>e.map(e=>({...e,value:getItemValue(e)})))}return null==o?void 0:o.map(e=>({...e,value:getItemValue(e)}))},getItemValue=e=>{let{type:l,level:o,x3:t,x4:i}=e;return 1==l?t*Math.pow(1.23,o):2==l?Math.min(t+i*(o/(o+50)),i):0},isJadeBonusUnlocked=(e,l)=>{var o,t,i;return null==e?void 0:null===(i=e.sneaking)||void 0===i?void 0:null===(t=i.jadeEmporium)||void 0===t?void 0:null===(o=t.find(e=>{let{name:o}=e;return o===l}))||void 0===o?void 0:o.unlocked}}}]);