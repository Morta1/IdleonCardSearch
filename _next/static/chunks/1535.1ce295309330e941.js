"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1535],{20466:function(e,l,t){t.d(l,{Z:function(){return getDay}});var o=t(19013),i=t(13882);function getDay(e){return(0,i.Z)(1,arguments),(0,o.Z)(e).getDay()}},33913:function(e,l,t){t.d(l,{Z:function(){return isPast}});var o=t(19013),i=t(13882);function isPast(e){return(0,i.Z)(1,arguments),(0,o.Z)(e).getTime()<Date.now()}},49352:function(e,l,t){t.d(l,{Z:function(){return isThursday}});var o=t(19013),i=t(13882);function isThursday(e){return(0,i.Z)(1,arguments),4===(0,o.Z)(e).getDay()}},85148:function(e,l,t){t.d(l,{Z:function(){return nextThursday}});var o=t(77349),i=t(20466),n=t(13882);function nextThursday(e){return(0,n.Z)(1,arguments),function(e,l){(0,n.Z)(2,arguments);var t=4-(0,i.Z)(e);return t<=0&&(t+=7),(0,o.Z)(e,t)}(e,4)}},23284:function(e,l,t){t.d(l,{Z:function(){return previousThursday}});var o=t(13882),i=t(20466),n=t(7069);function previousThursday(e){return(0,o.Z)(1,arguments),function(e,l){(0,o.Z)(2,arguments);var t=(0,i.Z)(e)-4;return t<=0&&(t+=7),(0,n.Z)(e,t)}(e,4)}},28366:function(e,l,t){t.d(l,{Z:function(){return startOfToday}});var o=t(69119);function startOfToday(){return(0,o.Z)(Date.now())}},74629:function(e,l,t){t.d(l,{MH:function(){return getEclipseSkullsBonus},WA:function(){return getDeathNote},jS:function(){return getDeathNoteRank}});var o=t(70473),i=t(67896);let getDeathNote=(e,l)=>{let t=null==e?void 0:e.reduce((e,l)=>{let{kills:t}=l;return(null==e?void 0:e.length)===0?t:null==t?void 0:t.map((l,t)=>l+e[t])},[]);return o.deathNote.reduce((e,i)=>{var n,a,r;let{rawName:s,world:u}=i,d=null===o.mapEnemies||void 0===o.mapEnemies?void 0:o.mapEnemies[s],v=null==t?void 0:t[d],c=getDeathNoteRank(l,v);return{...e,[u]:{...(null==e?void 0:e[u])||{},rank:((null==e?void 0:null===(n=e[u])||void 0===n?void 0:n.rank)||0)+c,mobs:[...(null==e?void 0:null===(a=e[u])||void 0===a?void 0:a.mobs)||[],{rawName:s,displayName:null===o.monsters||void 0===o.monsters?void 0:null===(r=o.monsters[s])||void 0===r?void 0:r.Name,kills:v}]}}},{})},getDeathNoteRank=(e,l)=>25e3>l?0:1e5>l?1:25e4>l?2:5e5>l?3:1e6>l?4:5e6>l?5:1e8>l?7:1e9<l&&(0,i.RB)(null==e?void 0:e.rift,"Eclipse_Skulls")?20:10,getEclipseSkullsBonus=e=>{var l;let t=(0,i.RB)(null==e?void 0:e.rift,"Eclipse_Skulls");return t?null===(l=Object.entries((null==e?void 0:e.deathNote)||{}))||void 0===l?void 0:l.reduce((e,l)=>{let[t,{mobs:o}]=l,i=null==o?void 0:o.reduce((e,l)=>{let{kills:t}=l;return e+(t>=1e9?1:0)},0);return e+i},0):0}},87450:function(e,l,t){t.d(l,{parseData:function(){return parseData}});var o=t(56552),i=t(54685),n=t(74805),a=t(1972),r=t(74861),s=t(64569);let u={1:!0,2:!0,3:!0,4:!0},d={0:"chopping",1:"fishing",2:"catching",3:"mining"},getHighscores=e=>{var l,t;let o=(null==e?void 0:null===(l=e.FamilyValuesMap)||void 0===l?void 0:l.ColosseumHighscores)||(null==e?void 0:e.FamValColosseumHighscores),i=(null==e?void 0:null===(t=e.FamilyValuesMap)||void 0===t?void 0:t.MinigameHiscores)||(null==e?void 0:e.FamValMinigameHiscores);return{coloHighscores:parseColosseum(o),minigameHighscores:parseMinigame(i)}},parseColosseum=e=>e.filter((e,l)=>u[l]).map(e=>parseFloat(e)),parseMinigame=e=>e.filter((e,l)=>d[l]).map((e,l)=>({minigame:d[l],score:e}));var v=t(30925);let getGemShop=e=>{let l=(0,v.tryToParse)(null==e?void 0:e.GemItemsPurchased)||(null==e?void 0:e.GemItemsPurchased);return parseGemShop(l)},parseGemShop=e=>e;var c=t(25081),_=t(88054),m=t(23515),p=t(29129),h=t(96707),f=t(15815),g=t(70473);let getForge=(e,l)=>{let t=null==e?void 0:e.ForgeItemOrder,o=(null==e?void 0:e.ForgeItemQuantity)||(null==e?void 0:e.ForgeItemQty),i=(null==e?void 0:e.FurnaceLevels)||(null==e?void 0:e.ForgeLV);return parseForge(t,o,i,l)},y=[{name:"New Forge Slot",maxLevel:16,description:"extra slots to smelt ores",costMulti:void 0},{name:"Ore Capacity Boost",maxLevel:50,description:"Increases max ores per slot",costMulti:1.41},{name:"Forge Speed",maxLevel:90,description:"Ores are turned into bars faster",costMulti:1.2},{name:"Forge EXP Gain",maxLevel:85,description:"Increased EXP gain from using the forge",costMulti:1.21},{name:"Bar Bonanza",maxLevel:75,description:"Increased chance to make an extra bar",costMulti:1.25},{name:"Puff Puff Go",maxLevel:60,description:"Increased chance for a card drop while afk",costMulti:1.33}],parseForge=(e,l,t,o)=>{var i,n,a;let r=null==y?void 0:y.map((e,l)=>({...e,level:t[l]})),s=null!==(n=null==o?void 0:null===(i=o.gemShopPurchases)||void 0===i?void 0:i.find((e,l)=>104===l))&&void 0!==n?n:0,u=[],d=0;for(let t=0;t<(null==e?void 0:e.length);t+=3){let[o,i,n]=null==e?void 0:e.slice(t,t+3),[v,c,_]=l.slice(t,t+3),m=null===g.items||void 0===g.items?void 0:g.items[i],p=null===g.items||void 0===g.items?void 0:g.items[o],h=d<s,f=Math.round(100+5*(null==r?void 0:null===(a=r[2])||void 0===a?void 0:a.level)),y=getSpeed(f,m,h),b=Math.round(v/(null==p?void 0:p.Amount))*((null==p?void 0:p.Cooldown)/(4*y));u=[...u,{isBrimestone:h,ore:{...p,rawName:o,quantity:v,timeTillEmpty:1e3*b},barrel:{...m,rawName:i,quantity:c},bar:{...null===g.items||void 0===g.items?void 0:g.items[n],rawName:n,quantity:_}}],d++}return{list:u,upgrades:r}},getSpeed=(e,l,t)=>{let o=Math.round(e)/100;return o*=(null==l?void 0:l.Effect)==="SpeedForge"?null==l?void 0:l.Amount:1,t&&(o*=1.5),.25*o};var b=t(47212),S=t(9339),k=t(72664);let getTasks=e=>{var l;let t=(null==e?void 0:e.Tasks)||[(0,v.tryToParse)(null==e?void 0:e.TaskZZ0),(0,v.tryToParse)(null==e?void 0:e.TaskZZ1),(0,v.tryToParse)(null==e?void 0:e.TaskZZ2),(0,v.tryToParse)(null==e?void 0:e.TaskZZ3),(0,v.tryToParse)(null==e?void 0:e.TaskZZ4),(0,v.tryToParse)(null==e?void 0:e.TaskZZ5)],o=null===g.tasks||void 0===g.tasks?void 0:null===(l=g.tasks.map((e,l)=>null==e?void 0:e.map((e,o)=>{var i,n,a,r,s,u;let d=null==t?void 0:null===(n=t[0])||void 0===n?void 0:null===(i=n[l])||void 0===i?void 0:i[o],v=null==t?void 0:null===(r=t[1])||void 0===r?void 0:null===(a=r[l])||void 0===a?void 0:a[o],c=e;if(8===o){let e=null==t?void 0:null===(s=t[5])||void 0===s?void 0:s[l];c=null===g.tasks||void 0===g.tasks?void 0:null===(u=g.tasks[l])||void 0===u?void 0:u[8+e]}return{...c,stat:d,level:v,meritReward:Math.round(1+Math.floor(v/5))}})))||void 0===l?void 0:l.map(e=>null==e?void 0:e.slice(0,9)),i=null===g.merits||void 0===g.merits?void 0:g.merits.map((e,l)=>null==e?void 0:e.map((e,o)=>{var i,n;let a=null==t?void 0:null===(n=t[2])||void 0===n?void 0:null===(i=n[l])||void 0===i?void 0:i[o];return{...e,level:a}}));return{tasks:parseTasks(t),tasksDescriptions:o,meritsDescriptions:i}},parseTasks=e=>e;var T=t(71345),w=t(10924),M=t(32387),P=t(80488),O=t(89260),C=t(15893),D=t(64605),G=t(73592),B=t(70508),E=t(19225),N=t(74629),A=t(5432),Z=t(19834),R=t(16727),I=t(20385),F=t(95331),x=t(67896),L=t(4056);let j=["Get_as_much_total_stats_as_possible,_STR_AGI_WIS_and_LUK_combined.","Get_as_much_STR_stat_as_you_can.","Get_as_much_AGI_stat_as_you_can.","Get_as_much_WIS_stat_as_you_can.","Get_as_much_LUK_stat_as_you_can.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_beginner","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_warrior.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_archer.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_mage.","Get_the_highest_Accuracy_stat_you_can.","Get_the_highest_Defence_stat._Tank_mains;_it's_your_moment!","Get_the_highest_Movement_Speed_you_can.","Get_the_highest_Critical_Chance_%_you_can.","Spawn_as_many_Giant_Mobs_this_week_as_you_can.","Get_the_highest_Max_HP_as_possible.","Get_the_highest_Max_MP_as_possible.","Get_as_many_individual_hits_on_the_DPS_Dummy_as_you_can_within_the_timer.","Get_as_much_Mining_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Choppin_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Fishing_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Catching_Efficiency_(number_of_digits)_as_you_can."],U=[{effect:"+{,Base_STR",divider:12},{effect:"+{,Base_AGI",divider:12},{effect:"+{,Base_WIS",divider:12},{effect:"+{,Base_LUK",divider:10},{effect:"+{%,Total_DMG",divider:3},{effect:"+{%,Class_EXP",divider:4},{effect:"+{%,Skill_Eff",divider:5}],q=[{effect:"1_in_100000_chance_for_Trophy_per_hr_of_Nothing_AFK",cost:24},{effect:"1.25x_Dungeon_Credits_and_Flurbos_gained",cost:200},{effect:"-30%_Kitchen_Upgrade_Costs",cost:750},{effect:"1.20x_Chance_to_find_Sailing_Artifacts",cost:2500},{effect:"Dirty_Shovel_digs_up_+25%_more_Gold_Nuggets",cost:1e4},{effect:"+100_Star_Talent_Pts",cost:2e4},{effect:"World_6_Bonus..._I_wonder_what_it_will_be...",cost:4e4},{effect:"World_7_Bonus..._I_wonder_what_it_will_be...",cost:6e4}],getIslands=e=>{var l,t,o,i,n,a,r,s,u,d;let c=null===(l=(null==e?void 0:null===(t=e.accountOptions)||void 0===t?void 0:t[169])||"")||void 0===l?void 0:l.split(""),_=null==e?void 0:null===(i=e.accountOptions)||void 0===i?void 0:null===(o=i[169])||void 0===o?void 0:o.length,m={0:0,1:8,2:32,3:80,4:200,5:500},h={0:0,1:15,2:45,3:100,4:200,5:500},f=[{name:"Trash",description:"Trade_garbage_that_washs_up_each_day_for_items",preUnlockCost:4,baseCost:10},{name:"Rando",description:"Guaranteed_Random_Event_once_a_week",preUnlockCost:12,baseCost:12},{name:"Crystal",description:"Fight_daily_giant_crystal_mobs_that_drop_candy",preUnlockCost:20,baseCost:15},{name:"Seasalt",description:"Catch_legendary_fish_for_crafting_World_6_equips",preUnlockCost:28,baseCost:50},{name:"Shimmer",description:"Do_Weekly_Challenges_for_Shimmer_Upgrades",preUnlockCost:40,baseCost:25},{name:"Fractal",description:"Dump_your_time_candy_here_for..._nothing...?",preUnlockCost:52,baseCost:70}].map((l,t)=>({...l,unlocked:(null==c?void 0:c.indexOf(null===v.number2letter||void 0===v.number2letter?void 0:v.number2letter[t]))!==-1,cost:0===_?l.preUnlockCost+(null==m?void 0:m[_]):l.baseCost+(null==h?void 0:h[_]),...extraIslandDetails(e,t)})),g=null==e?void 0:null===(n=e.accountOptions)||void 0===n?void 0:n[162],y=(0,p.k)(null==e?void 0:e.bribes,"Bottle_Service"),b=(0,w.U7)(null==e?void 0:e.bundles,"bun_p")?30:0,S=null==e?void 0:null===(u=e.quests)||void 0===u?void 0:null===(s=u["Yum-Yum_Desert"])||void 0===s?void 0:null===(r=s.find(e=>{let{name:l}=e;return"Omar_Da_Ogar"===l}))||void 0===r?void 0:null===(a=r.npcQuests)||void 0===a?void 0:a.reduce((e,l)=>{let{completed:t}=l;return e+((null==t?void 0:t.length)>0?1:0)},0),k=null==e?void 0:null===(d=e.accountOptions)||void 0===d?void 0:d[164];return{islandsUnlocked:_,bottles:g,bottlesPerDay:Math.floor(4*(1+(y+(10*k+10*S+b))/100)),list:f}},extraIslandDetails=(e,l)=>{var t,o,i,n,a,r,s,u,d,c,_;let m={};if(0===l){let l=null==e?void 0:null===(t=e.accountOptions)||void 0===t?void 0:t[161],n=["data/StampB47","data/StampB32","data/StampA38","data/StampA39","etc/Trash_Currency","etc/Bribe","data/Island1","data/TalentBook1","data/EquipmentNametag6b"],a=[20,40,80,300,7*Math.pow(1.4,null==e?void 0:null===(o=e.accountOptions)||void 0===o?void 0:o[163]),135,25*Math.pow(1.5,null==e?void 0:null===(i=e.accountOptions)||void 0===i?void 0:i[164]),450,1500].map((l,t)=>{var o,i;let a=4===t?null==e?void 0:null===(o=e.accountOptions)||void 0===o?void 0:o[163]:6===t?null==e?void 0:null===(i=e.accountOptions)||void 0===i?void 0:i[164]:null;return{cost:Math.round(l),effect:null==n?void 0:n[t],upgrades:a}});m={trash:l,learnMore:!0,shop:a}}else if(1===l)m={learnMore:!0,shop:[{effect:"5% Loot (".concat(null==e?void 0:null===(n=e.accountOptions)||void 0===n?void 0:n[166],")"),cost:Math.round(10*Math.pow(1.5,null==e?void 0:null===(a=e.accountOptions)||void 0===a?void 0:a[166]))},{effect:"3% Double boss (".concat(null==e?void 0:null===(r=e.accountOptions)||void 0===r?void 0:r[167],")"),cost:Math.round(6*Math.pow(1.4,null==e?void 0:null===(s=e.accountOptions)||void 0===s?void 0:s[167]))},{effect:"Star book",cost:200}]};else if(4===l){let l=null==e?void 0:null===(u=e.accountOptions)||void 0===u?void 0:u[183],t=(0,v.notateNumber)(null==e?void 0:null===(d=e.accountOptions)||void 0===d?void 0:d[172]),o=null==e?void 0:null===(c=e.accountOptions)||void 0===c?void 0:c[173],i=null==U?void 0:U.map((l,t)=>{var o,i;let{effect:n,divider:a}=l,r=null==e?void 0:null===(o=e.accountOptions)||void 0===o?void 0:o[174+t];return{effect:null==n?void 0:null===(i=n.replace("{",r))||void 0===i?void 0:i.replace(","," "),bonus:r,cost:1+Math.floor(r/a)}});m={shop:i,currentTrial:j[l],bestDpsEver:t,shimmerCurrency:o,learnMore:!0}}else if(5===l){let l=null==e?void 0:null===(_=e.accountOptions)||void 0===_?void 0:_[184];m={hoursAfk:l,shop:null==q?void 0:q.map(e=>({...e,unlocked:l>(null==e?void 0:e.cost)})),learnMore:!0}}return m};var H=t(72973),K=t(15265);let parseData=(e,l,t,o,i)=>{let n,a;try{console.info("%cStart Parsing","color:orange"),(null==e?void 0:e.PlayerDATABASE)&&(l=Object.keys(null==e?void 0:e.PlayerDATABASE),a=Object.values(null==e?void 0:e.PlayerDATABASE).reduce((e,l,t)=>{var o;return{...e,...null===(o=Object.entries(l))||void 0===o?void 0:o.reduce((e,l)=>{let[o,i]=l;return{...e,["".concat(o,"_").concat(t)]:i}},{})}},{}),e={...e,...a});let r=serializeData(e,l,t,o,i);return n=null==r?void 0:r.accountData,a=null==r?void 0:r.charactersData,console.info("data",{account:n,characters:a}),console.info("%cParsed successfully","color: green"),{account:n,characters:a}}catch(e){console.error("Error while parsing data",e),void 0!==window.gtag&&window.gtag("event","error",{event_category:"error",event_label:"engagement",value:JSON.stringify(e)})}},serializeData=(e,l,t,u,d)=>{var y,j,U,q,W,V,X,z,Q,Y,J,$,ee,el;let et={},eo,ei=(0,o.ql)(e,l);et.companions=(0,w.Rf)(t),et.bundles=(0,w.kU)(e),et.serverVars=d,et.accountOptions=(null==e?void 0:e.OptionsListAccount)||(0,v.tryToParse)(null==e?void 0:e.OptLacc),et.bribes=(0,p.t)(e),et.timeAway=(0,v.tryToParse)(null==e?void 0:e.TimeAway)||(null==e?void 0:e.TimeAway),et.alchemy=(0,_.p4)(e,et,ei),et.equippedBubbles=(0,_.Tw)(e,null===(y=et.alchemy)||void 0===y?void 0:y.bubbles,ei),et.storage=(0,m.cF)(e),et.saltLick=(0,M.U)(e,et.storage),et.dungeons=(0,P.MR)(e,et.accountOptions),et.prayers=(0,f.hn)(e,et.storage),et.cards=(0,i.vm)(e,et),et.gemShopPurchases=getGemShop(e),et.guild=(0,D.Sk)(e,u),et.currencies=(0,w.DE)(e,et),et.stamps=(0,a.t2)(e),et.obols=(0,n.dR)(e),et.looty=(0,w.NQ)(e);let{tasks:en,tasksDescriptions:ea,meritsDescriptions:er}=getTasks(e);et.tasks=en,et.tasksDescriptions=ea,et.meritsDescriptions=er,et.breeding=(0,A.N5)(e,et),et.cooking=(0,O.Tt)(e,et,ei),et.divinity=(0,Z.y0)(e,ei),et.postOfficeShipments=(0,L.NU)(e),et.lab=(0,C.Cs)(e,ei,et),et.towers=(0,b.d4)(e,et),et.shrines=(0,s.Xz)(e,et),et.statues=(0,r.Xl)(e,ei),et.achievements=(0,S.j)(e),et.lab.connectedPlayers=null===(j=et.lab.connectedPlayers)||void 0===j?void 0:j.map(e=>{var l,t;return{...e,isDivinityConnected:(null==et?void 0:null===(t=et.divinity)||void 0===t?void 0:null===(l=t.linkedDeities)||void 0===l?void 0:l[null==e?void 0:e.playerId])===4||(0,C.p8)(e,4)}}),et.rift=(0,x.wE)(e),et.arcade=(0,T.z)(e,et,d);let es=(0,C.c9)(et.lab.labBonuses,7);et.stamps=(0,a.Md)(et.stamps,es);let eu=(0,C.c9)(et.lab.labBonuses,10);if(et.alchemy.vials=(0,_.nm)(et.alchemy.vials,eu),(0,x.RB)(et.rift,"Vial_Mastery")){let e=null==et?void 0:null===(el=et.alchemy)||void 0===el?void 0:null===(ee=el.vials)||void 0===ee?void 0:ee.filter(e=>{let{level:l}=e;return 13===l}),l=1+2*(null==e?void 0:e.length)/100;et.alchemy.vials=(0,_.nm)(et.alchemy.vials,eu*l)}et.equinox=(0,H.B)(e,et);let ed=(0,C.c9)(et.lab.labBonuses,8),ev=(0,C.pc)(et.lab.jewels,16,ed);et.cooking.meals=(0,O.wR)(et.cooking.meals,ev);let ec=null==ei?void 0:ei.map(e=>{var l,t,o;let i=null==e?void 0:e.PersonalValuesMap;return{level:null!==(t=null==i?void 0:null===(l=i.StatList)||void 0===l?void 0:l[4])&&void 0!==t?t:0,class:null!==(o=null===g.classes||void 0===g.classes?void 0:g.classes[null==e?void 0:e.CharacterClass])&&void 0!==o?o:""}});et.starSigns=(0,h.kz)(e),et.constellations=(0,h.tp)(e),et.charactersLevels=ec,eo=ei.map(l=>(0,o.SD)(l,ec,{...et},e)),et.lab=(0,C.Cs)(e,ei,et,eo),U=[1,2,3,4,5],et.finishedWorlds=void 0===U?void 0:U.reduce((e,l)=>({...e,["World".concat(l)]:(0,E.jZ)(eo,l)}),{}),et.statues=(0,r.hE)(et.statues,eo);let e_=null==eo?void 0:eo.map(e=>{let{name:l,skillsInfo:t}=e;return{name:l,skillsInfo:t}});et.totalSkillsLevels=(0,w.B4)(e_),et.construction=(0,b.VR)(e,et),et.atoms=(0,F.nK)(e,et);let em=(0,R.yN)(e,eo,et);et.alchemy.p2w.sigils=(0,_.RG)(et.alchemy.p2w.sigils,em),et.alchemy.liquidCauldrons=(0,_.jd)(et),et.gaming=(0,I.gm)(e,eo,et,d),et.atoms=(0,F.nK)(e,et),et.sailing=(0,R.x0)(e,em,eo,et,d,ec);let ep=(0,w.tS)(e_);eo=eo.map(e=>({...e,skillsInfo:ep[null==e?void 0:e.name]})),et.highscores=getHighscores(e),et.shopStock=(0,c.u6)(e),et.forge=getForge(e,et),et.refinery=(0,k.wt)(e,et.storage,et.tasks),et.printer=(0,G.h)(e,eo,et),et.traps=(0,B.a)(ei,eo,et),et.quests=(0,E.zz)(eo),et.islands=getIslands(et),et.deathNote=(0,N.WA)(eo,et),et.anvil=eo.map(e=>{let{anvil:l}=e;return l});let eh=parseFloat(null==e?void 0:e.MoneyBANK),ef=null==eo?void 0:eo.reduce((e,l)=>e+parseFloat(null==l?void 0:l.money),0),eg=eh+ef;et.currencies.rawMoney=eg,et.currencies.money=(0,v.getCoinsArray)(eg),et.currencies.gems=null==e?void 0:e.GemsOwned,et.currencies.KeysAll=(0,w.Ix)(null==et?void 0:null===(q=et.currencies)||void 0===q?void 0:q.KeysAll,eo,et),et.currencies.ColosseumTickets=(0,w.cg)(null==et?void 0:null===(W=et.currencies)||void 0===W?void 0:W.ColosseumTickets,eo,et),et.cooking.kitchens=(0,O.vu)(e,eo,et),et.libraryTimes=(0,w.W9)(e,eo,et),et.breeding=(0,A.XM)(e,et),et.divinity.deities=(0,Z.wl)(et),eo=null==eo?void 0:eo.map(e=>{let{carryCapBags:l}=e;return e.carryCapBags=null==l?void 0:l.map(l=>{let t=(0,w.HA)(null==l?void 0:l.Class),o=(0,w.z3)(t,e,et);return{...l,capacityPerSlot:o,maxCapacity:o*(null==e?void 0:e.inventorySlots)}}),e.constructionSpeed=(0,o.x6)(e,et),e.constructionExpPerHour=(0,o.NA)(e,et),e}),et.shrinesExpBonus=(0,s.n)(eo,et);let ey=Math.floor((null==et?void 0:null===(z=et.deathNote)||void 0===z?void 0:null===(X=z[0])||void 0===X?void 0:null===(V=X.mobs)||void 0===V?void 0:V[0].kills)/1e6),eb=(null===(Y=et.lab.labBonuses)||void 0===Y?void 0:null===(Q=Y[13])||void 0===Q?void 0:Q.active)?1.5*ey:0,eS=ey*(null===($=et.lab.labBonuses)||void 0===$?void 0:null===(J=$[9])||void 0===J?void 0:J.bonusOn);return et.lab.labBonuses=(0,C.ww)(et.lab.labBonuses,eS+eb,9),et.totems=(0,K.Ew)(e),{accountData:et,charactersData:eo}}},73592:function(e,l,t){t.d(l,{J:function(){return calcTotals},h:function(){return getPrinter}});var o=t(30925),i=t(19834),n=t(16727),a=t(30796),r=t(10924),s=t(88344),u=t(95331);let getPrinter=(e,l,t)=>{let i=(0,o.tryToParse)(null==e?void 0:e.Print)||(null==e?void 0:e.Printer),n=(0,o.tryToParse)(null==e?void 0:e.PrinterXtra)||(null==e?void 0:e.PrinterXtra);return parsePrinter(i,n,l,t)},parsePrinter=(e,l,t,s)=>{var u,d,v,c,_,m,p;let h=(0,i.s8)(s,t,3),f=(0,n.YS)(null==s?void 0:null===(u=s.sailing)||void 0===u?void 0:u.artifacts,"Gold_Relic"),g=(null==f?void 0:f.acquired)===3?null==f?void 0:f.eldritchMultiplier:(null==f?void 0:f.acquired)===2?null==f?void 0:f.ancientMultiplier:0,y=null==s?void 0:null===(c=s.lab)||void 0===c?void 0:null===(v=c.labBonuses)||void 0===v?void 0:null===(d=v.find(e=>"Wired_In"===e.name))||void 0===d?void 0:d.active,b=null==s?void 0:null===(_=s.lab)||void 0===_?void 0:_.connectedPlayers,S=null==s?void 0:null===(m=s.accountOptions)||void 0===m?void 0:m[125],k=null==s?void 0:null===(p=s.accountOptions)||void 0===p?void 0:p[138],T=null==t?void 0:t.filter(e=>(null==e?void 0:e.class)==="Divine_Knight"),w=null==T?void 0:T.reduce((e,l)=>{let{talents:t}=l,o=(0,a._X)(t,3,"KING_OF_THE_REMEMBERED",!1,!0);return o>e?o:e},0),M=(0,r.fi)(null==s?void 0:s.totalSkillsLevels,null==s?void 0:s.rift,3),P=e.slice(5,e.length);return t.map((e,t)=>{let i=P.slice(14*t,14*t+14);if(l){let e=null==l?void 0:l.slice(10*t,10*t+10);i.splice(-4,0,e),i=i.flat()}return i.reduce((e,l,n,a)=>{if(n%2==0){let l=a.slice(n,n+2).map((e,l)=>e),r=l[1],s=null==b?void 0:b.find(e=>{let{playerId:l}=e;return l===t}),u=(1+S*(2+g)/100)*(1+w*(0,o.lavaLog)(k)/100)*(1+M/100),d=y&&s?h.includes(t)?6*u:2*u:h.includes(t)?3*u:u;r*=d;let v=[{name:"Lab",value:s&&y?2:0},{name:"Harriep God",value:h.includes(t)?3:0},{name:"Skill Mastery",value:1+M/100},{name:"Divine Knight",value:1+w*(0,o.lavaLog)(k)/100},{name:"Gold Relic",value:1+S*(2+g)/100}];return[...e,{item:l[0],value:l[1],active:n>=i.length-4,boostedValue:r,breakdown:v}]}return e},[])})},calcTotals=(e,l)=>{var t,o;let{printer:i,storage:n}=e||{},a=(0,u.Xp)(null==e?void 0:null===(t=e.accountOptions)||void 0===t?void 0:t[133]),r=null==i?void 0:i.reduce((e,l)=>(l.forEach(l=>{let{boostedValue:t,item:o,active:i}=l;if("Blank"!==o&&i){if(null==e?void 0:e[o]){var r;e[o]={...e[o],boostedValue:t+(null===(r=e[o])||void 0===r?void 0:r.boostedValue)}}else{let l=(0,s.ju)(n,o,!0,!0);e[o]={boostedValue:t,atomable:l>=a-.01*a,storageItem:l}}}}),e),{});r=calcAtoms(r,a,l);let d=null===(o=Object.entries(r))||void 0===o?void 0:o.reduce((e,l)=>{var t;let[,o]=l;return e+(null!==(t=null==o?void 0:o.atoms)&&void 0!==t?t:0)},0);return{...r,atom:{boostedValue:d,atoms:d}}},calcAtoms=function(){var e;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return null===(e=Object.entries(l))||void 0===e?void 0:e.reduce((e,l)=>{let[i,n]=l,{boostedValue:a,atomable:r,storageItem:s}=n,u=a,d;if(null==o?void 0:o.checked)d=r;else{let e=a>=t&&!r,l=a>t-s&&!r;u=e?a-t:l?a-(t-s):a,d=e||l||r}return e[i]={...n,...d?{atoms:u/1e7}:{}},e},{})}},72664:function(e,l,t){t.d(l,{B4:function(){return hasMissingMats},wt:function(){return getRefinery}});var o=t(30925),i=t(70473),n=t(88344);let getRefinery=(e,l,t)=>{let i=(0,o.tryToParse)(null==e?void 0:e.Refinery)||(null==e?void 0:e.Refinery);return parseRefinery(i,l,t)},parseRefinery=(e,l,t)=>{var o,a,r,s,u;let d=null==e?void 0:e[1],v=null==e?void 0:e[2],c=null==d?void 0:d.reduce((e,l,t)=>{var o;return"Blank"!==l?[...e,{rawName:l,name:null===(o=i.items[l])||void 0===o?void 0:o.displayName,amount:null==v?void 0:v[t],owner:"refinery"}]:e},[]),_=[...l,...c],m=null==t?void 0:null===(a=t[2])||void 0===a?void 0:null===(o=a[2])||void 0===o?void 0:o[6],p=null==e?void 0:e.slice(3,3+(null==e?void 0:null===(r=e[0])||void 0===r?void 0:r[0])),h=null==p?void 0:p.reduce((e,l,t)=>{let o="Refinery".concat(t+1),[a,r,,s,u]=l,{saltName:d,cost:v}=null===i.refinery||void 0===i.refinery?void 0:i.refinery[o],c=null==v?void 0:v.map(e=>{let l=(0,n.ju)(_,null==e?void 0:e.name,!0);return{...e,totalAmount:l}});return[...e,{saltName:d,cost:c,rawName:o,powerCap:getPowerCap(r),refined:a,rank:r,active:s,autoRefinePercentage:u}]},[]);return{salts:h,refinerySaltTaskLevel:m,timePastCombustion:null==e?void 0:null===(s=e[0])||void 0===s?void 0:s[1],timePastSynthesis:null==e?void 0:null===(u=e[0])||void 0===u?void 0:u[2],totalLevels:null==h?void 0:h.reduce((e,l)=>{let{rank:t}=l;return e+t},0),refineryStorage:c}},getPowerCap=e=>{var l;let t=null===(l=i.randomList[18])||void 0===l?void 0:l.split(" ");return parseFloat(Math.max(null==t?void 0:t[Math.min(e,(null==t?void 0:t.length)-2)],25))},hasMissingMats=(e,l,t,o)=>null==t?void 0:t.filter(t=>{var i;let{rawName:n,quantity:a,totalAmount:r}=t;return r<Math.floor(Math.pow(l,(null==n?void 0:n.includes("Refinery"))&&e<=(null==o?void 0:null===(i=o.refinery)||void 0===i?void 0:i.refinerySaltTaskLevel)?1.3:1.5))*a})},25081:function(e,l,t){t.d(l,{gN:function(){return getRawShopItems},u6:function(){return getShops}});var o=t(30925),i=t(70473);let getShops=e=>{let l=(null==e?void 0:e.ShopStock)||(0,o.tryToParse)(null==e?void 0:e.ShopStock);return parseShops(l)},parseShops=e=>e.reduce((e,l,t)=>{var o;let a=null===(o=Object.values(l))||void 0===o?void 0:o.reduce((e,l,o)=>{var a,r,s,u;let d=null==n?void 0:null===(a=n[t])||void 0===a?void 0:a[o],v=parseInt(l)||0;return v>0&&d?[...e,{amount:l,...null===(s=i.shops[t])||void 0===s?void 0:null===(r=s.items)||void 0===r?void 0:r[o],shopName:null===(u=i.shops[t])||void 0===u?void 0:u.name}]:e},[]);return[...e,a]},[]),getRawShopItems=()=>{var e;return null===(e=Object.entries(i.shops))||void 0===e?void 0:e.reduce((e,l)=>{var t;let[o,{items:i}]=l,a=null==i?void 0:null===(t=i.filter((e,l)=>{var t;return null==n?void 0:null===(t=n[o])||void 0===t?void 0:t[l]}))||void 0===t?void 0:t.map(e=>{let{rawName:l}=e;return l});return[...e,...a]},[]).toSimpleObject()},n={0:[8,14,17,23].toSimpleObject(),1:[2,8,9,13].toSimpleObject(),2:[0,1,2,3,4,8,9,10,18].toSimpleObject(),3:[12].toSimpleObject(),4:[0,1,2,8,9,10,19,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject()}},70508:function(e,l,t){t.d(l,{a:function(){return getTraps},q:function(){return calcTotalCritters}});var o=t(70473);let getTraps=e=>parseTraps(e),parseTraps=e=>e.map(e=>{let l=(null==e?void 0:e.PldTraps)||[];return l.reduce((e,l)=>{var t;let[i,,n,a,r,s,u]=l;if(-1===i||"-1"===i)return e;let d=o.traps[s].find(e=>e.trapTime===u),v=u-n;return a?[...e,{name:null===(t=o.items[a])||void 0===t?void 0:t.displayName,rawName:a,crittersQuantity:r,trapType:s,timeLeft:new Date().getTime()+1e3*v,trapData:d}]:e},[])}),calcTotalCritters=e=>null==e?void 0:e.reduce((e,l)=>(l.reduce((l,t)=>{var o;let{crittersQuantity:i,rawName:n}=t;e={...e,[n]:(null!==(o=null==e?void 0:e[n])&&void 0!==o?o:0)+i}},{}),e),{})}}]);