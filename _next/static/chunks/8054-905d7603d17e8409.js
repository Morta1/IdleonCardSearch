"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8054],{9339:function(l,e,n){n.d(e,{j:function(){return getAchievements},k:function(){return getAchievementStatus}});var i=n(42168),o=n(70473);let getAchievements=l=>{let e=(0,i.tryToParse)(null==l?void 0:l.AchieveReg)||(null==l?void 0:l.AchieveReg),n=(0,i.tryToParse)(null==l?void 0:l.SteamAchieve)||(null==l?void 0:l.SteamAchieve);return parseAchievements(e,n)},parseAchievements=(l,e)=>null===o.achievements||void 0===o.achievements?void 0:o.achievements.map((n,i)=>{let{steamIndex:o}=n,t=o?(null==e?void 0:e[o])===-1:(null==l?void 0:l[i])===-1,u=o?null==e?void 0:e[o]:null==l?void 0:l[i];return{...n,completed:t,...u>=0?{currentQuantity:u}:{}}}),getAchievementStatus=(l,e)=>{if(!(null==l?void 0:l[e]))return 0;switch(e){case 27:case 37:case 44:case 107:case 109:case 117:return 5;case 108:return 10;case 99:case 104:return 20;default:var n;return(null==l?void 0:null===(n=l[e])||void 0===n?void 0:n.completed)?1:0}}},88054:function(l,e,n){n.d(e,{RG:function(){return applyArtifactBonusOnSigil},Tw:function(){return getEquippedBubbles},Vq:function(){return getSigilBonus},YG:function(){return getVialsBonusByEffect},a2:function(){return getBubbleAtomCost},iu:function(){return getVialsBonusByStat},jd:function(){return getLiquidCauldrons},ln:function(){return h},nm:function(){return applyVialsMulti},om:function(){return getBubbleBonus},p4:function(){return getAlchemy},y7:function(){return getActiveBubbleBonus}});var i=n(42168),o=n(70473),t=n(16727),u=n(32387),d=n(89260),r=n(15893),a=n(10924),v=n(1972),s=n(71345);let c={0:"power",1:"quicc",2:"high-iq",3:"kazam"},m={0:"water drops",1:"liquid n2",2:"trench h2o"},p={0:"O",1:"G",2:"P",3:"Y"},g={_:"power",a:"quicc",b:"high-iq",c:"kazam"},getAlchemy=(l,e,n)=>{var o,t;let u=(0,i.createArrayOfArrays)(null==l?void 0:l.CauldronInfo)||(null==l?void 0:l.CauldronInfo),d=(0,i.tryToParse)(null==l?void 0:l.CauldronJobs1)||(null==l?void 0:null===(o=l.CauldronJobs)||void 0===o?void 0:o[1]),r=getCauldronStats(l);return(null==u?void 0:u[8])&&(null==u?void 0:null===(t=u[8])||void 0===t?void 0:t.length)===0&&(u[8]=r.slice(0,16)),parseAlchemy(l,u,d,r,n)},parseAlchemy=(l,e,n,i,o)=>{let t=null==n?void 0:n.map((l,e)=>({activity:l,index:e})),u=getPay2Win(l,t,o),d=getBubbles(e),r=getCauldrons(null==e?void 0:e[5],i.slice(0,16),u,d,t),a=getVials(null==e?void 0:e[4]);return{p2w:u,bubbles:d,vials:a,cauldrons:r,cauldronsInfo:i,multiplierArray:null==e?void 0:e[10],liquids:null==e?void 0:e[6]}},getLiquidCauldrons=l=>{var e,n;let i=null==l?void 0:null===(e=l.alchemy)||void 0===e?void 0:e.liquids,o=null==l?void 0:null===(n=l.alchemy)||void 0===n?void 0:n.cauldronsInfo.slice(18);return i.map((e,n)=>{var i,t,c,m,p,g,h,f,_,y,b,B,C,M,S;let w=getCauldronBrewBonus(n+4,o[4*n][1]),x=null!==(S=null==l?void 0:null===(i=l.gemShopPurchases)||void 0===i?void 0:i.find((l,e)=>106===e))&&void 0!==S?S:0,T=(0,u.W)(null==l?void 0:l.saltLick,5),k=0;x>n&&(k=.5+T/100),(null==l?void 0:null===(t=l.accountOptions)||void 0===t?void 0:t[123])>n&&(k=0===k?1:T/100+2);let A=getBubbleBonus(null==l?void 0:null===(c=l.alchemy)||void 0===c?void 0:c.bubbles,"kazam","DA_DAILY_DRIP",!1),I=getVialsBonusByEffect(null==l?void 0:null===(m=l.alchemy)||void 0===m?void 0:m.vials,null,"Liquid".concat(n+1,"Cap")),E=(0,r.c9)(null==l?void 0:l.lab.labBonuses,8),O=(0,r.pc)(null==l?void 0:l.lab.jewels,16,E),P=(0,d.F4)(l,null,"Liquid".concat(0===n||1===n?"12":"34"),O),L=(0,a.pA)(null==l?void 0:l.rift,null==l?void 0:null===(g=l.totalSkillsLevels)||void 0===g?void 0:null===(p=g.alchemy)||void 0===p?void 0:p.rank,4),N=(0,r.c9)(null==l?void 0:l.lab.labBonuses,6),R=null==l?void 0:null===(y=l.alchemy)||void 0===y?void 0:null===(_=y.p2w)||void 0===_?void 0:null===(f=_.liquids)||void 0===f?void 0:null===(h=f[n])||void 0===h?void 0:h.capacity,D=(0,v.mV)(null==l?void 0:l.stamps,"Cap_for_all_Liquids_in_Alchemy"),q=null===(b=(0,s.d)(null==l?void 0:null===(B=l.arcade)||void 0===B?void 0:B.shop,"Cap_for_all_Liquids"))||void 0===b?void 0:b.bonus,F=A*Math.max(Math.pow((null==l?void 0:null===(M=l.totalSkillsLevels)||void 0===M?void 0:null===(C=M.alchemy)||void 0===C?void 0:C.level)/25,.3),0),H=k+(P+5*L)/100;return Math.ceil((1+H)*(N*(10+(w+(I+(R+(F+(D+Math.ceil(q)))))))))})},getCauldronBrewBonus=(l,e)=>l<4?Math.round(10*(0,i.growth)("decay",90,100,e,0,0))/10:Math.round(e),getPay2Win=(l,e,n)=>{let o={0:4,1:5,2:6},t=e.filter((l,e)=>{let{activity:i}=l;return i<100&&i>=4&&-1!==i&&e<(null==n?void 0:n.length)}),u={},[d,r,a,v]=(0,i.tryToParse)(null==l?void 0:l.CauldronP2W)||(null==l?void 0:l.CauldronP2W);return u.cauldrons=d.toChunks(3).map((l,e)=>{let[n,i,o]=l;return{name:c[e],speed:n,newBubble:i,boostReq:o}}),u.liquids=r.toChunks(2).map((l,e)=>{let[n,i]=l;return{name:m[e],regen:n,capacity:i,players:null==t?void 0:t.filter(l=>{let{activity:n}=l;return n===(null==o?void 0:o[e])})}}).filter(l=>{let{name:e}=l;return e}),u.vials={attempts:(null==a?void 0:a[0])||0,rng:(null==a?void 0:a[1])||0},u.player={speed:(null==v?void 0:v[0])||0,extraExp:(null==v?void 0:v[1])||0},u.sigils=getSigils(l,e,n),u},getBubbles=l=>null==l?void 0:l.reduce((l,e,n)=>{var i;return n<=3?{...l,[null==c?void 0:c[n]]:null===(i=Object.keys(e))||void 0===i?void 0:i.reduce((l,i,t)=>"length"!==i?[...l,{level:parseInt(null==e?void 0:e[i])||0,index:t,rawName:"aUpgrades".concat(p[n]).concat(t),...o.cauldrons[null==c?void 0:c[n]][i]}]:l,[])}:l},{}),getEquippedBubbles=(l,e,n)=>{var o;let t=(0,i.tryToParse)(null==l?void 0:l.CauldronBubbles)||(null==l?void 0:l.CauldronBubbles);return null==t?void 0:null===(o=t.filter((l,e)=>e<(null==n?void 0:n.length)))||void 0===o?void 0:o.map(l=>null==l?void 0:l.reduce((l,n)=>{var i;let o=g[n[0]],t=o?null==n?void 0:n.substring(1):null;return[...l,t?null==e?void 0:null===(i=e[o])||void 0===i?void 0:i[t]:{}]},[])).filter(l=>l.length)},getActiveBubbleBonus=(l,e,n,o)=>{var t,u;let d=(0,a.fe)(o,4);if(d)return getBubbleBonus(null==o?void 0:null===(t=o.alchemy)||void 0===t?void 0:t.bubbles,e,n,!1);let r=null==l?void 0:l.find(l=>{let{bubbleName:e}=l;return n===e});return(r||d)&&null!==(u=(0,i.growth)(null==r?void 0:r.func,null==r?void 0:r.level,null==r?void 0:r.x1,null==r?void 0:r.x2,!1))&&void 0!==u?u:0},getBubbleBonus=(l,e,n,o,t)=>{var u,d,r,a,v;let s=null==l?void 0:null===(u=l[e])||void 0===u?void 0:u.findIndex(l=>{let{bubbleName:e}=l;return e===n});if(-1===s)return 0;let c={quicc:[0,6,9,12,14].toSimpleObject(),power:[0,2,4,7,14].toSimpleObject(),"high-iq":[0,2,6,12,14].toSimpleObject()},m=null==l?void 0:null===(d=l[e])||void 0===d?void 0:d[s],p=null==l?void 0:null===(r=l[e])||void 0===r?void 0:r[1],g=t?(0,i.growth)(null==p?void 0:p.func,null==p?void 0:p.level,null==p?void 0:p.x1,null==p?void 0:p.x2,o):1,h=null==l?void 0:null===(a=l[e])||void 0===a?void 0:a[16],f=(null==c?void 0:null===(v=c[e])||void 0===v?void 0:v[s])?(0,i.growth)(null==h?void 0:h.func,null==h?void 0:h.level,null==h?void 0:h.x1,null==h?void 0:h.x2,o):1;return(0,i.growth)(null==m?void 0:m.func,null==m?void 0:m.level,null==m?void 0:m.x1,null==m?void 0:m.x2,o)*g*f},getVials=l=>Object.keys(l).reduce((e,n,i)=>{let t=null===o.vials||void 0===o.vials?void 0:o.vials[i];return"length"!==n?[...e,{...t,level:parseInt(null==l?void 0:l[n])||0}]:e},[]).filter(l=>{let{name:e}=l;return e}),getVialsBonusByEffect=(l,e,n)=>null==l?void 0:l.reduce((l,o)=>{var t;let{func:u,level:d,x1:r,x2:a,desc:v,stat:s,multiplier:c=1}=o;return e&&!v.includes(e)||n&&!s.includes(n)?l:l+(null!==(t=(0,i.growth)(u,d,r,a))&&void 0!==t?t:0)*c},0),getVialsBonusByStat=(l,e)=>null==l?void 0:l.reduce((l,n)=>{var o;let{func:t,level:u,x1:d,x2:r,multiplier:a=1,stat:v}=n;return e!==v?l:l+(null!==(o=(0,i.growth)(t,u,d,r))&&void 0!==o?o:0)*a},0),applyVialsMulti=(l,e)=>null==l?void 0:l.map(l=>({...l,multiplier:e})),getCauldrons=(l,e,n,i,o)=>{let t=o.filter(l=>{let{activity:e}=l;return e<100&&-1!==e}),u={0:"power",4:"quicc",8:"high-iq",12:"kazam"},d={};for(let o=0,r=e.length;o<r;o+=4){let[r,a,v,s]=e.slice(o,o+4),c={speed:r,luck:a,cost:v,extra:s},m=t.filter(l=>{let{activity:e}=l;return e===o/4});d[u[o]]={progress:null==l?void 0:l[o/4],req:getMaxCauldron(null==i?void 0:i[u[o]]),players:m},Object.entries(c).forEach(l=>{var e;let[i,t]=l,[r,a]=t;d[u[o]]={...d[u[o]],boosts:{...d[u[o]].boosts,[i]:{progress:r,level:parseInt(a),req:getCauldronBonus(0,2,null===(e=n.cauldrons[o/4])||void 0===e?void 0:e.boostReq,parseInt(a))}}}})}return d},getMaxCauldron=l=>{let e=Math.pow(3*l.length,2.2);return 3+e*Math.pow(1.3,l.length)},getP2WBonus=(l,e,n)=>{let[t,u,d]=o.p2w[l][e],r=Math.max(0,(0,i.growth)(d,n,t,u));return Math.max((100-r)/100,.05)},getCauldronBonus=(l,e,n,i)=>{let o=getP2WBonus(0,2,n);return Math.floor(1+2*(Math.pow(1.5*(i+1),1.6)*Math.pow(1.073,i+1))*o)},getCauldronStats=l=>{var e,n,i;return(null==l?void 0:l.CauldUpgLVs)&&(null==l?void 0:l.CauldUpgXPs)?null==l?void 0:null===(e=l.CauldUpgLVs)||void 0===e?void 0:e.map((e,n)=>{var i;return[null==l?void 0:null===(i=l.CauldUpgXPs)||void 0===i?void 0:i[n],e]}):null==l?void 0:null===(i=l.CauldronInfo)||void 0===i?void 0:null===(n=i[8])||void 0===n?void 0:n.reduce((l,e)=>[...l,...e],[])},getSigils=(l,e,n)=>{let o=(0,i.tryToParse)(null==l?void 0:l.CauldronP2W)||(null==l?void 0:l.CauldronP2W);return parseSigils(o,e,n)},parseSigils=(l,e,n)=>{let i=null==l?void 0:l[4],t=[];for(let l=0,u=i.length;l<u;l+=2){let[u,d]=i.slice(l,l+2),r=null===o.sigils||void 0===o.sigils?void 0:o.sigils[l/2],a=e.filter(e=>{let{activity:i,index:o}=e;return i>=100&&Math.floor(i-100)===l/2&&o<11&&o<(null==n?void 0:n.length)});r&&(t=[...t,{...r,unlocked:d,progress:u,bonus:1===d?null==r?void 0:r.boostBonus:0===d?null==r?void 0:r.unlockBonus:0,characters:a}])}return t.map((l,e)=>({...l,index:e}))},getSigilBonus=(l,e)=>l?null==l?void 0:l.reduce((l,n)=>(null==n?void 0:n.name)!==e?l:l+(null==n?void 0:n.bonus),0):0,applyArtifactBonusOnSigil=(l,e)=>{let n=(0,t.YS)(e,"Chilled_Yarn");if(!n)return l;let i=1+(null==n?void 0:n.bonus);return null==l?void 0:l.map(l=>({...l,bonus:l.bonus*i}))},h=[0,100,1e3,2500,1e4,5e4,1e5,5e5,1000001,5e6,25e6,1e8,1e9,5e10],getBubbleAtomCost=(l,e)=>Math.floor(e/1e9*(l+1)*Math.pow(1.04,l)*100)},33739:function(l,e,n){n.d(e,{J7:function(){return calcTotals},KC:function(){return getAnvil},MH:function(){return getTimeTillCap},eW:function(){return getPlayerAnvil},uv:function(){return calcAnvilExp}});var i=n(70473),o=n(10924),t=n(29129),u=n(88054),d=n(30796),r=n(96707),a=n(54685),v=n(88344),s=n(1972),c=n(64569),m=n(74861),p=n(15815),g=n(32387),h=n(80488),f=n(4056),_=n(64605),y=n(56552),b=n(19834),B=n(9339),C=n(5432),M=n(20385);let getAnvilSpeed=function(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,a=(0,o.Yu)(l);return(1+(n+2*e)/100)*(1+(i+u)/100)*(1+t/100)*a*(1+(d+r)/100)},getTotalMonsterMatCost=function(){let{costThreshold:l,startingIndex:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(!l)return 0;let o=0;for(let l=e;l<n;l++)o+=getMonsterMatCost(l,i);return o},getMonsterMatCost=(l,e)=>Math.round((Math.pow(l+1,1.5)+l)*Math.max(.1,1-e/100)),getAnvilUpgradeCostItem=l=>{var e;let n=i.anvilUpgradeCost.findIndex((e,n)=>{let{costThreshold:o}=e;return l<o||n===(null===i.anvilUpgradeCost||void 0===i.anvilUpgradeCost?void 0:i.anvilUpgradeCost.length)-1}),o=null===i.anvilUpgradeCost||void 0===i.anvilUpgradeCost?void 0:i.anvilUpgradeCost[n],t=0===n?1:l<(null==o?void 0:o.costThreshold)?null===i.anvilUpgradeCost||void 0===i.anvilUpgradeCost?void 0:null===(e=i.anvilUpgradeCost[n-1])||void 0===e?void 0:e.costThreshold:null==o?void 0:o.costThreshold;return o?{...o,startingIndex:t}:{costThreshold:null,itemName:null}},getTotalCoinCost=(l,e)=>{let n=0;for(let i=0;i<l;i++)n+=getCoinCost(i,e);return n},getCoinCost=(l,e)=>Math.round((Math.pow(l,3)+50)*(1+l/100)*Math.max(.1,1-e/100)),getCoinToMax=(l,e)=>{let n=0;for(let i=l;i<600;i++)n+=getCoinCost(i,e,!0);return null!=n?n:0},getAnvilExp=(l,e)=>{let n=(1+3*l/100)*e;return n<20?n:Math.min(20+(n-20)/(n-20+70)*50,75)},getAnvil=l=>{let e=null==l?void 0:l.AnvilPA,[n,i,o,t,u,d]=null==l?void 0:l.AnvilPAstats,r=null==l?void 0:l.AnvilPAselect;return{anvilProduction:e,anvilStats:{availablePoints:n,pointsFromCoins:i,pointsFromMats:o,xpPoints:t,speedPoints:u,capPoints:d},anvilSelected:r}},getPlayerAnvil=(l,e,n)=>{var S,w,x,T,k,A,I,E,O,P,L,N,R,D,q,F,H,G,U,V,Y,W,j,z,K,X,Q;let{anvil:Z}=l,{anvilProduction:J,anvilStats:$,anvilSelected:ll}=Z,{availablePoints:le,pointsFromCoins:ln,pointsFromMats:li,xpPoints:lo,speedPoints:lt,capPoints:lu}=$;Array.isArray(ll)||(ll=[ll]);let ld=null==J?void 0:J.reduce((l,e,n)=>{var o;let[t,u,d,r]=e;return[...l,{currentAmount:t,currentXP:u,currentProgress:parseFloat(d),totalProduced:r,...i.anvilProducts[n]||{},hammers:null==ll?void 0:null===(o=ll.filter(l=>l===n))||void 0===o?void 0:o.length}]},[]),lr={availablePoints:le,pointsFromCoins:ln,pointsFromMats:li,xpPoints:lo,speedPoints:lt,capPoints:lu},la=(0,u.om)(null==n?void 0:null===(S=n.alchemy)||void 0===S?void 0:S.bubbles,"quicc","ANVILNOMICS"),lv=d.pV[l.class].includes("Archer"),ls=lv?(0,u.om)(null==n?void 0:null===(w=n.alchemy)||void 0===w?void 0:w.bubbles,"quicc","ARCHER_OR_BUST"):1,lc=la*ls,lm=getAnvilUpgradeCostItem(li);lr.anvilCost={...lm,totalMats:getTotalMonsterMatCost(lm,li,lc),nextMatUpgrade:getMonsterMatCost(li,lc),totalCoins:getTotalCoinCost(ln,lc),nextCoinUpgrade:getCoinCost(ln,lc,!0),coinsToMax:getCoinToMax(ln,lc)};let lp=(0,r.o9)(l,n,"Skill_EXP_gain"),lg=(0,a.Xt)(null==l?void 0:l.cards,"Z7"),lh=(0,a.OK)(null==n?void 0:n.cards,"Skill_EXP_(Passive)"),lf=(0,o.tE)("Golden_Ham",l,n),l_=(null==l?void 0:null===(T=l.cards)||void 0===T?void 0:null===(x=T.cardSet)||void 0===x?void 0:x.rawName)==="CardSet3"?null==l?void 0:null===(A=l.cards)||void 0===A?void 0:null===(k=A.cardSet)||void 0===k?void 0:k.bonus:0,ly=(0,d.A5)(e,3,"Voidwalker","ENHANCEMENT_ECLIPSE"),lb=(0,d.xI)(e,n,ly,536),lB=(0,d.xI)(e,n,ly,35,l),lC=(0,d.c4)(l,e,n),lM=(0,c.wt)(null==n?void 0:n.shrines,5,null==l?void 0:l.mapIndex,n.cards,null==n?void 0:null===(I=n.sailing)||void 0===I?void 0:I.artifacts),lS=(0,m.U6)(null==n?void 0:n.statues,"StatueG18",null==l?void 0:l.talents),lw=null===(E=(0,p.Y0)(null==l?void 0:l.activePrayers,"Unending_Energy",n))||void 0===E?void 0:E.bonus,lx=null===(O=(0,p.Y0)(null==l?void 0:l.activePrayers,"Balance_of_Proficiency",n))||void 0===O?void 0:O.bonus,lT=null===(P=(0,p.Y0)(null==l?void 0:l.activePrayers,"Skilled_Dimwit",n))||void 0===P?void 0:P.curse,lk=null===(L=(0,p.Y0)(null==l?void 0:l.activePrayers,"The_Royal_Sampler",n))||void 0===L?void 0:L.curse,lA=(0,v.zi)(l,27,n),lI=(0,d.eZ)(null==l?void 0:l.activeBuffs,"MAESTRO_TRANSFUSION"),lE=(0,g.W)(null==n?void 0:n.saltLick,3),lO=(0,h.U4)(null==n?void 0:null===(N=n.dungeons)||void 0===N?void 0:N.upgrades,"Class_Exp"),lP=(0,f.xV)(null==l?void 0:l.postOffice,"Myriad_Crate",2),lL=(0,B.k)(null==n?void 0:n.achievements,283),lN=(0,B.k)(null==n?void 0:n.achievements,284),lR=(0,B.k)(null==n?void 0:n.achievements,294),lD=(0,o.fi)(null==n?void 0:n.totalSkillsLevels,null==n?void 0:n.rift,1),lq=(0,o.fi)(null==n?void 0:n.totalSkillsLevels,null==n?void 0:n.rift,4),lF=(0,C.du)(null==n?void 0:null===(R=n.breeding)||void 0===R?void 0:R.pets,"Skill_EXP"),lH=null!==(z=null===(D=(0,M.Ob)(n,"MSA_Skill_EXP"))||void 0===D?void 0:D.bonus)&&void 0!==z?z:0,lG=0,lU=(0,b.s8)(n,e,7);(null==lU?void 0:lU[null==l?void 0:l.playerId])!==-1&&(lG=(0,b.zJ)(null==n?void 0:null===(K=n.divinity)||void 0===K?void 0:K.linkedDeities,e,7)),lr.baseAnvilExp=lp+(lg+lf+lC*Math.min(1,lb?lC:0)+(l_+lh+(Math.min(150,100*lB)+lM)+lS+lw+lx-lT-lk+(lA+(lI+(lE+(lO+(lP+(lG+(10*lL+(25*lN+(10*lR+(lD+(lq+(lF+lH))))))))))))));let lV=(0,s.fE)(null==n?void 0:n.stamps,"skills","StampB3",l),lY=(0,f.xV)(null==l?void 0:l.postOffice,"Blacksmith_Box",1),lW=(0,u.y7)(null==l?void 0:l.equippedBubbles,"quicc","HAMMER_HAMMER",n),lj=(0,m.U6)(null==n?void 0:n.statues,"StatueG12",null==l?void 0:l.talents),lz=(0,r.o9)(l,n,"Speed_in_Town"),lK=(0,d._X)(null==l?void 0:l.talents,0,"BROKEN_TIME");lr.anvilSpeed=3600*getAnvilSpeed(null==l?void 0:l.stats.agility,lt,lV,lY,lW,lj,lz,lK);let lX=0,lQ=null===(q=(0,p.Y0)(null==l?void 0:l.activePrayers,"Zerg_Rushogen",n))||void 0===q?void 0:q.curse,lZ=null===(F=(0,p.Y0)(null==l?void 0:l.activePrayers,"Ruck_Sack",n))||void 0===F?void 0:F.bonus;(null==n?void 0:null===(G=n.guild)||void 0===G?void 0:null===(H=G.guildBonuses)||void 0===H?void 0:H.length)>0&&(lX=(0,_._r)(null==n?void 0:null===(X=n.guild)||void 0===X?void 0:X.guildBonuses,2));let lJ=(0,d._X)(null==l?void 0:l.starTalents,null,"TELEKINETIC_STORAGE"),l$=(0,c.wt)(null==n?void 0:n.shrines,3,null==l?void 0:l.mapIndex,n.cards,null==n?void 0:null===(U=n.sailing)||void 0===U?void 0:U.artifacts),l0=(0,t.k)(null==n?void 0:n.bribes,"Bottomless_Bags"),l1=(1+(lX+lJ)/100)*(1+l$/100)*Math.max(1-lQ/100,.4)*(1+(lZ+l0)/100),l2=(0,s.fE)(null==n?void 0:n.stamps,"skills","StampB8",l),l3=(0,s.fE)(null==n?void 0:n.stamps,"misc","StampC2",l),l5=null!==(Q=null==n?void 0:null===(V=n.gemShopPurchases)||void 0===V?void 0:V.find((l,e)=>58===e))&&void 0!==Q?Q:0,l4=(0,d._X)(null==l?void 0:l.talents,0,"EXTRA_BAGS"),l6=(0,r.o9)(l,n,"Carry_Cap"),l7=null==l?void 0:null===(Y=l.carryCapBags)||void 0===Y?void 0:Y.find(l=>{let{Class:e}=l;return"bCraft"===e}),l8=(0,y.nR)(l7,{allCapacity:l1,mattyBagStampBonus:l2,masonJarStampBonus:l3,gemShopCarryBonus:l5,extraBagsTalentBonus:l4,starSignExtraCap:l6});lr.anvilCapacity=Math.round(l8*(2+.1*lu));let l9=ll.sort((l,e)=>l-e).map(l=>i.anvilProducts[l]);return{guild:(null==n?void 0:null===(j=n.guild)||void 0===j?void 0:null===(W=j.guildBonuses)||void 0===W?void 0:W.length)>0,stats:lr,production:ld,selected:l9}},calcAnvilExp=(l,e,n,i,t)=>{var u,r;let v=(0,d._X)(null==l?void 0:l.talents,1,"FOCUSED_SOUL"),c=(0,d._X)(null==l?void 0:l.talents,0,"HAPPY_DUDE"),m=(0,a.OK)(null==n?void 0:n.cards,"Smithing_EXP_(Passive)"),p=(0,f.xV)(null==l?void 0:l.postOffice,"Blacksmith_Box",0),g=(0,s.mV)(null==n?void 0:n.stamps,"SmithExp",l),h=(0,o.pA)(null==n?void 0:n.rift,null==n?void 0:null===(r=n.totalSkillsLevels)||void 0===r?void 0:null===(u=r.smithing)||void 0===u?void 0:u.rank,0),_=(0,d.A5)(e,2,"Maestro","LEFT_HAND_OF_LEARNING"),y=(0,d.A5)(e,3,"Voidwalker","ENHANCEMENT_ECLIPSE"),b=(0,d.xI)(e,n,y,42);(0,d.gW)(null==l?void 0:l.class,"Maestro")&&b&&(_*=2);let B=Math.max(.1,(1+(v+(g+(c+25*h)))/100)*(1+m/100)*(1+p/100)+(i+_)/100),C=getAnvilExp(t,B);return 100*(C-1)},getTimeTillCap=l=>{let{hammers:e,currentAmount:n,currentProgress:i,requiredAmount:o,afkTime:t,stats:u}=l,d=(new Date().getTime()-t)/1e3,r=Math.min(Math.round(n+(i+d*(null==u?void 0:u.anvilSpeed)/3600)/o*(null!=e?e:0)),null==u?void 0:u.anvilCapacity);return((null==u?void 0:u.anvilCapacity)-r)/((null==u?void 0:u.anvilSpeed)/3600/o*(null!=e?e:0))},calcTotals=(l,e)=>{var n;return null==l?void 0:null===(n=l.anvil)||void 0===n?void 0:n.reduce((n,i,o)=>{let{stats:t,production:u}=getPlayerAnvil(null==e?void 0:e[o],e,l),d=null==u?void 0:u.filter(l=>{let{hammers:e}=l;return e>0});return null==d||d.forEach(l=>{let{hammers:e,rawName:i,requiredAmount:o}=l,u=Math.min((null==t?void 0:t.anvilSpeed)*e/o,null==t?void 0:t.anvilCapacity);(null==n?void 0:n[i])?n[i]+=u:n[i]=u}),n},{})}},71345:function(l,e,n){n.d(e,{d:function(){return getArcadeBonus},z:function(){return getArcade}});var i=n(42168),o=n(70473),t=n(80488);let getArcade=(l,e,n)=>{let o=(0,i.tryToParse)(null==l?void 0:l.ArcadeUpg)||(null==l?void 0:l.ArcadeUpg);return parseArcade(o,e,n)},parseArcade=(l,e,n)=>{var u,d;let r=null==e?void 0:null===(u=e.accountOptions)||void 0===u?void 0:u[74],a=null==e?void 0:null===(d=e.accountOptions)||void 0===d?void 0:d[75],v=Math.round((0,t.he)(null==e?void 0:e.stamps)/Math.max(1,(0,t.gq)(e))),s=null===o.arcadeShop||void 0===o.arcadeShop?void 0:o.arcadeShop.map((e,o)=>{var t;let{x1:u,x2:d,func:r}=e,a=null==l?void 0:l[o];return{...e,level:a,active:null==n?void 0:null===(t=n.ArcadeBonuses)||void 0===t?void 0:t.includes(o),bonus:(0,i.growth)(r,a,u,d,!1),iconName:"PachiShopICON".concat(o)}});return{shop:s,balls:r,goldBalls:a,maxBalls:v}},getArcadeBonus=(l,e)=>null==l?void 0:l.find(l=>{let{effect:n}=l;return n.includes(e)})},95331:function(l,e,n){n.d(e,{Xp:function(){return getAtomColliderThreshold},_m:function(){return getAtomBonus},nK:function(){return getAtoms}});var i=n(42168),o=n(70473),t=n(88054),u=n(20385);let getAtoms=(l,e)=>{let n=(0,i.tryToParse)(null==l?void 0:l.Atoms)||(null==l?void 0:l.Atoms),o=(0,i.tryToParse)(null==l?void 0:l.Divinity)||(null==l?void 0:l.Divinity);return parseAtoms(o,n,e)},parseAtoms=(l,e,n)=>{var i,d;let r=null!=e?e:[],a=null==l?void 0:l[39],v=null===o.atomsInfo||void 0===o.atomsInfo?void 0:o.atomsInfo.map((l,i)=>{var d,a,v,s,c,m,p,g,h;let f=null==r?void 0:r[i],_=null!==(m=null==n?void 0:null===(v=n.towers)||void 0===v?void 0:null===(a=v.data)||void 0===a?void 0:null===(d=a[8])||void 0===d?void 0:d.level)&&void 0!==m?m:0,y=null!==(p=null==e?void 0:e[9])&&void 0!==p?p:0,b=(0,t.om)(null==n?void 0:null===(s=n.alchemy)||void 0===s?void 0:s.bubbles,"kazam","ATOM_SPLIT",!1),B=null!==(g=null===(c=(0,u.Ob)(n,"Atom_Redux"))||void 0===c?void 0:c.unlocked)&&void 0!==g?g:0,C=null!==(h=(0,u.Ob)(n,"Isotope_Discovery"))&&void 0!==h?h:0,M=Math.round(20+10*+!!C),S={account:n,atomReductionFromAtom:y,reduxSuperbit:B,bubbleBonus:b,atomColliderLevel:_,atomInfo:l,level:f},w=getCost(S),x=getCost({...S,level:f+1}),T=getCostToMax({...S,maxLevel:M}),k=parseAtomBonus(l,f,n);return{level:f,maxLevel:M,rawName:"Atom".concat(i),...(null===o.atomsInfo||void 0===o.atomsInfo?void 0:o.atomsInfo[i])||{},cost:Math.floor(w),nextLeveCost:Math.floor(x),costToMax:Math.floor(T),bonus:k}}),s=null==n?void 0:null===(i=n.accountOptions)||void 0===i?void 0:i[134],c=null==v?void 0:v.find(l=>{let{name:e}=l;return"Hydrogen_-_Stamp_Decreaser"===e}),m=Math.min(90,(null!==(d=null==c?void 0:c.level)&&void 0!==d?d:0)*s);return{particles:a,atoms:v,stampReducer:m}},getCost=l=>{var e;let{account:n,atomReductionFromAtom:i,reduxSuperbit:o,bubbleBonus:t,atomColliderLevel:u,atomInfo:d,level:r}=l,a=1/(1+(i+10*(o?1:0)+t+u/10+7*(null==n?void 0:null===(e=n.tasks)||void 0===e?void 0:e[2][4][6]))/100);return a*((null==d?void 0:d.x3)+(null==d?void 0:d.x1)*r)*Math.pow(null==d?void 0:d.x2,r)},getCostToMax=l=>{let e=0;for(let n=null==l?void 0:l.level;n<(null==l?void 0:l.maxLevel);n++)e+=getCost({...l,level:n});return e},parseAtomBonus=(l,e,n)=>{var i,o,t;if((null==l?void 0:l.name)==="Fluoride_-_Void_Plate_Chef"){let t=null==n?void 0:null===(o=n.cooking)||void 0===o?void 0:null===(i=o.meals)||void 0===i?void 0:i.reduce((l,e)=>{let{level:n}=e;return n>=30?l+1:l},0);return 100*(Math.pow(1+(null==l?void 0:l.baseBonus)*e/100,t)-1)}if((null==l?void 0:l.name)==="Carbon_-_Wizard_Maximizer")return(null==l?void 0:l.baseBonus)*(null==n?void 0:null===(t=n.towers)||void 0===t?void 0:t.wizardOverLevels)},getAtomBonus=(l,e)=>{var n,i;let o=null==l?void 0:null===(n=l.atoms)||void 0===n?void 0:n.atoms;return null==o?void 0:null===(i=o.filter(l=>(null==l?void 0:l.name)===e).map(n=>{var i;return"Fluoride_-_Void_Plate_Chef"===e?null==n?void 0:n.bonus:"Carbon_-_Wizard_Maximizer"!==e?(null==n?void 0:n.level)*(null==n?void 0:n.baseBonus):(null==n?void 0:n.baseBonus)*(null==l?void 0:null===(i=l.towers)||void 0===i?void 0:i.wizardOverLevels)}))||void 0===i?void 0:i[0]},getAtomColliderThreshold=l=>0===l?15e6:1===l?25e6:2===l?1e8:3===l?25e7:105e7},5432:function(l,e,n){n.d(e,{N5:function(){return getBreeding},XM:function(){return addBreedingChance},cg:function(){return getTimeToLevel},du:function(){return getShinyBonus},eJ:function(){return calcUpgradeBonus}});var i=n(70473),o=n(42168),t=n(88054),u=n(1972),d=n(15893),r=n(89260),a=n(9339);let getBreeding=(l,e)=>{let n=(0,o.tryToParse)(null==l?void 0:l.Breeding)||(null==l?void 0:l.Breeding),i=(0,o.tryToParse)(null==l?void 0:l.Pets)||(null==l?void 0:l.Pets),t=(0,o.tryToParse)(null==l?void 0:l.PetsStored)||(null==l?void 0:l.PetsStored),u=(0,o.tryToParse)(null==l?void 0:l.Cooking)||(null==l?void 0:l.Cooking);return parseBreeding(n,i,t,u,e)},parseBreeding=(l,e,n,o,t)=>{var u,d,r,a,v,s,c,m,p,g,h;let f=null==l?void 0:l[0],_=null==l?void 0:null===(u=l[3])||void 0===u?void 0:u[8],y=null==l?void 0:l[1],b=null==l?void 0:null===(d=l[2])||void 0===d?void 0:d.map((l,e)=>({...i.petUpgrades[e]||[],level:l})),B={second:(null==b?void 0:null===(r=b[2])||void 0===r?void 0:r.level)>0,third:(null==b?void 0:null===(a=b[4])||void 0===a?void 0:a.level)>0,fourth:(null==b?void 0:null===(v=b[6])||void 0===v?void 0:v.level)>0,fifth:(null==b?void 0:null===(s=b[9])||void 0===s?void 0:s.level)>0},C=null==n?void 0:n.map(l=>{let[e,n,i]=l;return{name:e,level:n,power:i}}),M=null==l?void 0:l.slice(4,8),S=null==l?void 0:l.slice(22,26),w=null==l?void 0:null===(c=l[2])||void 0===c?void 0:c[4],x=Math.round(5+w+2*(null!==(h=null==t?void 0:null===(m=t.gemShopPurchases)||void 0===m?void 0:m.find((l,e)=>125===e))&&void 0!==h?h:0)),T=null==e?void 0:e.slice(0,x),k=null==T?void 0:T.reduce((l,e)=>{let[n,,,i]=e;return 0===i?l:{...l,[n]:(null==l?void 0:l[n])?(null==l?void 0:l[n])+1:1}},{});null==o||o.reduce((l,e)=>{let[,,,,,,n,i,o]=e;return l+(n+i+o)},0);let A=[],I={},E=null===i.petStats||void 0===i.petStats?void 0:i.petStats.map((l,e)=>{let n=null==y?void 0:y[e];return null==l?void 0:l.map((l,i)=>{var o,t,u,d,r;let a=null===(o=Array(19).fill(1))||void 0===o?void 0:o.reduce((l,n,o)=>{var t;return(null==S?void 0:null===(t=S[e])||void 0===t?void 0:t[i])>Math.floor((1+Math.pow(o+1,1.6))*Math.pow(1.7,o+1))?o+2:l},0);a=(null==S?void 0:null===(t=S[e])||void 0===t?void 0:t[i])===0?0:0===a?1:a;let v=Math.floor((1+Math.pow(a,1.6))*Math.pow(1.7,a)),s=Math.round((null==l?void 0:l.baseValue)*a),c={...l,level:null==M?void 0:null===(u=M[e])||void 0===u?void 0:u[i],shinyLevel:a,progress:null==S?void 0:null===(d=S[e])||void 0===d?void 0:d[i],goal:v,rawPassive:null==l?void 0:l.passive,passive:null==l?void 0:null===(r=l.passive)||void 0===r?void 0:r.replace("{",s),passiveValue:s,unlocked:i<n};return(null==I?void 0:I[null==l?void 0:l.passive])?I[null==l?void 0:l.passive]+=s:s>0&&(I[null==l?void 0:l.passive]=s),(null==k?void 0:k[null==l?void 0:l.monsterRawName])&&A.push(c),c})});return{passivesTotals:I,storedPets:C,eggs:f,deadCells:_,speciesUnlocks:y,fencePets:A,fencePetsObject:k,maxArenaLevel:null==t?void 0:null===(p=t.accountOptions)||void 0===p?void 0:p[89],timeToNextEgg:(null==t?void 0:null===(g=t.accountOptions)||void 0===g?void 0:g[87])*1e3,petUpgrades:b,arenaBonuses:i.arenaBonuses,unlockedBreedingMulti:B,pets:E}},addBreedingChance=(l,e)=>{var n,i;let t=(0,o.tryToParse)(null==l?void 0:l.Breeding)||(null==l?void 0:l.Breeding),u=null==e?void 0:null===(i=e.breeding)||void 0===i?void 0:null===(n=i.pets)||void 0===n?void 0:n.map((l,n)=>null==l?void 0:l.map((l,i)=>{var o,u;let d=(0,r.eA)(null==e?void 0:null===(o=e.cooking)||void 0===o?void 0:o.kitchens),a=getBreedingMulti(e,t,n,i,null==e?void 0:null===(u=e.breeding)||void 0===u?void 0:u.unlockedBreedingMulti,d);return{...l,breedingMultipliers:a}}));return{...null==e?void 0:e.breeding,pets:u}},getBaseBreedChance=(l,e,n)=>{let o=i.randomList[54].split(" ");return n+2>l[1][e]?1/Math.max(1,o[i.petStats[e][n].passiveIndex]):1},getBreedingMulti=(l,e,n,o,a,v)=>{var s,c,m,p,g,h,f,_,y,b;let B=1+Math.ceil(100*Math.pow(e[4+n|0][o]/10,1.9))/100,C=(null==a?void 0:a.second)?1+Math.log(Math.max(1,Math.pow(e[n+13|0][o]+1,.725))):1,M=(null==a?void 0:a.third)?1+(.25*Math.pow(e[0][0],1.4)+Math.pow(e[0][0]/3,6)):1,S=(null==a?void 0:a.fourth)?0===n?1:1+.1*n+Math.max(1,Math.min(3,1+.15*e[2][7]))*Math.pow(e[1][n-1|0]/(i.petStats[n-1].length-i.petStats[n-1].length/2),3):1,w=(null==a?void 0:a.fifth)?Math.max(1,Math.pow((null==l?void 0:null===(s=l.accountOptions)||void 0===s?void 0:s[86])+1,.3)):1,x=getBaseBreedChance(e,n,o),T=null!==(b=null==l?void 0:null===(c=l.gemShopPurchases)||void 0===c?void 0:c.find((l,e)=>119===e))&&void 0!==b?b:0,k=(0,t.YG)(null==l?void 0:null===(m=l.alchemy)||void 0===m?void 0:m.vials,null,"NewPet"),A=(0,t.om)(null==l?void 0:null===(p=l.alchemy)||void 0===p?void 0:p.bubbles,"kazam","PETTING_THE_RIFT",!1),I=(0,u.mV)(null==l?void 0:l.stamps,"New_Pet_Chance"),E=(0,d.c9)(null==l?void 0:null===(g=l.lab)||void 0===g?void 0:g.labBonuses,8),O=(0,d.pc)(null==l?void 0:null===(h=l.lab)||void 0===h?void 0:h.jewels,16,E),P=(0,r.F4)(l,null,"Npet",O),L=calcUpgradeBonus(null==l?void 0:null===(_=l.breeding)||void 0===_?void 0:null===(f=_.petUpgrades)||void 0===f?void 0:f[9],9,l),N=(1+10*T/100)*(1+(k+A*(null==l?void 0:null===(y=l.rift)||void 0===y?void 0:y.currentRift))/100)*(1+I/100)*(1+P/100)*Math.pow(Math.max(1,L),v/100)*x*B*C*M*S*w;return{first:B,second:C,third:M,fourth:S,fifth:w,totalChance:N}},getShinyBonus=(l,e)=>null==l?void 0:l.reduce((l,n)=>l+(null==n?void 0:n.reduce((l,n)=>{let{passive:i,passiveValue:o}=n;return l+(i.includes(e)&&o)},0)),0),getTimeToLevel=(l,e,n,i)=>{if((null==l?void 0:l.shinyLevel)===i)return 0;let o=0;for(let e=null==l?void 0:l.shinyLevel;e<i;e++)o+=Math.floor((1+Math.pow(e,1.6))*Math.pow(1.7,e));return(o-(null==l?void 0:l.progress))/e/(n||1)*864e5},calcUpgradeBonus=(l,e,n)=>0===e||2===e||4===e?null==l?void 0:l.level:1===e?4*(null==l?void 0:l.level):3===e?25*(null==l?void 0:l.level):5===e?(1+.25*(null==l?void 0:l.level))*Math.min(2,Math.max(1,1+.1*(0,a.k)(null==n?void 0:n.achievements,221))):6===e?6*(null==l?void 0:l.level):7===e?1+.15*(null==l?void 0:l.level):8===e?1+2*(null==l?void 0:l.level):9===e?1+.02*(null==l?void 0:l.level):10===e?10*(null==l?void 0:l.level):11===e?Math.ceil(12*Math.pow(null==l?void 0:l.level,.698)):0},29129:function(l,e,n){n.d(e,{k:function(){return getBribeBonus},t:function(){return getBribes}});var i=n(42168),o=n(70473);let getBribes=l=>{let e=(null==l?void 0:l.BribeStatus)||(0,i.tryToParse)(null==l?void 0:l.BribeStatus);return parseBribes(e)},parseBribes=l=>null==l?void 0:l.reduce((l,e,n)=>-1!==e?[...l,{...(null===o.bribes||void 0===o.bribes?void 0:o.bribes[n])||[],done:1===e}]:l,[]),getBribeBonus=(l,e)=>{var n,i;return null!==(i=null==l?void 0:null===(n=l.find(l=>{let{name:n,done:i}=l;return n===e&&i}))||void 0===n?void 0:n.value)&&void 0!==i?i:0}},54685:function(l,e,n){n.d(e,{BZ:function(){return calcCardBonus},OK:function(){return getCardBonusByEffect},V3:function(){return getPlayerCards},Xt:function(){return getEquippedCardBonus},vm:function(){return getCards}});var i=n(70473),o=n(42168);let getCards=(l,e)=>{var n;let i=(null==l?void 0:null===(n=l.Cards)||void 0===n?void 0:n[0])||(0,o.tryToParse)(null==l?void 0:l.Cards0),t=(0,o.tryToParse)(null==l?void 0:l.Rift)||(null==l?void 0:l.Rift);return parseCards(i,t,e)},calculateStars=(l,e,n,i)=>{let o=0;for(let t=0;t<4+ +i;t++)"Boss3B"===n?e>1.5*Math.pow(t+1+Math.floor(t/3),2)&&(o=t+2):e>l*Math.pow(t+1+(Math.floor(t/3)+16*Math.floor(t/4)),2)&&(o=t+2);return o>0?o-1:o},calculateAmountToNextLevel=(l,e,n)=>e>=5?0:l*Math.pow(e+1+(Math.floor((e+1)/4)+16*Math.floor((e+1)/5)),2)-n+1,parseCards=(l,e,n)=>{let[o]=e||[],t=o>=45;return Object.entries(l).reduce((l,e)=>{var o,u;let[d,r]=e,a=null===i.cards||void 0===i.cards?void 0:i.cards[d],v=(null==n?void 0:null===(o=n.accountOptions)||void 0===o?void 0:o[155])||"",s=(null==v?void 0:null===(u=v.toString())||void 0===u?void 0:u.split(","))||[],c=(null==s?void 0:s.includes(d))?5:calculateStars(null==a?void 0:a.perTier,r,d,t);return a?{...l,[null==a?void 0:a.displayName]:{...a,amount:r,stars:c,nextLevelReq:r+calculateAmountToNextLevel(null==a?void 0:a.perTier,c,r)}}:l},{})},calculateCardSetStars=(l,e)=>l&&e?e/(null==l?void 0:l.bonus)-1:null,getEquippedCardBonus=(l,e)=>{var n;let i=null==l?void 0:null===(n=l.equippedCards)||void 0===n?void 0:n.find(l=>{let{cardIndex:n}=l;return n===e});return i?calcCardBonus(i):0},getCardBonusByEffect=(l,e)=>{var n;return null===(n=Object.values(l))||void 0===n?void 0:n.reduce((l,n)=>{var i;return(null==n?void 0:null===(i=n.effect)||void 0===i?void 0:i.includes(e))?l+calcCardBonus(n):l},0)},calcCardBonus=l=>{var e,n,i;return l?(null==l?void 0:l.bonus)*((null!==(e=null==l?void 0:l.stars)&&void 0!==e?e:-1)+1)*(null!==(n=null==l?void 0:l.chipBoost)&&void 0!==n?n:1):0},getPlayerCards=(l,e)=>{var n,o,t,u;if(!(null==l?void 0:l.CSetEq)&&!(null==l?void 0:l.CardEquip))return{};let d=null==l?void 0:l.CSetEq,r=null==l?void 0:null===(n=l.CardEquip)||void 0===n?void 0:n.map(l=>{var n,o,t;return{cardName:null===i.cards||void 0===i.cards?void 0:null===(n=i.cards[l])||void 0===n?void 0:n.displayName,...(null==e?void 0:null===(t=e.cards)||void 0===t?void 0:t[null===i.cards||void 0===i.cards?void 0:null===(o=i.cards[l])||void 0===o?void 0:o.displayName])||{}}}).filter((l,e)=>e<8),a=i.cardSets[null===(o=Object.keys(d))||void 0===o?void 0:o[0]]||{};return{cardSet:{...a,bonus:null===(t=Object.values(d))||void 0===t?void 0:t[0],stars:calculateCardSetStars(a,null===(u=Object.values(d))||void 0===u?void 0:u[0])},equippedCards:r}}},56552:function(l,e,n){n.d(e,{NA:function(){return getPlayerConstructionExpPerHour},P9:function(){return getRespawnRate},SD:function(){return initializeCharacter},VK:function(){return getDropRate},WU:function(){return getAfkGain},Yp:function(){return getPlayerSpeedBonus},bv:function(){return getCashMulti},nR:function(){return getPlayerCapacity},ql:function(){return getCharacters},wJ:function(){return getPlayerFoodBonus},x6:function(){return getPlayerConstructionSpeed}});var i=n(70473),o=n(10924),t=n(88344),u=n(23515),d=n(34664),r=n(30796),a=n(54685),v=n(1972),s=n(4056),c=n(88054),m=n(74861),p=n(96707),g=n(33739),h=n(15815),f=n(64605),_=n(64569),y=n(79603),b=n(32387),B=n(80488),C=n(89260),M=n(74805),S=n(15265),w=n(19225),x=n(15893),T=n(9339),k=n(42168),A=n(71345),I=n(16727),E=n(5432),O=n(19834),P=n(72973),L=n(67896),N=n(95331);let{tryToParse:R,createIndexedArray:D,createArrayOfArrays:q}=n(42168),getCharacters=(l,e)=>{let n=e||[0,1,2,3,4,5,6,7,8];return null==n?void 0:n.map((e,n)=>{var i;let o=null===(i=Object.entries(l))||void 0===i?void 0:i.reduce((l,e)=>{let[i,o]=e,t=RegExp("_".concat(n),"g");if(t.test(i)){let e=R(o),n=i,t=[];switch(!0){case i.includes("EquipOrder"):n="EquipmentOrder",o=q(o);break;case i.includes("EquipQTY"):n="EquipmentQuantity",o=q(o);break;case i.includes("AnvilPA_"):n="AnvilPA",e=q(o);break;case i.includes("EMm0"):{n="EquipmentMap",t=null==l?void 0:l[n];let i=D(e);t?t.splice(0,0,i):t=[i];break}case i.includes("IMm_"):n="InventoryMap",e=R(o);break;case i.includes("EMm1"):{n="EquipmentMap",t=null==l?void 0:l[n];let i=D(e);t?t.splice(1,0,i):t=[i];break}case i.includes("BuffsActive"):n="BuffsActive",t=q(e);break;case i.includes("ItemQTY"):n="ItemQuantity";break;case i.includes("PVStatList"):n="PersonalValuesMap",e={...(null==l?void 0:l[n])||{},StatList:R(o)};break;case i.includes("PVtStarSign"):n="PersonalValuesMap",e={...(null==l?void 0:l[n])||{},StarSign:R(o)};break;case i.includes("ObolEqO0"):n="ObolEquippedOrder";break;case i.includes("ObolEqMAP"):n="ObolEquippedMap";break;case i.includes("SL_"):n="SkillLevels";break;case i.includes("SM_"):n="SkillLevelsMAX";break;case i.includes("KLA_"):n="KillsLeft2Advance";break;case i.includes("AtkCD_"):n="AttackCooldowns";break;case i.includes("POu_"):n="PostOfficeInfo";break;case i.includes("PTimeAway"):n="PlayerAwayTime",e*=1e3;break;default:var u;n=null==i?void 0:null===(u=i.split("_"))||void 0===u?void 0:u[0]}return{...l,[n]:(null==t?void 0:t.length)?t:e}}return{...l}},{});return{name:e,playerId:n,...o}})},initializeCharacter=(l,e,n,v)=>{var m,p,h,f,_,b,B,C,T,k,A,I,E,P,L,N,R,D,q,F,H,G,U,V,Y,W,j,z,K,X,Q,Z,J,$,ll,le,ln,li,lo,lt;let lu;let ld={};if(ld.playerId=l.playerId,ld.name=l.name,!(null==l?void 0:l.CharacterClass))return ld;ld.classIndex=null==l?void 0:l.CharacterClass,ld.class=null===i.classes||void 0===i.classes?void 0:i.classes[null==l?void 0:l.CharacterClass],ld.afkTime=(0,o.XQ)(null==l?void 0:l.PlayerAwayTime,null==n?void 0:null===(m=n.timeAway)||void 0===m?void 0:m.GlobalTime),ld.afkTarget=null===i.monsters||void 0===i.monsters?void 0:null===(p=i.monsters[null==l?void 0:l.AFKtarget])||void 0===p?void 0:p.Name,ld.targetMonster=null==l?void 0:l.AFKtarget;let lr=null==l?void 0:l.CurrentMap;ld.mapIndex=lr,ld.currentMap=null===i.mapNames||void 0===i.mapNames?void 0:i.mapNames[lr],ld.money=parseFloat(null==l?void 0:l.Money),ld.cooldowns=null==l?void 0:l.AttackCooldowns;let la={0:"strength",1:"agility",2:"wisdom",3:"luck",4:"level"};ld.stats=null==l?void 0:null===(f=l.PersonalValuesMap)||void 0===f?void 0:null===(h=f.StatList)||void 0===h?void 0:h.reduce((l,e,n)=>la[n]?{...l,[la[n]]:e}:l,{}),ld.level=null==ld?void 0:null===(_=ld.stats)||void 0===_?void 0:_.level;let lv=null==l?void 0:l.InvBagsUsed,ls=Object.keys(lv);ld.invBagsUsed=Object.entries(i.invBags).map(l=>{let[e,n]=l,i=e.match(/[0-9]+/g)[0];return(i=100>parseInt(i)?i-1:i,ls.includes(String(i)))?{...n,rawName:e,acquired:!0}:{...n,rawName:e}});let lc=(null==l?void 0:l.MaxCarryCap)||[];ld.maxCarryCap=lc,ld.carryCapBags=Object.keys(lc).sort(function(l,e){return l.localeCompare(e)}).map(l=>{var e;if("Quests"===l||"fillerz"===l||"Statues"===l)return;let n=null===i.carryBags||void 0===i.carryBags?void 0:null===(e=i.carryBags[l])||void 0===e?void 0:e[lc[l]];return n||{rawName:"MaxCapBagNone",displayName:l,Class:l,capacity:lc[l],Type:"CARRY"}}).filter(l=>l),ld.statues=null==l?void 0:l.StatueLevels;let lm={0:"armor",1:"tools",2:"food"},lp=null==l?void 0:null===(b=l.EquipmentOrder)||void 0===b?void 0:b.reduce((l,e,n)=>({...l,[null==lm?void 0:lm[n]]:e}),{}),lg=null===(B=l.EquipmentQuantity)||void 0===B?void 0:B.reduce((l,e,n)=>({...l,[null==lm?void 0:lm[n]]:e}),{}),lh=null===(C=l.EquipmentMap)||void 0===C?void 0:C[0];ld.equipment=(0,t.tT)(lp.armor,lh,ld.name);let lf=null===(T=l.EquipmentMap)||void 0===T?void 0:T[1];ld.tools=(0,t.tT)(lp.tools,lf,ld.name),ld.food=Array.from(Object.values(lp.food)).reduce((l,e,n)=>{var o;return e?[...l,{name:null===i.items||void 0===i.items?void 0:null===(o=i.items[e])||void 0===o?void 0:o.displayName,rawName:e,owner:ld.name,amount:parseInt(lg.food[n]||lg.food[n]),...(null===i.items||void 0===i.items?void 0:i.items[e])||{}}]:l},[]);let l_=l.InventoryOrder,ly=l.ItemQuantity,lb=l.InventoryMap;ld.inventory=(0,u.$v)(l_,ly,ld.name,lb),ld.inventorySlots=null==l_?void 0:l_.reduce((l,e)=>l+("LockedInvSpace"!==e?1:0),0);let lB=(null==l?void 0:null===(k=l.PersonalValuesMap)||void 0===k?void 0:k.StarSign)||"";ld.starSigns=lB.split(",").map(l=>l&&"_"!==l?null===i.starSignByIndexMap||void 0===i.starSignByIndexMap?void 0:i.starSignByIndexMap[l]:null).filter(l=>l),ld.equippedBubbles=null==n?void 0:null===(A=n.equippedBubbles)||void 0===A?void 0:A[null==l?void 0:l.playerId];let lC=null==l?void 0:l.Exp0,lM=null==l?void 0:l.ExpReq0,lS=(null==l?void 0:l.Lv0)||[];ld.skillsInfo=lS.reduce((l,e,n)=>{var i,o;return n<16?{...l,[null===(i=d.Pe[n])||void 0===i?void 0:i.name]:{level:-1!==e?e:0,exp:parseFloat(lC[n]),expReq:parseFloat(lM[n]),icon:null===(o=d.Pe[n])||void 0===o?void 0:o.icon,index:n}}:l},{}),ld.skillsInfoArray=Object.entries(ld.skillsInfo||{}).reduce((l,e)=>{let[n,i]=e;return[...l,{...i,skillName:n}]},[]).sort((l,e)=>l.index-e.index);let lw=null==l?void 0:l.SkillLevels,lx=null==l?void 0:l.SkillLevelsMAX,lT=null===r.pV||void 0===r.pV?void 0:r.pV[null==ld?void 0:ld.class],{flat:lk,talents:lA}=(0,r.o1)(null==ld?void 0:ld.class,lT,lw,lx);ld.talents=lA,ld.flatTalents=lk;let{flat:lI,talents:lE}=(0,r.o1)(null==ld?void 0:ld.class,["Special Talent 1","Special Talent 2","Special Talent 3","Special Talent 4","Special Talent 5"],lw,lx,!0);ld.starTalents=lE,ld.flatStarTalents=lI;let lO=null==l?void 0:l.BuffsActive;ld.activeBuffs=(0,r.ju)(lO,[...lk,...lI]),ld.activePrayers=null==l?void 0:null===(E=l.Prayers)||void 0===E?void 0:null===(I=E.filter(l=>-1!==l).map(l=>{var e;return null==n?void 0:null===(e=n.prayers)||void 0===e?void 0:e[l]}))||void 0===I?void 0:I.filter(l=>l),ld.postOffice=(0,s.dQ)(null==l?void 0:l.PostOfficeInfo,n),ld.cards=(0,a.V3)(l,n);let lP=null==n?void 0:null===(N=n.lab)||void 0===N?void 0:null===(L=N.playersChips)||void 0===L?void 0:null===(P=L[null==l?void 0:l.playerId])||void 0===P?void 0:P.find(l=>20===l.index),lL=null==n?void 0:null===(q=n.lab)||void 0===q?void 0:null===(D=q.playersChips)||void 0===D?void 0:null===(R=D[null==l?void 0:l.playerId])||void 0===R?void 0:R.find(l=>21===l.index);ld.cards.equippedCards=null==ld?void 0:null===(H=ld.cards)||void 0===H?void 0:null===(F=H.equippedCards)||void 0===F?void 0:F.map((l,e)=>0===e&&lP||7===e&&lL?{...l,chipBoost:2}:l),ld.anvil=(0,g.KC)(l);let lN=(0,M.dR)(l,!1);ld.obols={...lN,stats:(0,M.eX)(lN,n.obols)},ld.worship=(0,S.T8)(ld,lT,n,null==l?void 0:null===(G=l.PlayerStuff)||void 0===G?void 0:G[0]),ld.quests=(0,w.GU)(null==l?void 0:l.QuestComplete),ld.crystalSpawnChance=getPlayerCrystalChance(ld,n,v),ld.nonConsumeChance=getNonConsumeChance(ld,n);let lR=null==l?void 0:l.KillsLeft2Advance;r.pV[ld.class].includes("Barbarian"),r.pV[ld.class].includes("Blood_Berserker"),ld.kills=null==lR?void 0:lR.reduce((l,e,n)=>{var o;return[...l,parseFloat(null===i.mapPortals||void 0===i.mapPortals?void 0:null===(o=i.mapPortals[n])||void 0===o?void 0:o[0])-parseFloat(null==e?void 0:e[0])]},[]),ld.nextPortal={goal:null!==(ln=null===i.mapPortals||void 0===i.mapPortals?void 0:null===(U=i.mapPortals[lr])||void 0===U?void 0:U[0])&&void 0!==ln?ln:0,current:parseFloat(null===i.mapPortals||void 0===i.mapPortals?void 0:null===(V=i.mapPortals[lr])||void 0===V?void 0:V[0])-parseFloat(null==lR?void 0:lR[lr])},ld.zow=getBarbarianZowChow(lR,[1e5]),ld.chow=getBarbarianZowChow(lR,[1e6,1e8]);let lD=(0,c.y7)(ld.equippedBubbles,"kazam","BIG_P",n),lq=null===(W=ld.skillsInfo)||void 0===W?void 0:null===(Y=W.divinity)||void 0===Y?void 0:Y.level,lF=null==n?void 0:null===(z=n.divinity)||void 0===z?void 0:null===(j=z.linkedDeities)||void 0===j?void 0:j[ld.playerId];if(ld.linkedDeity=lF,-1!==lF&&(ld.deityMinorBonus=(0,O.kI)(ld,n)),(null==ld?void 0:ld.class)==="Elemental_Sorcerer"){let e=null==l?void 0:null===(lo=l.SkillLevels)||void 0===lo?void 0:lo[505],n=e%10,o=null===i.gods||void 0===i.gods?void 0:i.gods[n];if(o&&(null==o?void 0:o.godIndex)!==lF){lu=null==o?void 0:o.godIndex;let l=null===i.gods||void 0===i.gods?void 0:null===(lt=i.gods[lu])||void 0===lt?void 0:lt.minorBonusMultiplier;ld.secondLinkedDeityIndex=n,ld.secondDeityMinorBonus=Math.max(1,lD)*(lq/(60+lq))*l}}let lH=null==n?void 0:null===(X=n.divinity)||void 0===X?void 0:null===(K=X.linkedStyles)||void 0===K?void 0:K[null==ld?void 0:ld.playerId];ld.divStyle={...null===i.divStyles||void 0===i.divStyles?void 0:i.divStyles[lH],index:lH},ld.isDivinityConnected=(null==n?void 0:null===(Z=n.divinity)||void 0===Z?void 0:null===(Q=Z.linkedDeities)||void 0===Q?void 0:Q[null==ld?void 0:ld.playerId])===4||(0,x.Rp)(ld,4);let lG=(0,o.Hx)(e,"Elemental_Sorcerer"),lU=(0,y.D)(i.classFamilyBonuses,"LV_FOR_ALL_TALENTS_ABOVE_LV_1",lG);if((null==ld?void 0:ld.class)==="Elemental_Sorcerer"){lU*=1+(0,r._X)(null==ld?void 0:ld.talents,3,"THE_FAMILY_GUY")/100;let l=(0,y.q)(i.classFamilyBonuses,"LV_FOR_ALL_TALENTS_ABOVE_LV_1");lU=(0,r.VG)(lU,null==l?void 0:l.func,null==l?void 0:l.x1,null==l?void 0:l.x2)}return ld.talents=(0,r.Nb)(lA,null,lF,ld.secondLinkedDeityIndex,ld.deityMinorBonus,ld.secondDeityMinorBonus,lU,n,ld),ld.flatTalents=(0,r.Nb)(lA,lk,lF,ld.secondLinkedDeityIndex,ld.deityMinorBonus,ld.secondDeityMinorBonus,lU,n,ld),ld.activeBuffs=null===(J=ld.activeBuffs)||void 0===J?void 0:J.map(l=>{var e;let{name:n}=l;return null===(e=ld.flatTalents)||void 0===e?void 0:e.find(l=>{let{name:e}=l;return e===n})}),ld.talentsLoadout=null==l?void 0:null===(le=l.AttackLoadout)||void 0===le?void 0:null===(ll=le.flat())||void 0===ll?void 0:null===($=ll.filter(l=>"Null"!==l))||void 0===$?void 0:$.map(l=>{var e,n;return(null===(e=ld.flatTalents)||void 0===e?void 0:e.find(e=>{let{skillIndex:n}=e;return l===n}))||(null===(n=ld.flatStarTalents)||void 0===n?void 0:n.find(e=>{let{skillIndex:n}=e;return l===n}))}),ld.npcDialog=null==l?void 0:l.NPCdialogue,ld.questComplete=null==l?void 0:l.QuestComplete,ld.printerSample=getPrinterSampleRate(ld,n,e),ld},getRespawnRate=(l,e)=>{var n,o,u,d,r,a,v,s,c,m,g,h,f,y,b,B,C,S,w,k,A,I,E,O,P,L,N;let{targetMonster:R}=l,D=null===i.monsters||void 0===i.monsters?void 0:i.monsters[R];if(!D||(null==D?void 0:D.AFKtype)==="Nothing")return{respawnRate:0,breakdown:[{name:"Not fighting",value:"TOWN"}]};let q="riftAll"===R,{RespawnTime:F,worldIndex:H}=D,G=(0,_.wt)(null==e?void 0:e.shrines,7,null==l?void 0:l.mapIndex,null==e?void 0:e.cards,null==e?void 0:null===(n=e.sailing)||void 0===n?void 0:n.artifacts),U=(0,x.gw)(l,e,10),V=(0,t.zi)(l,47,e),Y=(0,M.gY)(null==l?void 0:l.obols,null===i.bonuses||void 0===i.bonuses?void 0:null===(o=i.bonuses.etcBonuses)||void 0===o?void 0:o[47]),W=(0,p.o9)(l,e,"Mob_Respawn_rate"),j=(0,T.k)(null==e?void 0:e.achievements,44),z=null==e?void 0:null===(r=e.tasks)||void 0===r?void 0:null===(d=r[2])||void 0===d?void 0:null===(u=d[0])||void 0===u?void 0:u[1],K=null===i.tasks||void 0===i.tasks?void 0:null===(v=i.tasks[0])||void 0===v?void 0:null===(a=v[1])||void 0===a?void 0:a.bonusPerLevel,X=(0,T.k)(null==e?void 0:e.achievements,109),Q=null==e?void 0:null===(m=e.tasks)||void 0===m?void 0:null===(c=m[2])||void 0===c?void 0:null===(s=c[1])||void 0===s?void 0:s[1],Z=null===i.tasks||void 0===i.tasks?void 0:null===(h=i.tasks[1])||void 0===h?void 0:null===(g=h[1])||void 0===g?void 0:g.bonusPerLevel,J=null==e?void 0:null===(b=e.tasks)||void 0===b?void 0:null===(y=b[2])||void 0===y?void 0:null===(f=y[1])||void 0===f?void 0:f[1],$=null===i.tasks||void 0===i.tasks?void 0:null===(C=i.tasks[1])||void 0===C?void 0:null===(B=C[1])||void 0===B?void 0:B.bonusPerLevel,ll=null==e?void 0:null===(k=e.tasks)||void 0===k?void 0:null===(w=k[2])||void 0===w?void 0:null===(S=w[3])||void 0===S?void 0:S[1],le=null===i.tasks||void 0===i.tasks?void 0:null===(I=i.tasks[3])||void 0===I?void 0:null===(A=I[1])||void 0===A?void 0:A.bonusPerLevel,ln=(0,T.k)(null==e?void 0:e.achievements,308),li=null==e?void 0:null===(P=e.tasks)||void 0===P?void 0:null===(O=P[2])||void 0===O?void 0:null===(E=O[4])||void 0===E?void 0:E[1],lo=null===i.tasks||void 0===i.tasks?void 0:null===(N=i.tasks[4])||void 0===N?void 0:null===(L=N[1])||void 0===L?void 0:L.bonusPerLevel,lt=1===H||q?z*K:2===H?Q*Z:3===H?J*$:4===H?ll*le:5===H?li*lo:0,lu=1===H||q?j:2===H?X:5===H?2*ln:0,ld=[{name:"Shrine",value:G/100},{name:"Equipment",value:V/100},{name:"Achievement",value:lu/100},{name:"Chip",value:U/100},{name:"Starsigns",value:W/100},{name:"Merit",value:lt/100}];return ld.sort((l,e)=>null==l?void 0:l.name.localeCompare(null==e?void 0:e.name,"en")),{respawnRate:(q?45:F)/(1+(G+U+(V+Y)+lu+W+lt)/100),breakdown:ld}},getDropRate=(l,e,n)=>{var u,d,m,g,y,b,B,C,S,w,T,I,O,L,N,R,D,q,F,H,G,U,V;let Y;let{luck:W}=(null==l?void 0:l.stats)||{};Y=W<1e3?(Math.pow(W+1,.37)-1)/40:(W-1e3)/(W+2500)*.5+.297;let j=(0,s.xV)(null==l?void 0:l.postOffice,"Non_Predatory_Loot_Box",0),z=(0,r._X)(null==l?void 0:l.talents,1,"ROBBINGHOOD"),K=(0,r._X)(null==l?void 0:l.talents,1,"CURSE_OF_MR_LOOTY_BOOTY"),X=(0,r._X)(null==l?void 0:l.starTalents,null,"BOSS_BATTLE_SPILLOVER"),Q=(0,t.zi)(l,2,e),Z=(0,M.gY)(null==l?void 0:l.obols,null===i.bonuses||void 0===i.bonuses?void 0:null===(u=i.bonuses.etcBonuses)||void 0===u?void 0:u[2]),J=(0,c.om)(null==e?void 0:null===(d=e.alchemy)||void 0===d?void 0:d.bubbles,"kazam","DROPPIN_LOADS",!1),$=(0,a.OK)(null==l?void 0:null===(m=l.cards)||void 0===m?void 0:m.equippedCards,"Total_Drop_Rate"),ll=(0,f._r)(null==e?void 0:null===(g=e.guild)||void 0===g?void 0:g.guildBonuses,10),le=(null==l?void 0:null===(b=l.cards)||void 0===b?void 0:null===(y=b.cardSet)||void 0===y?void 0:y.rawName)==="CardSet26"||(null==l?void 0:null===(C=l.cards)||void 0===C?void 0:null===(B=C.cardSet)||void 0===B?void 0:B.rawName)==="CardSet25"?null==l?void 0:null===(w=l.cards)||void 0===w?void 0:null===(S=w.cardSet)||void 0===S?void 0:S.bonus:0,ln=(0,_.wt)(null==e?void 0:e.shrines,4,null==l?void 0:l.mapIndex,null==e?void 0:e.cards,null==e?void 0:null===(T=e.sailing)||void 0===T?void 0:T.artifacts),li=null===(I=(0,h.Y0)(null==l?void 0:l.activePrayers,"Midas_Minded",e))||void 0===I?void 0:I.bonus,lo=(0,c.Vq)(null==e?void 0:null===(L=e.alchemy)||void 0===L?void 0:null===(O=L.p2w)||void 0===O?void 0:O.sigils,"TROVE"),lt=(0,E.du)(null==e?void 0:null===(N=e.breeding)||void 0===N?void 0:N.pets,"Drop_Rate"),lu=(0,p.o9)(l,e,"Drop_Rate"),ld=(0,v.mV)(null==e?void 0:e.stamps,"+{%_Drop_Rate"),lr=(0,r.A5)(n,3,"Siege_Breaker","ARCHLORD_OF_THE_PIRATES"),la=1+lr*(0,k.lavaLog)(null==e?void 0:null===(R=e.accountOptions)||void 0===R?void 0:R[139])/100,lv=(0,o.fe)(e,3)?null==e?void 0:null===(F=e.companions)||void 0===F?void 0:null===(q=F.list)||void 0===q?void 0:null===(D=q.at(3))||void 0===D?void 0:D.bonus:0,ls=null===(H=(0,A.d)(null==e?void 0:null===(G=e.arcade)||void 0===G?void 0:G.shop,"Drop_Rate"))||void 0===H?void 0:H.bonus,lc=(0,P.z)(null==e?void 0:null===(U=e.equinox)||void 0===U?void 0:U.upgrades,"Faux_Jewels"),lm=(0,x.gw)(l,e,3),lp=1.4*Y+(z+j+(Q+Z)+J+$+K+lu+ll+le+ln+li+lo+lt+ls+lv+ld+(X*(null==e?void 0:null===(V=e.accountOptions)||void 0===V?void 0:V[189])+5*lc))/100+1;lp<5&&lm>0&&(lp=Math.min(5,lp+lm/100));let lg=lp*la,lh=[{name:"Luck",value:1.4*Y},{name:"Talents",value:(z+K)/100},{name:"Post Office",value:j/100},{name:"Equipment",value:Q/100},{name:"Obols",value:Z/100},{name:"Bubble",value:J/100},{name:"Cards",value:($+le)/100},{name:"Shrine",value:ln/100},{name:"Prayers",value:li/100},{name:"Sigil",value:lo/100},{name:"Shiny",value:lt/100},{name:"Arcade",value:ls/100},{name:"Starsign",value:lu/100},{name:"Guild",value:ll/100},{name:"Siege Breaker",value:la},{name:"Companion",value:lv/100},{name:"Equinox",value:5*lc/100},{name:"Base",value:1}];return lh.sort((l,e)=>null==l?void 0:l.name.localeCompare(null==e?void 0:e.name,"en")),{dropRate:lg,breakdown:lh}},getCashMulti=(l,e,n)=>{var u,d,v,p,g,_,y,b,S,w,k,A,E,P,L,N,R,D,q,F,H;let{strength:G,agility:U,wisdom:V}=(null==l?void 0:l.stats)||{},Y=(0,c.om)(null==e?void 0:null===(u=e.alchemy)||void 0===u?void 0:u.bubbles,"power","PENNY_OF_STRENGTH",!1,(null===r.nl||void 0===r.nl?void 0:r.nl[null==l?void 0:l.class])==="strength"),W=(0,c.om)(null==e?void 0:null===(d=e.alchemy)||void 0===d?void 0:d.bubbles,"quicc","DOLLAR_OF_AGILITY",!1,(null===r.nl||void 0===r.nl?void 0:r.nl[null==l?void 0:l.class])==="agility"),j=(0,c.om)(null==e?void 0:null===(v=e.alchemy)||void 0===v?void 0:v.bubbles,"high-iq","NICKEL_OF_WISDOM",!1,(null===r.nl||void 0===r.nl?void 0:r.nl[null==l?void 0:l.class])==="wisdom"),z=(0,x.c9)(null==e?void 0:e.lab.labBonuses,8),K=(0,x.pc)(null==e?void 0:e.lab.jewels,16,z),X=(0,C.F4)(e,null,"Cash",K),Q=null!==(H=null===(p=(0,I.YS)(null==e?void 0:null===(g=e.sailing)||void 0===g?void 0:g.artifacts,"Maneki_Kat"))||void 0===p?void 0:p.bonus)&&void 0!==H?H:0,Z=null==e?void 0:null===(_=e.accountOptions)||void 0===_?void 0:_[89],J=null===i.randomList||void 0===i.randomList?void 0:i.randomList[53],$=+(0,o.bV)(Z,J,5),ll=+(0,o.bV)(Z,J,14),le=(0,m.U6)(null==e?void 0:e.statues,"StatueG20"),ln=(0,x.c9)(null==e?void 0:e.lab.labBonuses,9),li=null===(y=(0,h.Y0)(null==l?void 0:l.activePrayers,"Jawbreaker",e))||void 0===y?void 0:y.bonus,lo=null==n?void 0:n.reduce((l,i)=>(0,o.fe)(e,3)?l+(0,O.kI)(i,e,3,n):(null==i?void 0:i.linkedDeity)===3?l+(null==i?void 0:i.deityMinorBonus):l,0),lt=(0,c.YG)(null==e?void 0:null===(b=e.alchemy)||void 0===b?void 0:b.vials,null,"MonsterCash"),lu=(0,t.zi)(l,3,e),ld=(0,M.gY)(null==l?void 0:l.obols,null===i.bonuses||void 0===i.bonuses?void 0:null===(S=i.bonuses.etcBonuses)||void 0===S?void 0:S[3]),lr=(0,a.OK)(null==e?void 0:e.cards,"Money_from_mobs_(Passive)"),la=(0,a.OK)(null==l?void 0:null===(w=l.cards)||void 0===w?void 0:w.equippedCards,"Money_from_Monsters"),lv=(0,r._X)(null==l?void 0:l.talents,1,"CHACHING!"),ls=(0,B.Qo)(null==e?void 0:null===(k=e.dungeons)||void 0===k?void 0:k.upgrades,"Monster_Cash"),lc=(null==e?void 0:null===(P=e.arcade)||void 0===P?void 0:null===(E=P.shop)||void 0===E?void 0:null===(A=E[10])||void 0===A?void 0:A.bonus)+(null==e?void 0:null===(R=e.arcade)||void 0===R?void 0:null===(N=R.shop)||void 0===N?void 0:null===(L=N[11])||void 0===L?void 0:L.bonus),lm=(0,s.xV)(null==l?void 0:l.postOffice,"Utilitarian_Capsule",2),lp=(0,f._r)(null==e?void 0:null===(D=e.guild)||void 0===D?void 0:D.guildBonuses,8),lg=1*(0,r._X)(null==l?void 0:l.starTalents,null,"COINS_FOR_CHARON"),lh=(null==l?void 0:null===(F=l.skillsInfo)||void 0===F?void 0:null===(q=F.cooking)||void 0===q?void 0:q.level)/10,lf=lh*(0,r._X)(null==l?void 0:l.starTalents,null,"AMERICAN_TIPPER"),l_=(0,o.tE)("Golden_Bread",l,e),ly=(0,T.k)(null==e?void 0:e.achievements,235),{dropRate:lb}=getDropRate(l,e,n),lB=Y*Math.floor(G/250)+(W*Math.floor(U/250)+j*Math.floor(V/250)),lC=(1+lB/100)*(1+(X+Q)/100)*(1+(.5*$+(ll+le/100)))*(1+ln/100)*(1+li/100)*(1+lo/100)*(1+(lt+(lu+ld+(la+lr+(lv+(ls+lc+(lm+(lp*(1+Math.floor((null==l?void 0:l.mapIndex)/50))+(lg+(lf+(1+l_/100+5*ly))))))))))/100),lM=[{name:"Bubbles*",value:lB},{name:"Meal*",value:X},{name:"Artifact*",value:Q},{name:"Pet Arena*",value:100*(.5*$+ll)},{name:"Statues",value:le},{name:"Lab*",value:ln},{name:"Prayers*",value:li},{name:"Divinity*",value:lo},{name:"Vials",value:lt},{name:"Equipment",value:lu},{name:"Obols",value:ld},{name:"Cards",value:la+lr},{name:"Guild",value:lp*(1+Math.floor((null==l?void 0:l.mapIndex)/50))},{name:"Talents",value:lg+lf},{name:"Golden Food",value:l_},{name:"Achievements",value:5*ly},{name:"Dungeons",value:ls},{name:"Arcade",value:lc},{name:"Post Office",value:lm},{name:"Drop Rate*",value:(lb<2?lb:Math.floor(lb<5?lb:lb+1))*100}];return lM.sort((l,e)=>null==l?void 0:l.name.localeCompare(null==e?void 0:e.name,"en")),{cashMulti:lC,breakdown:lM}},getPrinterSampleRate=(l,e,n)=>{var u,d,a,m,p,g,f,_;let B=(0,r._X)(null==l?void 0:l.starTalents,null,"PRINTER_SAMPLING"),C=(0,b.W)(null==e?void 0:e.saltLick,0),M=(0,t.zi)(l,60,e),S=(0,c.om)(null==e?void 0:null===(u=e.alchemy)||void 0===u?void 0:u.bubbles,"kazam","SAMPLE_IT",!1),w=(0,r._X)(null==l?void 0:l.talents,null,"SUPER_SAMPLES"),x=(0,T.k)(null==e?void 0:e.achievements,158),k=(0,c.YG)(null==e?void 0:null===(d=e.alchemy)||void 0===d?void 0:d.vials,"Printer_sample"),I=null===(a=(0,h.Y0)(null==l?void 0:l.activePrayers,"The_Royal_Sampler",e))||void 0===a?void 0:a.bonus,E=(0,v.mV)(null==e?void 0:e.stamps,"3D_Printer_Sampling_Size"),O=null==e?void 0:null===(g=e.tasks)||void 0===g?void 0:null===(p=g[2])||void 0===p?void 0:null===(m=p[2])||void 0===m?void 0:m[4],P=(0,o.Hx)(n,"Voidwalker"),L=(0,y.D)(i.classFamilyBonuses,"PRINTER_SAMPLE_SIZE",P),N=null===(f=(0,A.d)(null==e?void 0:null===(_=e.arcade)||void 0===_?void 0:_.shop,"Sample_Size"))||void 0===f?void 0:f.bonus,R=(0,s.xV)(null==l?void 0:l.postOffice,"Utilitarian_Capsule",0);return Math.floor(1e3*((B+(C+M)+(S+(w+Math.min(1,x)))+k+I+E+Math.min(5,.5*O)+Math.min(5,L)+(N+R))/100))/10},getBarbarianZowChow=(l,e)=>{let n=["Nothing","Z","Copper","Iron","Starfire","Plat","Void","Filler","JungleZ","Grandfrog's_Gazebo","Grandfrog's_Backyard","Gravel_Tomb","Heaty_Hole","Igloo's_Basement","Inside_the_Igloo","End_Of_The_Road","Efaunt's_Tomb","Eycicles's_Nest","Enclave_a_la_Troll","Chizoar's_Cavern"].toSimpleObject(),o=Object.values(i.mapNames).map((n,o)=>{var t,u,d;let r=null===i.mapEnemiesArray||void 0===i.mapEnemiesArray?void 0:i.mapEnemiesArray[o],{MonsterFace:a,Name:v,AFKtype:s}=(null===i.monsters||void 0===i.monsters?void 0:i.monsters[r])||{},c=Math.abs((null==l?void 0:null===(t=l[o])||void 0===t?void 0:t[0])-(null===i.mapDetails||void 0===i.mapDetails?void 0:null===(d=i.mapDetails[o])||void 0===d?void 0:null===(u=d[0])||void 0===u?void 0:u[0]));return{mapName:n,afkTarget:r,kills:c,monsterFace:a,name:v,afkType:s,done:null==e?void 0:e.map(l=>c>=l)}}).filter(l=>{let{mapName:e,afkTarget:i,name:o,afkType:t,kills:u,mapThreshold:d}=l;return"FIGHTING"===t&&!n[e]&&!t.includes("Fish")&&!t.includes("Bug")&&!e.includes("Colosseum")}),t=null==o?void 0:o.reduce((l,e)=>{let{done:n}=e;return[(null==n?void 0:n[0])?(null==l?void 0:l[0])+1:null==l?void 0:l[0],(null==n?void 0:n[1])?(null==l?void 0:l[1])+1:null==l?void 0:l[1]]},[0,0]);return{finished:t,list:o}},getPlayerCrystalChance=(l,e,n)=>{var i,o,t,u;let d=R(null==n?void 0:n.Sailing)||(null==n?void 0:n.Sailing),c=null==d?void 0:d[3],m=(null==c?void 0:c[0])>0,p=(0,_.wt)(null==e?void 0:e.shrines,6,l.mapIndex,e.cards,m),g=(0,v.fE)(null==e?void 0:e.stamps,"misc","StampC3",l),h=null==l?void 0:null===(o=l.cards)||void 0===o?void 0:null===(i=o.equippedCards)||void 0===i?void 0:i.find(l=>{let{cardIndex:e}=l;return"A10"===e}),f=h?(0,a.BZ)(h):0,y=null==l?void 0:null===(u=l.cards)||void 0===u?void 0:null===(t=u.equippedCards)||void 0===t?void 0:t.find(l=>{let{cardIndex:e}=l;return"G4"===e}),b=y?(0,a.BZ)(y):0,B=(0,r._X)(null==l?void 0:l.starTalents,null,"CRYSTALS_4_DAYYS"),C=(0,r._X)(null==l?void 0:l.talents,1,"CMON_OUT_CRYSTALS"),M=(0,s.xV)(null==l?void 0:l.postOffice,"Non_Predatory_Loot_Box",2),S=[{name:"Cmon Out Crystals",value:C},{name:"Crystal Shrine Bonus",value:p},{name:"Post Office",value:M},{name:"Crystals 4 Days",value:B},{name:"Crystallin Stamp",value:g},{name:"Poop Card",value:f},{name:"Demon Genie Card",value:b}];return S.sort((l,e)=>null==l?void 0:l.name.localeCompare(null==e?void 0:e.name,"en")),{value:5e-4*(1+C/100)*(1+(M+p)/100)*(1+B/100)*(1+g/100)*(1+(f+b)/100),breakdown:S}},getPlayerFoodBonus=(l,e,n)=>{var i,o,u,d;let c=(0,s.xV)(null==l?void 0:l.postOffice,"Carepack_From_Mum",2),g=(0,m.U6)(null==e?void 0:e.statues,"StatueG4",null==l?void 0:l.talents),h=(0,t.zi)(l,9,e),f=(0,v.mV)(null==e?void 0:e.stamps,"Effect_from_Boost_Food",l),_=(0,p.o9)(l,e,"All_Food_Effect"),y=(0,a.Xt)(null==l?void 0:l.cards,"Y5"),b=(null==l?void 0:null===(o=l.cards)||void 0===o?void 0:null===(i=o.cardSet)||void 0===i?void 0:i.rawName)==="CardSet1"?null==l?void 0:null===(d=l.cards)||void 0===d?void 0:null===(u=d.cardSet)||void 0===u?void 0:u.bonus:0,B=(0,r._X)(null==l?void 0:l.starTalents,null,"FROTHY_MALK");if(n){let n=(0,s.xV)(null==l?void 0:l.postOffice,"Carepack_From_Mum",1),i=(0,v.mV)(null==e?void 0:e.stamps,"Boost_Health_Effect",l);return 1+(n+(g+(h+(i+(_+b)))))/100}return 1+(c+(g+(h+(f+(_+(y+(b+B)))))))/100},getPlayerSpeedBonus=(l,e,n)=>{var i,u,d,s,g,h,f,_,y,B,C,M;let S,w;let x=(0,r._X)(null==l?void 0:l.talents,0,"FEATHERWEIGHT"),T=(0,r._X)(null==l?void 0:l.talents,0,"FEATHER_FLIGHT"),k=(0,v.mV)(null==n?void 0:n.stamps,"Movement_Speed",l),A=(0,r.eZ)(null==l?void 0:l.activeBuffs,"STRAFE"),I=(0,o.sU)(l,n,"MoveSpdBoosts");w=(null===(i=l.stats)||void 0===i?void 0:i.agility)<1e3?(Math.pow((null===(d=l.stats)||void 0===d?void 0:d.agility)+1,.4)-1)/40:((null===(s=l.stats)||void 0===s?void 0:s.agility)-1e3)/((null===(g=l.stats)||void 0===g?void 0:g.agility)+2500)*.5+.371;let E=(0,m.U6)(null==n?void 0:n.statues,"StatueG2",null==l?void 0:l.talents),O=(0,p.o9)(l,n,"Movement_Speed"),P=(0,t.zi)(l,1,n),L=(0,a.OK)(null==l?void 0:null===(u=l.cards)||void 0===u?void 0:u.equippedCards,"Move_Spd");S=1+((S=(I+x+k+A+(E+(O+(P+(L+T)))))/100)+w/2.2);let N=(0,r._X)(null==l?void 0:l.starTalents,null,"TIPTOE_QUICKNESS");if(S>2)S=Math.floor(100*S)/100;else if(S>1.75)S=Math.min(2,Math.floor(100*(S+N/100))/100);else{let e=(0,b.W)(null==n?void 0:n.saltLick,7),i=null!==(M=null==n?void 0:null===(y=n.lab)||void 0===y?void 0:null===(_=y.playersChips)||void 0===_?void 0:null===(f=_[null==l?void 0:l.playerId])||void 0===f?void 0:null===(h=f.find(l=>15===l.index))||void 0===h?void 0:h.baseVal)&&void 0!==M?M:0,o=(0,c.Vq)(null==n?void 0:null===(C=n.alchemy)||void 0===C?void 0:null===(B=C.p2w)||void 0===B?void 0:B.sigils,"TUFT_OF_HAIR");S=Math.min(1.75,Math.floor(100*(S+(e+i+(N+o))/100))/100)}return Math.round(100*S)},getAfkGain=(l,e,n)=>{var u,d,v,c,m,g,b,C,S,w,x,T,k,I,E,P,L,N,R,D,q,F,H,G,U;let{targetMonster:V}=l,{lab:Y,guild:W,dungeons:j,accountOptions:z,bribes:K,shrines:X,charactersLevels:Q,tasks:Z}=n,J=(null==Z?void 0:null===(d=Z[2])||void 0===d?void 0:null===(u=d[1])||void 0===u?void 0:u[2])>(null==l?void 0:l.playerId)?2:0,$=null===i.monsters||void 0===i.monsters?void 0:i.monsters[V];(null==K?void 0:null===(v=K[24])||void 0===v?void 0:v.done)&&(null==K||null===(c=K[24])||void 0===c||c.value);let ll=(0,_.wt)(X,8,null==l?void 0:l.mapIndex,n.cards,null==n?void 0:null===(m=n.sailing)||void 0===m?void 0:m.artifacts);if($){let u=(0,o.Hx)(Q,"Voidwalker"),d=(0,y.D)(i.classFamilyBonuses,"FIGHTING_AFK_GAINS",u),v=(0,s.xV)(null==l?void 0:l.postOffice,"Civil_War_Memory_Box",1),c=(0,r._X)(null==l?void 0:l.talents,0,"IDLE_BRAWLING"),m=(0,r._X)(null==l?void 0:l.talents,0,"IDLE_CASTING"),_=(0,r._X)(null==l?void 0:l.talents,0,"IDLE_SHOOTING"),V=(0,r._X)(null==l?void 0:l.talents,0,"SLEEPIN'_ON_THE_JOB"),Y=(0,r._X)(null==l?void 0:l.starTalents,null,"TICK_TOCK"),j=(null==K?void 0:null===(g=K[3])||void 0===g?void 0:g.done)?null==K?void 0:null===(b=K[3])||void 0===b?void 0:b.value:0,z=(null==l?void 0:null===(S=l.cards)||void 0===S?void 0:null===(C=S.cardSet)||void 0===C?void 0:C.rawName)==="CardSet8"?null==l?void 0:null===(x=l.cards)||void 0===x?void 0:null===(w=x.cardSet)||void 0===w?void 0:w.bonus:0,X=(0,a.OK)(null==l?void 0:null===(T=l.cards)||void 0===T?void 0:T.equippedCards,"Fighting_AFK_gain_rate"),Z=(0,t.zi)(l,20,n),$=(0,M.gY)(null==l?void 0:l.obols,null===i.bonuses||void 0===i.bonuses?void 0:null===(k=i.bonuses.etcBonuses)||void 0===k?void 0:k[20]),le=(0,t.zi)(l,59,n),ln=(0,M.gY)(null==l?void 0:l.obols,null===i.bonuses||void 0===i.bonuses?void 0:null===(I=i.bonuses.etcBonuses)||void 0===I?void 0:I[59]),li=(0,p.o9)(l,n,"Fight_AFK_Gain"),lo=0;(null==W?void 0:null===(E=W.guildBonuses)||void 0===E?void 0:E.length)>0&&(lo=(0,f._r)(null==W?void 0:W.guildBonuses,4));let lt=null===(P=(0,h.Y0)(null==l?void 0:l.activePrayers,"Zerg_Rushogen",n))||void 0===P?void 0:P.bonus,lu=null===(L=(0,h.Y0)(null==l?void 0:l.activePrayers,"Ruck_Sack",n))||void 0===L?void 0:L.curse,ld=null!==(U=null==n?void 0:null===(q=n.lab)||void 0===q?void 0:null===(D=q.playersChips)||void 0===D?void 0:null===(R=D[null==l?void 0:l.playerId])||void 0===R?void 0:null===(N=R.find(l=>7===l.index))||void 0===N?void 0:N.baseVal)&&void 0!==U?U:0,lr=null===(F=(0,A.d)(null==n?void 0:null===(H=n.arcade)||void 0===H?void 0:H.shop,"AFK_Gains_Rate"))||void 0===F?void 0:F.bonus,la=(0,B.Qo)(null==n?void 0:null===(G=n.dungeons)||void 0===G?void 0:G.upgrades,"AFK_Gains"),lv=(0,o.fe)(n,0)||(null==l?void 0:l.linkedDeity)===0||(null==l?void 0:l.secondLinkedDeityIndex)===0?1:0,ls=null==e?void 0:e.reduce((l,i)=>(0,o.fe)(n,0)?l+(0,O.kI)(i,n,4,e):(null==i?void 0:i.linkedDeity)===4?(null==i?void 0:i.deityMinorBonus)>l?null==i?void 0:i.deityMinorBonus:l:(null==i?void 0:i.secondLinkedDeityIndex)===4&&(null==i?void 0:i.secondDeityMinorBonus)>l?null==i?void 0:i.secondDeityMinorBonus:l,0),lc=(0,o.fe)(n,6)&&5,lm=.2+(d+v+c+j+(_+z+(m+(Y+(J+(lr+(la+(30*lv+ls+lc)))+(X+(V+(Z+$+(le+ln)+(li+(lo+(lt-lu+ld)))))))))))/100,lp=lm;lm<1.5&&(lp=Math.min(1.5,lm+ll/100));let lg=Math.max(.01,lp),lh=[{name:"Tasks",value:J},{name:"Arcade Shop",value:lr},{name:"Flurbo",value:la},{name:"Major God",value:30*lv},{name:"Minor God",value:ls},{name:"Family",value:d},{name:"Post Office",value:v},{name:"Talents",value:c+m+_+V},{name:"Bribe",value:j},{name:"Card Set",value:z},{name:"Cards",value:X},{name:"Equipment",value:Z+le},{name:"Obols",value:$+ln},{name:"Prayers",value:lt-lu},{name:"Chips",value:ld},{name:"Guild",value:lo},{name:"Starsign",value:li},{name:"Shrine (< 150)",value:lm<1.5?ll:0}];return{afkGains:lg,breakdown:lh}}return 1},getPlayerCapacity=(l,e)=>l?(0,o.UR)(l,e):50,getNonConsumeChance=(l,e)=>{let{starSigns:n,cards:i,postOffice:o,talents:t,equippedBubbles:u}=l,{lab:d}=e,v=(0,x.c9)(null==d?void 0:d.labBonuses,8),m=(0,x.pc)(null==d?void 0:d.jewels,8,v),g=(0,c.y7)(u,"power","BITE_BUT_NOT_CHEW",e),h=(0,r._X)(t,1,"FREE_MEAL"),f=(0,s.xV)(o,"Carepack_From_Mum",0),_=(0,a.Xt)(null==i?void 0:i.equippedCards,"B3"),y=(0,p.Wv)(n,e,"chance_to_not");return Math.min(Math.min(90+5*m,98+Math.min(g,1)),Math.max(1,m)*(h+(f+(_+y+g))))},getPlayerConstructionSpeed=(l,e)=>{var n,o,u,d,a,m,p,g;let h=null==l?void 0:null===(o=l.skillsInfo)||void 0===o?void 0:null===(n=o.construction)||void 0===n?void 0:n.level,_=null===r.nl||void 0===r.nl?void 0:r.nl[null==l?void 0:l.class],y=(0,c.om)(null==e?void 0:null===(u=e.alchemy)||void 0===u?void 0:u.bubbles,"power","CARPENTER",!1,"strength"===_),b=(0,v.mV)(null==e?void 0:e.stamps,"Building_Speed",l),B=(0,s.wO)(null==l?void 0:l.postOffice,"Construction_Container"),C=(0,f._r)(null==e?void 0:null===(d=e.guild)||void 0===d?void 0:d.guildBonuses,5),S=(0,t.zi)(l,30,e),w=(0,M.gY)(null==l?void 0:l.obols,null===i.bonuses||void 0===i.bonuses?void 0:null===(a=i.bonuses.etcBonuses)||void 0===a?void 0:a[30]),x=(0,T.k)(null==e?void 0:e.achievements,153),A=(0,L.lC)(null==e?void 0:null===(m=e.towers)||void 0===m?void 0:m.totalLevels,"Build Spd"),I=(0,c.YG)(null==e?void 0:null===(p=e.alchemy)||void 0===p?void 0:p.vials,null,"Contspd"),E=(0,r._X)(null==l?void 0:l.talents,2,"REDOX_RATES",!1,!0),O=(0,N._m)(e,"Helium_-_Talent_Power_Stacker"),P=(0,t.ju)([...null==e?void 0:e.storage,...null==e?void 0:null===(g=e.refinery)||void 0===g?void 0:g.refineryStorage],"Refinery1",!0,!0);return null==l||l.name,Math.floor(3*Math.pow(h/2+.7,1.6)*(1+h*y/100)*(1+(b+.25*B+(C+(S+w)+Math.min(5,5*x)+A+I))/100)*(1+E*(O+(0,k.lavaLog)(P))/100))},getPlayerConstructionExpPerHour=(l,e)=>{var n,i,o;let t=null==l?void 0:l.constructionSpeed,u=(0,c.y7)(l.equippedBubbles,"power","CALL_ME_BOB",e),d=(0,r._X)(null==l?void 0:l.talents,2,"SHARPER_SAWS"),a=(0,r._X)(null==l?void 0:l.talents,1,"TEMPESTUOUS_EMOTIONS"),g=(0,c.YG)(null==e?void 0:null===(n=e.alchemy)||void 0===n?void 0:n.vials,null,"ConsExp"),h=(0,m.U6)(null==e?void 0:e.statues,"StatueG19",null==l?void 0:l.talents),f=(0,v.mV)(null==e?void 0:e.stamps,"+{%_Construction_Exp_Gain",l),_=(0,p.o9)(l,e,"Construct_Exp"),y=(0,s.wO)(null==l?void 0:l.postOffice,"Construction_Container");return null==l||l.name,Math.ceil((Math.pow(t,.7)/2+(2+6*(null==l?void 0:null===(o=l.skillsInfo)||void 0===o?void 0:null===(i=o.construction)||void 0===i?void 0:i.level)))*(1+(u+(d+a+(g+(h+(f+(_+Math.max(0,.5*(y-100))))))))/100))}},89260:function(l,e,n){n.d(e,{Cz:function(){return f},F4:function(){return getMealsBonusByEffectOrStat},GF:function(){return getChipsAndJewels},Kn:function(){return calcTimeToNextLevel},Qo:function(){return calcMealTime},Tt:function(){return getCooking},eA:function(){return getTotalKitchenLevels},sV:function(){return getMealLevelCost},vu:function(){return getKitchens},wR:function(){return applyMealsMulti},zp:function(){return h}});var i=n(70473);n(56552);var o=n(1972);n(88344);var t=n(42168);n(4056);var u=n(15893),d=n(88054),r=n(10924),a=n(9339),v=n(16727),s=n(5432),c=n(20385),m=n(30796),p=n(72973),g=n(74044);let h=["Grasslands","Jungle","Encroaching Forest","Tree Interior","Stinky Sewers","Desert Oasis","Beach Docks","Coarse Mountains","Twilight Desert","The Crypt","Frosty Peaks","Tundra Outback","Crystal Caverns","Pristalle Lake","Nebulon Mantle","Starfield Skies","Shores of Eternity","Molten Bay","Smokey Lake","Wurm Catacombs"],getCooking=(l,e)=>{let n=(0,t.tryToParse)(null==l?void 0:l.Cooking)||(null==l?void 0:l.Cooking),i=(0,t.tryToParse)(null==l?void 0:l.Meals)||(null==l?void 0:l.Meals),o=(0,t.tryToParse)(null==l?void 0:l.Territory)||(null==l?void 0:l.Territory);return parseCooking(i,o,n,e)},parseCooking=(l,e,n,i)=>{let o=getMeals(l,i),t=getSpices(l,e,i);return{meals:o,spices:t}},getSpices=(l,e,n)=>{var i,o;let t=null==e?void 0:e.reduce((l,e,n)=>{let[i,o,,t]=e;return[...l,{progress:i,amount:o,rawName:t,name:h[n]}]},[]),u=null==l?void 0:null===(i=l[3])||void 0===i?void 0:i.filter(l=>l>0).map((l,e)=>{var n;return{amount:l,toClaim:null==t?void 0:null===(n=t[e])||void 0===n?void 0:n.amount,rawName:"CookingSpice".concat(e),name:h[e]}}),d=null==n?void 0:null===(o=n.accountOptions)||void 0===o?void 0:o[100];return{toClaim:t,available:u,numberOfClaims:d}},getMeals=(l,e)=>{var n;let o=null==l?void 0:l[0],t=null==l?void 0:l[2],u=(0,s.du)(null==e?void 0:null===(n=e.breeding)||void 0===n?void 0:n.pets,"Bonuses_from_All_Meals");return null==o?void 0:o.map((l,e)=>e>56?null:{level:l,amount:null==t?void 0:t[e],shinyMulti:u,...(null===i.cookingMenu||void 0===i.cookingMenu?void 0:i.cookingMenu[e])||{}}).filter(l=>l)},applyMealsMulti=(l,e)=>null==l?void 0:l.map(l=>({...l,multiplier:1+e/100})),getSpiceUpgradeCost=(l,e)=>{let n=e+1+Math.floor(Math.max(0,e-10)/2);return Math.ceil(1+l*(n+=Math.pow(Math.max(0,e-30),1.2))*Math.pow(1.02,Math.max(0,e-60)))},getMealsBonusByEffectOrStat=function(l,e,n){var i,o,t;let u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,d=(0,s.du)(null==l?void 0:null===(i=l.breeding)||void 0===i?void 0:i.pets,"Bonuses_from_All_Meals");return null==l?void 0:null===(t=l.cooking)||void 0===t?void 0:null===(o=t.meals)||void 0===o?void 0:o.reduce((l,i)=>{let{level:o,baseStat:t,effect:r,stat:a}=i;if(e){if(!r.includes(e))return l}else if(a!==n)return l;return"PxLine"===n?l+o*t:l+(1+(u+d)/100)*o*t},0)},getKitchens=(l,e,n)=>{let i=(0,t.tryToParse)(null==l?void 0:l.Cooking)||(null==l?void 0:l.Cooking),o=(0,t.tryToParse)(null==l?void 0:l.Atoms)||(null==l?void 0:l.Atoms);return parseKitchens(i,o,e,n)},parseKitchens=(l,e,n,t)=>{var s,p,g,h,f,_,y;let b=null==t?void 0:null===(s=t.accountOptions)||void 0===s?void 0:s[89],B=null===i.randomList||void 0===i.randomList?void 0:i.randomList[53],C=null==l?void 0:l.reduce((l,e)=>{let[n,i,o]=e.slice(6,9);return l+n+i+o},0),M=null==t?void 0:null===(g=t.cooking)||void 0===g?void 0:null===(p=g.meals)||void 0===p?void 0:p.reduce((l,e)=>{let{level:n}=e;return n>=11?l+1:l},0),S=null==t?void 0:null===(f=t.cooking)||void 0===f?void 0:null===(h=f.meals)||void 0===h?void 0:h.reduce((l,e)=>{let{level:n}=e;return n>=30?l+1:l},0),w=null==t?void 0:null===(y=t.cooking)||void 0===y?void 0:null===(_=y.meals)||void 0===_?void 0:_.reduce((l,e)=>{let{level:n}=e;return l+n},0);return null==l?void 0:l.map((l,s)=>{var p,g,h,f,_,y,x,T,k,A,I,E,O,P,L;let[N,R,D,q,F,H,G,U,V,,Y]=l;if(N<=0)return null;let W=(0,u.c9)(t.lab.labBonuses,8),j=(0,u.pc)(t.lab.jewels,16,W),z=(0,u.pc)(t.lab.jewels,14,W),K=(0,o.mV)(null==t?void 0:t.stamps,"Meal_Cooking_Speed"),X=(0,d.iu)(null==t?void 0:null===(p=t.alchemy)||void 0===p?void 0:p.vials,"MealCook"),Q=getMealsBonusByEffectOrStat(t,"Meal_Cooking_Speed",null,j),Z=(0,d.om)(null==t?void 0:null===(g=t.alchemy)||void 0===g?void 0:g.bubbles,"kazam","DIAMOND_CHEF",!1),J=getMealsBonusByEffectOrStat(t,null,"KitchenEff",j),$=null==t?void 0:null===(h=t.cards)||void 0===h?void 0:h.Massive_Troll,ll=null!==(O=null==$?void 0:$.stars)&&void 0!==O?O:0,le=0===ll?0:ll+1,ln=(null===(_=t.lab.jewels)||void 0===_?void 0:null===(f=_.slice(0,3))||void 0===f?void 0:f.every(l=>{let{active:e}=l;return e}))?2:1,li=(0,u.pc)(t.lab.jewels,0,W)*ln,lo=s<(null==t?void 0:null===(y=t.gemShopPurchases)||void 0===y?void 0:y.find((l,e)=>120===e)),lt=null!==(P=null===(x=(0,v.YS)(null==t?void 0:null===(T=t.sailing)||void 0===T?void 0:T.artifacts,"Triagulon"))||void 0===x?void 0:x.bonus)&&void 0!==P?P:0,lu=Math.pow(Z,M),ld=(0,a.k)(null==t?void 0:t.achievements,225),lr=(0,a.k)(null==t?void 0:t.achievements,224),la=(0,c.Ob)(t,"MSA_Mealing"),lv=0;la&&(lv=null==la?void 0:la.bonus);let ls=(0,m.A5)(n,3,"Voidwalker","ENHANCEMENT_ECLIPSE"),lc=(0,m.A5)(n,3,"Voidwalker","BLOOD_MARROW"),lm=(0,m.xI)(n,t,ls,146),lp=i.atomsInfo.findIndex(l=>{let{name:e}=l;return"Fluoride_-_Void_Plate_Chef"===e}),lg=0,lh=null==e?void 0:e[lp];lh&&(lg=Math.pow(1+(null===i.atomsInfo||void 0===i.atomsInfo?void 0:null===(L=i.atomsInfo[lp])||void 0===L?void 0:L.baseBonus)*lh/100,S));let lf=10*(1+Math.pow(Math.min(1.012,1+lc/100),w)/100)*Math.max(1,Math.max(1,lm))*(1+(lo?2:0))*Math.max(1,lu)*Math.max(1,lg)*(1+lv/100)*(1+G/10)*(1+lt/100)*(1+X/100)*(1+(K+Math.max(0,Math.floor(C/25)*(z||0)))/100)*(1+Q/100)*Math.max(1,li)*(1+Math.min(6*le+(20*ld+10*lr),100)/100)*(1+J*Math.floor((G+(U+V))/10)/100),l_=(0,d.YG)(null==t?void 0:null===(k=t.alchemy)||void 0===k?void 0:k.vials,"Recipe_Cooking_Speed"),ly=(0,o.mV)(null==t?void 0:t.stamps,"New_Recipe_Cooking_Speed"),lb=getMealsBonusByEffectOrStat(t,null,"Rcook",j),lB=5*(1+(lo?1:0))*Math.max(1,lu)*Math.max(1,lg)*(1+lv/100)*(1+U/10)*(1+l_/100)*(1+ly/100)*(1+lb/100)*(1+Math.min(6*le,50)/100)*(1+J*Math.floor((G+(U+V))/10)/100),lC=1+Math.pow(5*V,.85)/100,lM=(0,d.YG)(null==t?void 0:null===(A=t.alchemy)||void 0===A?void 0:A.vials,"Kitchen_Upgrading_Cost"),lS=getMealsBonusByEffectOrStat(t,null,"KitchC",j),lw=(0,r.bV)(b,B,7),lx=1/((1+lM/100)*(1+lS/100)*(1+(lo?40:0)/100)*(1+.5*(lw?1:0))),lT=getSpiceUpgradeCost(lx,G),lk=getSpiceUpgradeCost(lx,U),lA=getSpiceUpgradeCost(lx,V),lI=[D,q,F,H].filter(l=>-1!==l),lE=lI.map(l=>{var e;return parseInt(null===(e=i.randomList[49])||void 0===e?void 0:e.split(" ")[l])}),lO=getMealsFromSpiceValues(i.randomList[49],lE).filter(l=>l>0).map(l=>{var e,n;return{index:l,rawName:null===i.cookingMenu||void 0===i.cookingMenu?void 0:null===(e=i.cookingMenu[l])||void 0===e?void 0:e.rawName,cookReq:null===i.cookingMenu||void 0===i.cookingMenu?void 0:null===(n=i.cookingMenu[l])||void 0===n?void 0:n.cookReq}});return{status:N,meal:{...(null===i.cookingMenu||void 0===i.cookingMenu?void 0:i.cookingMenu[R])||{},...(null==t?void 0:null===(E=t.cooking)||void 0===E?void 0:null===(I=E.meals)||void 0===I?void 0:I[R])||{}},luckLv:V,fireLv:U,speedLv:G,currentProgress:Y,mealSpeed:lf,mealLuck:lC,fireSpeed:lB,speedCost:lT,fireCost:lk,luckCost:lA,...3===N?{spices:lI}:{},...3===N?{possibleMeals:lO}:{}}}).filter(l=>l)},getMealsFromSpiceValues=(l,e)=>{let n=[];e.forEach(l=>{n.includes(l)||n.push(l)});let i=l.split(" ").map(l=>parseFloat(l)),o=e.reduce((l,e)=>l+i.indexOf(e),0);return l.includes(o)||n.push(o),!(e.length>2)||n.includes(o-1)||i.includes(o-1)||n.push(o-1),!(e.length>1)||n.includes(o+1)||i.includes(o+1)||n.push(o+1),n.sort((l,e)=>l<e?-1:1)},calcMealTime=(l,e,n,i,o)=>{let{amount:t,level:u,cookReq:d}=e;if(u>=l)return 0;let r=0;for(let e=u;e<l;e++)r+=getMealLevelCost(e,i,o);return(r-=t)<0?0:calcTimeToNextLevel(r,d,n)},getMealLevelCost=(l,e,n)=>{let i=1/Math.min(5,Math.max(1,1+10*(0,a.k)(e,233)/100)),o=Math.max(.01,Math.pow(.8,(0,p.z)(n,"Food_Lust")));return i*(10+(l+Math.pow(l,2)))*Math.pow(1.2+.05*l,l)*o},calcTimeToNextLevel=(l,e,n)=>l*e/n,getTotalKitchenLevels=l=>null==l?void 0:l.reduce((l,e)=>{let{speedLv:n,luckLv:i,fireLv:o}=e;return l+n+i+o},0),f=100,getChipsAndJewels=function(l){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(!l)return[];let{serverVars:n,timeAway:i,lab:o}=l||{},t=null==o?void 0:o.chips,u=null==o?void 0:o.jewels,d=Math.floor((null==i?void 0:i.GlobalTime)/604800),r=[];for(let l=0;l<e;l++){let e=[],n=new g.Z(Math.round(d+l)),i=Math.floor(1e3*n.rand());e.push(t[Math.round(i-Math.floor(i/(t.length-10))*(t.length-10))]);let o=new g.Z(Math.round(d+l+500)),a=Math.floor(1e3*o.rand());e.push(t[Math.round(a-Math.floor(a/t.length)*t.length)]);let v=new g.Z(Math.round(d+l+1e3)),s=Math.floor(1e3*v.rand());e.push(u[Math.round(s-Math.floor(s/u.length)*u.length)]);let c=Math.floor((d+l)*6048e5);r.push({items:e,date:new Date(c)})}return r}},19834:function(l,e,n){n.d(e,{HQ:function(){return getGodBlessingBonus},kI:function(){return getMinorDivinityBonus},s8:function(){return getDeityLinkedIndex},wl:function(){return applyGodCost},y0:function(){return getDivinity},zJ:function(){return getGodByIndex}});var i=n(15893),o=n(10924),t=n(88054);let{tryToParse:u}=n(42168),{gods:d}=n(70473),getDivinity=(l,e,n)=>{let i=u(null==l?void 0:l.Divinity)||(null==l?void 0:l.Divinity);return i?parseDivinity(i,e,n):null},parseDivinity=(l,e,n)=>{let i=null==e?void 0:e.length,o=null==l?void 0:l.slice(12,12+i),t=null==l?void 0:l.slice(28,28+(null==d?void 0:d.length)+1),u=null==l?void 0:l.slice(0,(null==e?void 0:e.length)+1),r=null==l?void 0:l[25],a=null==d?void 0:d.map((l,e)=>{let n=null==t?void 0:t[e],i=n*(null==l?void 0:l.blessingMultiplier);return{...l,rawName:"DivGod".concat(e),level:n,blessingBonus:i}});return{linkedDeities:o,linkedStyles:u,deities:a,blessingLevels:t,unlockedDeities:r}},applyGodCost=l=>{var e,n;return null==l?void 0:null===(n=l.divinity)||void 0===n?void 0:null===(e=n.deities)||void 0===e?void 0:e.map((e,n)=>({...e,cost:getGodCost(e,n,l)}))},getCostToMax=function(l,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,o=0;for(let t=l;t<i;t++)o+=e*Math.pow(n,t);return o},getGodCost=function(){let{name:l,level:e,x4:n,x5:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;if(e<100){var u,d,r,a,v;let l=n*Math.pow(i,e),s=n*Math.pow(i,e+1),c=getCostToMax(e,n,i);if(0===o||8===o||4===o||2===o){let e=null==t?void 0:null===(u=t.gaming)||void 0===u?void 0:u.bits;return{type:"bits",cost:l,nextLevelCost:s,costToMax:c,currency:e}}if(1===o){let e=null==t?void 0:null===(r=t.sailing)||void 0===r?void 0:null===(d=r.lootPile)||void 0===d?void 0:d[0];return{type:"sailingGold",cost:l,nextLevelCost:s,costToMax:c,currency:e}}if(3===o||6===o){let e=null==t?void 0:null===(a=t.currencies)||void 0===a?void 0:a.rawMoney;return{type:"coins",cost:l,nextLevelCost:s,costToMax:c,currency:e}}{let e=null==t?void 0:null===(v=t.atomCollider)||void 0===v?void 0:v.particles;return{type:"particles",cost:l,nextLevelCost:s,costToMax:c,currency:e}}}return{cost:"MAX"}},getGodBlessingBonus=(l,e)=>{var n,i;return null!==(i=null==l?void 0:null===(n=l.find(l=>{let{name:n}=l;return n===e}))||void 0===n?void 0:n.blessingBonus)&&void 0!==i?i:0},getGodByIndex=(l,e,n)=>{let i=null==e?void 0:e.find((e,i)=>(null==l?void 0:l[i])===n);return null==i?void 0:i.deityMinorBonus},getDeityLinkedIndex=(l,e,n)=>{var t,u;let d=null==l?void 0:null===(u=l.divinity)||void 0===u?void 0:null===(t=u.linkedDeities)||void 0===t?void 0:t.map((e,i)=>n===e||(0,o.fe)(l,0)?i:-1),r=e.map((e,t)=>(0,i.Rp)(e,n)||(0,o.fe)(l,0)?t:-1);return(null==d?void 0:d.map((l,e)=>-1===l&&(null==r?void 0:r[e])!==-1?null==r?void 0:r[e]:l))||[]},getMinorDivinityBonus=(l,e,n,i)=>{var o,u,r,a,v,s,c,m;let p=null==i?void 0:i.find(l=>{var e;return null===(e=l.equippedBubbles)||void 0===e?void 0:e.find(l=>{let{bubbleName:e}=l;return"BIG_P"===e})}),g=(0,t.y7)(null===(o=p||l||(null==i?void 0:i[0]))||void 0===o?void 0:o.equippedBubbles,"kazam","BIG_P",e),h=null===(a=l||p||(null==i?void 0:i[0]))||void 0===a?void 0:null===(r=a.skillsInfo)||void 0===r?void 0:null===(u=r.divinity)||void 0===u?void 0:u.level,f=null!=n?n:null==e?void 0:null===(s=e.divinity)||void 0===s?void 0:null===(v=s.linkedDeities)||void 0===v?void 0:v[l.playerId],_=null==d?void 0:null===(c=d[f])||void 0===c?void 0:c.godIndex,y=null==d?void 0:null===(m=d[_])||void 0===m?void 0:m.minorBonusMultiplier;return Math.max(1,g)*(h/(60+h))*y}},80488:function(l,e,n){n.d(e,{IS:function(){return calcHappyHours},MR:function(){return getDungeons},Qo:function(){return getDungeonFlurboStatBonus},U4:function(){return getDungeonStatBonus},gq:function(){return getSecPerBall},he:function(){return getMaxClaimTime}});var i=n(42168),o=n(70473),t=n(1972),u=n(29129),d=n(88054),r=n(9339),a=n(33913),v=n(49352),s=n(85148),c=n(23284),m=n(28366);let getDungeons=(l,e)=>{let n=(0,i.tryToParse)(null==l?void 0:l.DungUpg)||(null==l?void 0:l.DungUpg);return parseDungeons(n,e)},parseDungeons=(l,e)=>{let n=null==l?void 0:l[1],i=null==l?void 0:l[5],t=null==n?void 0:n.map((l,e)=>({...o.dungeonStats[e],level:l})),u=null==i?void 0:i.map((l,e)=>({...o.dungeonFlurboStats[e],level:l})),d=(null==e?void 0:e[72])||0,r=(null==e?void 0:e[73])||0,a=(null==e?void 0:e[76])||0,v=null===o.randomList||void 0===o.randomList?void 0:o.randomList[29].split(" "),s=e[71],c=Number(v.reduce((l,n,i,o)=>(e[71]>Number(n)&&(l=i.toString()),l),"0"))+1,m=null==v?void 0:v[c];return{upgrades:u,insideUpgrades:t,credits:d,flurbos:r,boostedRuns:a,progress:s,rankReq:m,rank:c}},getDungeonStatBonus=(l,e)=>{var n;let o=null==l?void 0:l.find(l=>{let{effect:n}=l;return n===e});return o&&null!==(n=(0,i.growth)(null==o?void 0:o.func,null==o?void 0:o.level,null==o?void 0:o.x1,null==o?void 0:o.x2,!1))&&void 0!==n?n:0},getDungeonFlurboStatBonus=(l,e)=>{var n;let o=null==l?void 0:l.find(l=>{let{effect:n}=l;return n===e});return o&&null!==(n=(0,i.growth)(null==o?void 0:o.func,null==o?void 0:o.level,null==o?void 0:o.x1,null==o?void 0:o.x2,!1))&&void 0!==n?n:0},getMaxClaimTime=l=>Math.ceil(3600*(48+Math.min(10,(0,t.mV)(l,"hr_Arcade_Ball_claim_max_time")))),getSecPerBall=l=>4e3/(1+(getBallBonus(l)+(0,u.k)(null==l?void 0:l.bribes,"Weighted_Marbles"))/100),getBallBonus=l=>{var e,n,i,u;let a=0;for(let e=0;e<o.ballsBonuses.length;e++){let[n,i]=o.ballsBonuses[e];1===(0,r.k)(null==l?void 0:l.achievements,n)&&(a+=i)}let v=(0,d.iu)(null==l?void 0:null===(e=l.alchemy)||void 0===e?void 0:e.vials,"arcadeBALLZ"),s=null==l?void 0:null===(u=l.tasks)||void 0===u?void 0:null===(i=u[2])||void 0===i?void 0:null===(n=i[1])||void 0===n?void 0:n[7],c=Math.min(50,(0,t.mV)(null==l?void 0:l.stamps,"Arcade_Ball_recharge_rate"));return a+v+5*s+c},getHappyHourDates=(l,e)=>null==l?void 0:l.map(l=>l+Math.round(e/1e3)-3600),calcHappyHours=l=>{let e;e=(0,v.Z)((0,m.Z)())?(0,m.Z)():(e=(0,c.Z)((0,m.Z)())).getTime()-6e4*e.getTimezoneOffset();let n=getHappyHourDates(l,e),i=null==n?void 0:n.filter(l=>!(0,a.Z)(1e3*l)).map(l=>1e3*l);if((null==i?void 0:i.length)!==0)return i;{let e=(0,s.Z)((0,m.Z)());return getHappyHourDates(l,e=e.getTime()-6e4*e.getTimezoneOffset())}}},72973:function(l,e,n){n.d(e,{B:function(){return getEquinox},z:function(){return getEquinoxBonus}});var i=n(70473),o=n(42168),t=n(88054),u=n(10924);let getEquinox=(l,e)=>{let n=(0,o.tryToParse)(null==l?void 0:l.WeeklyBoss)||(null==l?void 0:l.WeeklyBoss),i=(0,o.tryToParse)(null==l?void 0:l.Dream)||(null==l?void 0:l.Dream);return n&&i?parseEquinox(n,i,e):null},parseEquinox=(l,e,n)=>{var o;let d=e.slice(2,13).reduce((l,e)=>l+e,0),r=Object.keys(l).filter(l=>l.startsWith("d_")).reduce((e,n)=>(e[n.substring(2)]=l[n],e),{}),a=e[2],v=i.equinoxChallenges.map((l,e)=>{let{label:n,goal:i,reward:o}=l;return{label:n,goal:i,reward:o,current:r[e]||0,active:-1!==r[e]&&0<a--}}),s=parseEquinoxUpgrades(v,e.slice(2,13),n.accountOptions),c=(0,u.U7)(null==n?void 0:n.bundles,"bun_q")?50:0,m=(0,t.iu)(null==n?void 0:null===(o=n.alchemy)||void 0===o?void 0:o.vials,"EqBar"),p=Math.round(60*(1+c/100)*(1+(m+10*(-1===r[3])+15*(-1===r[9])+20*(-1===r[14])+25*(-1===r[19])+30*(-1===r[22])+35*(-1===r[24])+40*(-1===r[29]))/100)),g=Math.round((120+40*d)*Math.pow(1.02,d)),h=null==e?void 0:e[0],f=new Date().getTime()+(g-h)/p*36e5;return{currentCharge:h,chargeRequired:g,chargeRate:p,timeToFull:f,challenges:v,upgrades:s}},parseEquinoxUpgrades=(l,e,n)=>{let o=l.filter(l=>-1===l.current&&l.reward.includes("Max_LV")).map(l=>l.reward),t=l.filter(l=>-1===l.current&&"Unlock_next_Equinox_upgrade"===l.reward).length;return i.equinoxUpgrades.map((l,i)=>{let{name:u,description:d,maxLevel:r,bonus:a}=l,v="Hmm..."===u?0:"Food_Lust"===u?Math.min(parseInt(e[i]),null==n?void 0:n[193]):a*e[i]||0;return{name:u,bonus:v,desc:null==d?void 0:d.replace("{}",a*e[i]||0).replace("{","").replace("}",e[i]||0).split("_@_"),lvl:e[i]||0,maxLvl:r+o.filter(l=>l.includes(u)).reduce((l,e)=>l+parseInt(e.match(/\d+/)[0],10),0),unlocked:i<=t}})},getEquinoxBonus=(l,e)=>{var n,i;return(null==l?void 0:null===(i=l.filter(l=>l.name===e))||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.bonus)||0}},79603:function(l,e,n){n.d(e,{D:function(){return getFamilyBonusBonus},q:function(){return getFamilyBonus}});var i=n(42168);let getFamilyBonusBonus=(l,e,n)=>{let o=null==l?void 0:l.find(l=>{let{name:n}=l;return null==n?void 0:n.includes(e)});return o?(0,i.growth)(null==o?void 0:o.func,Math.max(0,Math.round(n-(null==o?void 0:o.x3))),null==o?void 0:o.x1,null==o?void 0:o.x2,!1):0},getFamilyBonus=(l,e)=>null==l?void 0:l.find(l=>{let{name:n}=l;return null==n?void 0:n.includes(e)})},20385:function(l,e,n){n.d(e,{Ob:function(){return isSuperbitUnlocked},gm:function(){return getGaming},h$:function(){return calculateSnailEncouragementForSuccessChance}});var i=n(70473),o=n(42168),t=n(19834),u=n(10924),d=n(72973);let{tryToParse:r}=n(42168),getGaming=(l,e,n,i)=>{let o=r(null==l?void 0:l.Gaming)||(null==l?void 0:l.Gaming),t=r(null==l?void 0:l.GamingSprout)||(null==l?void 0:l.GamingSprout);return o&&t?parseGaming(o,t,e,n,i):null},parseGaming=(l,e,n,t,u)=>{var r,a,v,s,c,m,p,g,h,f;let[,_,y]=null==e?void 0:e[32],b=null==l?void 0:l[13],B=e.slice(0,25).reduce((l,e)=>(null==e?void 0:e[1])>0?l+1:l,0),C=null==l?void 0:l[0],M=null==l?void 0:l[8],S=null==e?void 0:null===(r=e[26])||void 0===r?void 0:r[1],w=calcGoldNuggets(S),x=null==e?void 0:null===(a=e[27])||void 0===a?void 0:a[1],T=null==e?void 0:null===(v=e[27])||void 0===v?void 0:v[0],k=calcAcorns(x,T),A=calcResourcePerTime("nugget"),I=calcResourcePerTime("acorn",T),E=calcAcornShop(e),O=null==e?void 0:e.slice(25,25+(null===i.gamingImports||void 0===i.gamingImports?void 0:i.gamingImports.length)+1),P=null!==(h=null==t?void 0:null===(s=t.gemShopPurchases)||void 0===s?void 0:s.find((l,e)=>131===e))&&void 0!==h?h:0,L=calcSprinklerSave(null!==(f=null==t?void 0:null===(c=t.gemShopPurchases)||void 0===c?void 0:c.find((l,e)=>131===e))&&void 0!==f?f:0),N=null===i.gamingImports||void 0===i.gamingImports?void 0:i.gamingImports.map((l,e)=>{var n,i,o,u;let r=calcImportBonus(e,null==l?void 0:l.minorBonus,O);return{...l,level:null==O?void 0:null===(n=O[e])||void 0===n?void 0:n[0],rawName:3===e?"GamingItem".concat(e,"_0"):0===e&&P>0?"GamingItem".concat(e,"b"):"GamingItem".concat(e),minorBonus:null==r?void 0:r.description,cost:calcImportCost(e,O),acquired:(null==O?void 0:null===(i=O[e])||void 0===i?void 0:i[0])>0,...0===e?{saveSprinklerChance:100*L}:{},...1===e?{maxNuggetValue:maxNuggetValue(null==r?void 0:r.result,(0,d.z)(null==t?void 0:null===(o=t.equinox)||void 0===o?void 0:o.upgrades,"Metal_Detector"),null==t?void 0:null===(u=t.accountOptions)||void 0===u?void 0:u[192])}:{},...2===e?{acornShop:E}:{}}}).filter((l,e)=>e<8),R=null==l?void 0:null===(m=l.slice(1,(null===i.gamingUpgrades||void 0===i.gamingUpgrades?void 0:i.gamingUpgrades.length)+1))||void 0===m?void 0:m.map((o,d)=>{var r;let a=calcFertilizerBonus(d,l,e,n,t,E,N);return{...null===i.gamingUpgrades||void 0===i.gamingUpgrades?void 0:i.gamingUpgrades[d],level:o,bonus:a,description:null===i.gamingUpgrades||void 0===i.gamingUpgrades?void 0:null===(r=i.gamingUpgrades[d])||void 0===r?void 0:r.description.replace(/{/,a),cost:calcFertilizerCost(d,l,u)}}),D=getDropsAmount(null==e?void 0:null===(p=e[25])||void 0===p?void 0:p[1],N),q=(null==l?void 0:l[12])||[],F=null===i.superbitsUpgrades||void 0===i.superbitsUpgrades?void 0:i.superbitsUpgrades.map((l,e)=>({...l,unlocked:(null==q?void 0:q.indexOf(null===o.number2letter||void 0===o.number2letter?void 0:o.number2letter[e]))!==-1,...calcSuperbitBonus(n,t,e)}));return{bestNugget:M,bits:C,envelopes:b,snailLevel:_,snailEncouragement:y,fertilizerUpgrades:R,availableSprouts:B,availableDrops:D,sproutsCapacity:null==R?void 0:null===(g=R[2])||void 0===g?void 0:g.bonus,imports:N,lastShovelClicked:S,goldNuggets:w,lastAcornClicked:x,acorns:k,nuggetsBreakpoints:A,acornsBreakpoints:I,superbitsUpgrades:F}},calcSuperbitBonus=(l,e,n)=>{var i,o,t,d,r,a,v,s,c,m,p;let g,h,f;if(0===n)h=Math.pow(1.03,g=null!==(t=null==e?void 0:null===(o=e.achievements)||void 0===o?void 0:null===(i=o.filter(l=>{let{completed:e}=l;return e}))||void 0===i?void 0:i.length)&&void 0!==t?t:0);else if(3===n||11===n||16===n)g=Math.floor((null==e?void 0:null===(d=e.towers)||void 0===d?void 0:d.totalWaves)/10),f="Total Bonus: ".concat(g,"% (").concat(null==e?void 0:null===(r=e.towers)||void 0===r?void 0:r.totalWaves," waves)");else if(13===n)g=10*Math.floor((null==e?void 0:null===(a=e.towers)||void 0===a?void 0:a.totalWaves)/10),f="Total Bonus: ".concat(g,"% (").concat(null==e?void 0:null===(v=e.towers)||void 0===v?void 0:v.totalWaves," waves)");else if(7===n)g=Math.floor((null==e?void 0:null===(s=e.towers)||void 0===s?void 0:s.totalWaves)/10),f="Total Bonus: ".concat(g,"% (").concat(null==e?void 0:null===(c=e.towers)||void 0===c?void 0:c.totalWaves," waves)");else if(20===n)g=50*Math.floor((null==e?void 0:null===(m=e.towers)||void 0===m?void 0:m.totalWaves)/10),f="Total Bonus: ".concat(g,"% (").concat(null==e?void 0:null===(p=e.towers)||void 0===p?void 0:p.totalWaves," waves)");else if(12===n){let e=(0,u.fx)(l,"gaming");h=Math.floor(e)}return{bonus:g,totalBonus:h,additionalInfo:f}},getDropsAmount=(l,e)=>{var n;let i=null==e?void 0:null===(n=e[0])||void 0===n?void 0:n.level;return Math.floor(Math.pow(l*(1+i/100)/3600,.75))},maxNuggetValue=(l,e,n)=>1584.8931924611136*l*(1+e*n/100),calcResourcePerTime=(l,e)=>{let n=[1,2,3,4,5,6].reduce((n,i,o)=>{var t,u;let{breakpoints:d,lastClicked:r}=n,a=3600*Math.floor(r)+r%1*6e3,v="nugget"===l?calcGoldNuggets(a):calcAcorns(a,e);if(0===d.length)return{breakpoints:[...d,{time:a,amount:v}],lastClicked:r+.1};for(;v<=(null==d?void 0:null===(t=d[o-1])||void 0===t?void 0:t.amount)&&r%1!=0;)(v="nugget"===l?calcGoldNuggets(a):calcAcorns(a,e))<=(null==d?void 0:null===(u=d[o-1])||void 0===u?void 0:u.amount)&&(r+=.1,a=3600*Math.floor(r)+r%1*6e3);return{breakpoints:[...d,{time:a,amount:v}],lastClicked:r}},{breakpoints:[],lastClicked:1});return null==n?void 0:n.breakpoints},calcGoldNuggets=l=>Math.floor(Math.pow(l/3600,.44)),calcAcorns=(l,e)=>Math.floor(Math.pow(l*(1+e/100)/3600,.85)),calcSprinklerSave=l=>1===l?.3:2===l?.43:3===l?.53:4===l?.6:0,calcImportBonus=(l,e,n)=>{var i;let o=null==n?void 0:null===(i=n[l])||void 0===i?void 0:i[0];if(1===l){let l=Math.floor(10*(1+Math.pow(60*o/(250+o),1.7)))/10;return{description:e.replace(/{/,l),result:l}}if(2===l){let l=Math.round(5*o);return{description:e.replace(/{/,l),result:l}}if(5===l){let l=Math.floor(60*o/(100+o)*10)/10;return{description:e.replace(/{/,l),result:l}}return{description:e.replace(/{/,Math.round(o)),value:Math.round(o)}},calcImportCost=(l,e)=>{var n,o,t;return(null===i.gamingImports||void 0===i.gamingImports?void 0:null===(n=i.gamingImports[l])||void 0===n?void 0:n.x1)*Math.pow(10,null===i.gamingImports||void 0===i.gamingImports?void 0:null===(o=i.gamingImports[l])||void 0===o?void 0:o.x2)/4*Math.pow(1.4,null==e?void 0:null===(t=e[l])||void 0===t?void 0:t[0])},calcFertilizerBonus=(l,e,n,i,u,d,r)=>{var a,v,s,c,m,p;if(0===l){let l=null==e?void 0:e[1];return(0,o.notateNumber)((1+4*l)*Math.pow(1.065,l),"bits")}if(1===l){let l=null==e?void 0:e[2],o=null==i?void 0:i.find(l=>{let{linkedDeity:e}=l;return 6===e}),m=null!==(c=(0,t.kI)(o,u,6,i))&&void 0!==c?c:0,p=1+((null==d?void 0:null===(a=d[1])||void 0===a?void 0:a.bonus)+m)/100,g=3+(null==r?void 0:null===(v=r[4])||void 0===v?void 0:v.level)/100,h=null==n?void 0:null===(s=n[29])||void 0===s?void 0:s[1],f=1/calcSproutGrowChance(e),_=Math.floor(100*(5e3/((1+2*l/100)*p*(1+g*h))*f/60))/100;return _>60?"".concat(Math.floor(100*_/60)/100," Hr"):"".concat(Math.floor(10*_)/10," Min")}if(2===l){let l=null==e?void 0:e[3],n=null!==(p=null==u?void 0:null===(m=u.gemShopPurchases)||void 0===m?void 0:m.find((l,e)=>133===e))&&void 0!==p?p:0;return(0,o.notateNumber)(Math.round(Math.min(24,3+l+n)))}},calcSproutGrowChance=l=>{let e=null==l?void 0:l[7];return .13+.11*e/(150+e)},calcFertilizerCost=(l,e,n)=>{if(0===l){let l=null==e?void 0:e[1],i=1+(3*l+Math.pow(l,2)),t=Math.min(1.25,Math.max(1.13,1+(null==n?void 0:n.GamingFertCostExpA)/1e3)),u=t+Math.max(0,Math.min(.15,.18*(l-50)/(l+100)));return(0,o.notateNumber)(i*Math.pow(u,l),"bits")}if(1===l){let l=null==e?void 0:e[2],n=2+(5*l+Math.pow(l,2));return(0,o.notateNumber)(n*Math.pow(1.22,l),"bits")}if(2===l){let l=null==e?void 0:e[3];return 11>l?(0,o.notateNumber)((25*(l+1)+Math.pow(l+1,3))*Math.pow(5+3.7*l,l),"bits"):(0,o.notateNumber)(9999*1e63,"bits")}},calcAcornShop=l=>{let e=["All plants give x{ bits","All plants grow {% faster"],[,,n,i]=null==l?void 0:l[27];return[n,i].map((l,n)=>{let i=0===n?1+8*l/(250+l):Math.pow(3*l,.8);return{cost:1+l+2*Math.max(0,l-5),description:null==e?void 0:e[n].replace(/{/,"".concat(i.toFixed(2))),bonus:i}})},isSuperbitUnlocked=(l,e)=>{var n,i;return null==l?void 0:null===(i=l.gaming)||void 0===i?void 0:null===(n=i.superbitsUpgrades)||void 0===n?void 0:n.find(l=>{let{name:n,unlocked:i}=l;return n===e&&i})},calculateSnailEncouragementForSuccessChance=(l,e)=>{let n=0,i=1e3;for(;i-n>1;){let o=Math.floor((n+i)/2),t=(1-.1*Math.pow(l,.72))*(1+100*o/(25+o)/100);t<e?n=o+1:i=o}return n}},88344:function(l,e,n){n.d(e,{AN:function(){return findQuantityOwned},F6:function(){return flattenCraftObject},Nx:function(){return getAllItems},QU:function(){return findItemInInventory},ju:function(){return calculateItemTotalAmount},t8:function(){return addStoneDataToEquip},tP:function(){return addEquippedItems},tT:function(){return createItemsWithUpgrades},w$:function(){return getAllTools},wA:function(){return findItemByDescriptionInInventory},zi:function(){return getStatsFromGear}});var i=n(70473);let addStoneDataToEquip=(l,e)=>{var n;return l&&e?null===(n=Object.keys(e))||void 0===n?void 0:n.reduce((n,i)=>{if("UQ1txt"===i||"UQ2txt"===i)return{...n,[i]:(null==l?void 0:l[i])||(null==e?void 0:e[i])};let o=null==l?void 0:l[i],t=null==e?void 0:e[i],u=o;return isNaN(t)||t<0?{...n,[i]:t}:(u=(o||0)+((null==e?void 0:e.UQ1txt)&&(null==l?void 0:l.Type)!=="KEYCHAIN"&&(null==l?void 0:l.UQ1txt)!==(null==e?void 0:e.UQ1txt)?0:t),{...n,[i]:parseFloat(u)})},{}):{}},calculateItemTotalAmount=function(l,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return null==l?void 0:l.reduce((l,o)=>{if(n)e===(i?null==o?void 0:o.rawName:null==o?void 0:o.name)&&(l+=null==o?void 0:o.amount);else{var t,u;(i?null==o?void 0:null===(t=o.rawName)||void 0===t?void 0:t.includes(e):null==o?void 0:null===(u=o.name)||void 0===u?void 0:u.includes(e))&&(l+=null==o?void 0:o.amount)}return l},0)},getStatsFromGear=(l,e,n)=>{var o,t,u,d,r,a,v,s,c,m,p,g;let{equipment:h}=l||{},f=null!==(m=null==n?void 0:null===(u=n.lab)||void 0===u?void 0:null===(t=u.playersChips)||void 0===t?void 0:null===(o=t[null==l?void 0:l.playerId])||void 0===o?void 0:o.find(l=>16===l.index))&&void 0!==m?m:0,_=null!==(p=null==n?void 0:null===(a=n.lab)||void 0===a?void 0:null===(r=a.playersChips)||void 0===r?void 0:null===(d=r[null==l?void 0:l.playerId])||void 0===d?void 0:d.find(l=>17===l.index))&&void 0!==p?p:0,y=null!==(g=null==n?void 0:null===(c=n.lab)||void 0===c?void 0:null===(s=c.playersChips)||void 0===s?void 0:null===(v=s[null==l?void 0:l.playerId])||void 0===v?void 0:v.find(l=>18===l.index))&&void 0!==g?g:0;return isNaN(e)?null==h?void 0:h.reduce((l,n)=>l+getStatFromEquipment(n,e),0):null==h?void 0:h.reduce((l,n,o)=>{var t;return l+getStatFromEquipment(n,null===i.bonuses||void 0===i.bonuses?void 0:null===(t=i.bonuses.etcBonuses)||void 0===t?void 0:t[e])*(3===o&&y||10===o&&f||9===o&&_?2:1)},0)},getStatFromEquipment=(l,e)=>{let n=(null==l?void 0:l.UQ1txt)===e?null==l?void 0:l.UQ1val:0,i=(null==l?void 0:l.UQ2txt)===e?null==l?void 0:l.UQ2val:0;return(null==l?void 0:l[e])?null==l?void 0:l[e]:n+i},createItemsWithUpgrades=(l,e,n)=>Array.from(Object.values(l)).reduce((l,o,t)=>{var u;let d=addStoneDataToEquip(null===i.items||void 0===i.items?void 0:i.items[o],null==e?void 0:e[t]),r="",a={...null===i.items||void 0===i.items?void 0:i.items[o],...d};return(null==a?void 0:a.UQ1txt)&&(r+=null==a?void 0:a.UQ1txt),(null==a?void 0:a.UQ2txt)&&(r+=" ".concat(null==a?void 0:a.UQ2txt)),o?[...l,{name:null===i.items||void 0===i.items?void 0:null===(u=i.items[o])||void 0===u?void 0:u.displayName,rawName:o,owner:n,..."Blank"===o?{}:{...null===i.items||void 0===i.items?void 0:i.items[o],...d},misc:r}]:l},[]),findItemInInventory=(l,e)=>e?l.reduce((l,n)=>{let{name:i,owner:o,amount:t}=n;if(i===e){var u;return null!=l&&l[o]?{...l,[o]:{amount:(null==l?void 0:null===(u=l[o])||void 0===u?void 0:u.amount)+1}}:{...l,[o]:{amount:t}}}return l},{}):{},findItemByDescriptionInInventory=(l,e)=>{if(!e)return{};let n=l.filter(l=>{var n,i;let{misc:o,description:t}=l;return(null==t?void 0:null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(null==e?void 0:e.toLowerCase()))||(null==o?void 0:null===(i=o.toLowerCase())||void 0===i?void 0:i.includes(null==e?void 0:e.toLowerCase()))},[]);return null==n?void 0:n.reduce((l,e)=>{let n=null==l?void 0:l.findIndex(l=>(null==l?void 0:l.rawName)===(null==e?void 0:e.rawName)),i=null==l?void 0:l[n];if(i){var o;let t=null==i?void 0:null===(o=i.owners)||void 0===o?void 0:o.includes(null==e?void 0:e.owner),u=t?null==i?void 0:i.owners:[...null==i?void 0:i.owners,null==e?void 0:e.owner];(null==i?void 0:i.misc)===(null==e?void 0:e.misc)&&(null==l||l.splice(n,1)),l=[...l,{...e,owners:u}]}else l=[...l,{...e,owners:[null==e?void 0:e.owner]}];return l},[])},flattenCraftObject=l=>{if(!l)return[];let e={},n=JSON.parse(JSON.stringify(l)),flatten=(l,n)=>null==l?void 0:l.reduce((l,i)=>(l.push(i),i.materials&&(l=l.concat(flatten(null==i?void 0:i.materials,n)),i.materials=[]),e[null==i?void 0:i.itemName]?e[null==i?void 0:i.itemName].itemQuantity+=null==i?void 0:i.itemQuantity:e[null==i?void 0:i.itemName]=i,l),[]);return flatten(null==n?void 0:n.materials,e),Object.values(e)},findQuantityOwned=(l,e)=>{var n;let i=findItemInInventory(l,e);return null===(n=Object.entries(i))||void 0===n?void 0:n.reduce((l,e)=>{let[n,{amount:i}]=e;return{amount:(null==l?void 0:l.amount)+i,owner:[...null==l?void 0:l.owner,n]}},{amount:0,owner:[]})},addEquippedItems=(l,e)=>e?null==l?void 0:l.reduce((l,e)=>{let{tools:n,equipment:i,food:o}=e;return[...l,...n,...i,...o]},[]).filter(l=>{let{rawName:e}=l;return"Blank"!==e}).map(l=>(null==l?void 0:l.amount)?l:{...l,amount:1}):[],getAllItems=(l,e)=>{let n=null==l?void 0:l.reduce((l,e)=>{let{inventory:n=[]}=e;return[...l,...n]},[]);return[...n||[],...(null==e?void 0:e.storage)||[]]},getAllTools=()=>{var l,e,n,o,t;let u=null===i.itemsArray||void 0===i.itemsArray?void 0:null===(l=i.itemsArray.filter(l=>{let{rawName:e}=l;return null==e?void 0:e.match(/EquipmentTools[0-9]+/)}))||void 0===l?void 0:l.filter(l=>{let{rawName:e}=l;return"EquipmentTools13"!==e&&"EquipmentTools10"!==e}),d=null===i.itemsArray||void 0===i.itemsArray?void 0:null===(e=i.itemsArray.filter(l=>{let{rawName:e}=l;return null==e?void 0:e.match(/EquipmentToolsHatchet[0-9]+/)}))||void 0===e?void 0:e.filter(l=>{let{rawName:e}=l;return"EquipmentToolsHatchet0"!==e&&"EquipmentToolsHatchet3"!==e&&"EquipmentToolsHatchet11"!==e&&"EquipmentToolsHatchet10"!==e}),r=null===i.itemsArray||void 0===i.itemsArray?void 0:null===(n=i.itemsArray.filter(l=>{let{rawName:e}=l;return null==e?void 0:e.match(/FishingRod[0-9]+/)}))||void 0===n?void 0:n.filter(l=>{let{rawName:e}=l;return"FishingRod1"!==e}),a=null===i.itemsArray||void 0===i.itemsArray?void 0:null===(o=i.itemsArray.filter(l=>{let{rawName:e}=l;return null==e?void 0:e.match(/CatchingNet[0-9]+/)}))||void 0===o?void 0:o.filter(l=>{let{rawName:e}=l;return"CatchingNet1"!==e}),v=null===i.itemsArray||void 0===i.itemsArray?void 0:i.itemsArray.filter(l=>{let{rawName:e}=l;return null==e?void 0:e.match(/TrapBoxSet[0-9]+/)}),s=null===i.itemsArray||void 0===i.itemsArray?void 0:null===(t=i.itemsArray.filter(l=>{let{rawName:e}=l;return null==e?void 0:e.match(/WorshipSkull[0-9]+/)}))||void 0===t?void 0:t.filter(l=>{let{rawName:e}=l;return"WorshipSkull8"!==e});return[u,d,r,a,v,s]}},15893:function(l,e,n){n.d(e,{Cs:function(){return getLab},Rp:function(){return isGodEnabledBySorcerer},c9:function(){return getLabBonus},gw:function(){return getPlayerLabChipBonus},p8:function(){return isLabEnabledBySorcererRaw},pc:function(){return getJewelBonus},ww:function(){return applyBonusDesc}});var i=n(42168),o=n(70473),t=n(89260),u=n(54685),d=n(10924),r=n(5432),a=n(30796),v=n(72973);let getLab=(l,e,n,o)=>{let t=(0,i.tryToParse)(null==l?void 0:l.Lab)||(null==l?void 0:l.Lab);return parseLab(t,e,n,o)},parseLab=(l,e,n,i)=>{var t,u,r,a,s,c,m,p,g,h,f,_,y,b,B;if(!l)return{};let C=null==n?void 0:null===(t=n.accountOptions)||void 0===t?void 0:t[89],M=null===o.randomList||void 0===o.randomList?void 0:o.randomList[53],[S]=l,[w]=null==l?void 0:l.splice(15),[x]=null==l?void 0:l.splice(14),[T]=null==l?void 0:l.splice(13),k=null==l?void 0:l.slice(1,(null==e?void 0:e.length)+1),A=[];for(let l=0;l<S.length;l+=2){let[n,i]=S.slice(l,l+2);A=[...A,{x:n,y:i,playerId:l/2,playerName:null==e?void 0:null===(f=e[l/2])||void 0===f?void 0:f.name,class:o.classes[null==e?void 0:null===(_=e[l/2])||void 0===_?void 0:_.CharacterClass]}]}A=null==A?void 0:A.filter(l=>null==l?void 0:l.playerName);let I=null==x?void 0:x.map((l,e)=>({...(null===o.jewels||void 0===o.jewels?void 0:o.jewels[e])||{},acquired:1===l,rawName:"ConsoleJwl".concat(e)})).filter(l=>{let{name:e}=l;return e}),E=null==k?void 0:k.map(l=>l.map(l=>(null===o.chips||void 0===o.chips?void 0:o.chips[l])?{...null===o.chips||void 0===o.chips?void 0:o.chips[l],chipIndex:l}:l)),O=[...e].filter((l,e)=>{var i,o;return(0,d.fe)(n,0)||(null==l?void 0:l.AFKtarget)==="Laboratory"||isLabEnabledBySorcererRaw(l,1)||(null==n?void 0:null===(o=n.divinity)||void 0===o?void 0:null===(i=o.linkedDeities)||void 0===i?void 0:i[e])===1}).map(l=>{var e,n;return{...l,x:null==A?void 0:null===(e=A[null==l?void 0:l.playerId])||void 0===e?void 0:e.x,y:null==A?void 0:null===(n=A[null==l?void 0:l.playerId])||void 0===n?void 0:n.y}}),P=JSON.parse(JSON.stringify(o.chips));null==w||w.map((l,e)=>{if(e<o.chips.length){let n=E.flatMap(l=>l).reduce((l,n)=>l+(n.index===P[e].index?1:0),0);P[e].repoAmount=l-n,P[e].amount=n}});let L=(null!==(y=null==n?void 0:null===(a=n.tasks)||void 0===a?void 0:null===(r=a[2])||void 0===r?void 0:null===(u=r[3])||void 0===u?void 0:u[4])&&void 0!==y?y:0)*(null===o.merits||void 0===o.merits?void 0:null===(c=o.merits[3])||void 0===c?void 0:null===(s=c[4])||void 0===s?void 0:s.bonusPerLevel),N=e.find(l=>{let{CharacterClass:e}=l;return 36===e});N&&(N={...N,...null==A?void 0:A[null==N?void 0:N.playerId]});let R=(0,v.z)(null==n?void 0:null===(m=n.equinox)||void 0===m?void 0:m.upgrades,"Laboratory_Fuse"),D=!0,q=JSON.parse(JSON.stringify(o.labBonuses)),F=[];for(;D;){if(D=!1,(O=calcPlayerLineWidth(O,q,I,E,n,null==n?void 0:n.cards,null==n?void 0:n.gemShopPurchases,C,M,N,e,i)).length>0&&0===F.length){let l=getPrismPlayerConnection(O);l&&F.push(l)}for(let l=0;l<O.length;l++){let o,t;if(l<F.length){(o=checkPlayerConnection(O,F,null==F?void 0:F[l]))&&!F.find(l=>l.playerId===o.playerId)&&(t=!0,F=[...F,o]);let u=getLabBonus(q,8),d=getJewelBonus(I,9,u),r=getLabBonus(q,13),a=checkConnection(q,d,r,L,R,null==F?void 0:F[l],!1);q=a.resArr;let v=checkConnection(I,d,r,L,R,null==F?void 0:F[l],!0);(null==(I=v.resArr)?void 0:null===(b=I[16])||void 0===b?void 0:b.acquired)&&!(null==I?void 0:null===(B=I[16])||void 0===B?void 0:B.active)&&(I[16].active=!0,O=calcPlayerLineWidth(O,q,I,E,n,null==n?void 0:n.cards,null==n?void 0:n.gemShopPurchases,C,M,N,e,i),I[16].active=!1),q=(a=checkConnection(q,d,r,L,R,null==F?void 0:F[l],!1)).resArr,I=(v=checkConnection(I,d,r,L,R,null==F?void 0:F[l],!0)).resArr,D=D||t||(null==v?void 0:v.newConnection)||(null==a?void 0:a.newConnection)}}}let H=getLabBonus(q,8);I=I.map(l=>({...l,multiplier:H}));let G=null==n?void 0:n.breeding.speciesUnlocks.reduce((l,e)=>l+e,0),U=null==I?void 0:null===(p=I[1])||void 0===p?void 0:p.active;q=applyBonusDesc(q,G*(U?1.75:1),0,U?1.75:1);let V=null==n?void 0:null===(g=n.storage)||void 0===g?void 0:g.filter(l=>l.amount>=1e7).length,Y=(null==I?void 0:null===(h=I[17])||void 0===h?void 0:h.active)?1.5:0;return q=applyBonusDesc(q,V*(2+Y),11,2+Y),{playersCords:A=null==A?void 0:A.map((l,e)=>{let n=null==O?void 0:O.find(l=>{let{playerId:n}=l;return n===e});return{...l,lineWidth:(null==n?void 0:n.lineWidth)||(null==l?void 0:l.lineWidth)||0}}),playersChips:E,connectedPlayers:F,jewels:I,chips:P,labBonuses:q,currentRotation:T}},isLabEnabledBySorcererRaw=(l,e)=>{if((null===o.classes||void 0===o.classes?void 0:o.classes[null==l?void 0:l.CharacterClass])==="Elemental_Sorcerer"){var n;let i=null==l?void 0:null===(n=l.SkillLevels)||void 0===n?void 0:n[505];return i%10===e}},isGodEnabledBySorcerer=(l,e)=>{if((null==l?void 0:l.class)==="Elemental_Sorcerer"){var n;let i=null===(n=l.flatTalents)||void 0===n?void 0:n.find(l=>{let{talentId:e}=l;return 505===e});return(null==i?void 0:i.level)%10===e}},applyBonusDesc=function(l,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return null==l?void 0:l.map((l,o)=>o===n?{...l,bonusOn:e,extraData:i,bonusDesc:e}:l)},getJewelBonus=function(l,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=(null==l?void 0:l.find(l=>l.index===e))||{};return(null==i?void 0:i.active)?(null==i?void 0:i.bonus)*((null==i?void 0:i.multiplier)||n):0},getLabBonus=(l,e)=>{let n=(null==l?void 0:l.find(l=>l.index===e))||{};return(null==n?void 0:n.active)?null==n?void 0:n.bonusOn:null==n?void 0:n.bonusOff},getDistance=(l,e,n,i)=>.9604339*Math.max(Math.abs(l-n),Math.abs(e-i))+.397824735*Math.min(Math.abs(l-n),Math.abs(e-i)),getRange=(l,e,n,i,o,t)=>!t&&(13===o||8===o)||9===o&&t?80:80*(1+(l+e)/100)+n+i,calcPlayerLineWidth=(l,e,n,i,o,t,u,r,a,v,s,c)=>null==l?void 0:l.map(l=>{var m,p,g;let h=(null!==(g=null==u?void 0:u.find((l,e)=>123===e))&&void 0!==g?g:0)*2,f=(0,d.bV)(r,a,13)?20:0,_=null==s?void 0:null===(m=s.find(e=>{let{name:n}=e;return n===(null==l?void 0:l.name)}))||void 0===m?void 0:m.playerId,y=getPlayerLineWidth(l,null==l?void 0:null===(p=l.Lv0)||void 0===p?void 0:p[12],h>0&&_<=h,e,n,null==i?void 0:i[null==l?void 0:l.playerId],o,t,f,v,c);return{...l,lineWidth:y}}),getPlayerLineWidth=(l,e,n,d,v,s,c,m,p,g,h)=>{var f,_,y;let b=getLabBonus(d,8),B=50+2*(null!=e?e:0),{acquired:C,x:M,y:S}=v[5];C&&150>getDistance(M,S,l.x,l.y)&&(B*=1.25);let w=null==s?void 0:s.reduce((l,e)=>6===e.index?l+e.baseVal:l,0),x=getJewelBonus(v,16,b),T=(0,t.F4)(c,null,"PxLine",x),k=(0,t.F4)(c,null,"LinePct",x),A=(0,u.OK)(m,"Line_Width_(Passive)"),I=(0,r.du)(null==c?void 0:null===(f=c.breeding)||void 0===f?void 0:f.pets,"Line_Width_in_Lab"),E=0;if((null==l?void 0:l.x)>=(null==g?void 0:g.x)){let l=g.SkillLevels[536]||0,e=(null===o.talents||void 0===o.talents?void 0:null===(_=o.talents.Bubonic_Conjuror)||void 0===_?void 0:_.PURPLE_TUBE)||{};E=h?(0,a.A5)(h,3,"Bubonic_Conjuror","PURPLE_TUBE"):null!==(y=(0,i.growth)(null==e?void 0:e.funcX,l,null==e?void 0:e.x1,null==e?void 0:e.x2,!1))&&void 0!==y?y:0}return Math.floor((B+T+Math.min(A,50))*(1+(E+k+(w+20*p+I+(n?30:0)))/100))},getPrismPlayerConnection=l=>{for(let e=0;e<l.length;e++){let{x:n,y:i,lineWidth:o}=l[e],t=getDistance(43,229,n,i);if(t<o)return l[e]}return null},checkPlayerConnection=(l,e,n)=>{for(let i=0;i<l.length;i++){let{x:o,y:t,lineWidth:u}=l[i],d=getDistance(n.x,n.y,o,t)<u;if(!e.find(e=>e.playerId===l[i].playerId)&&d)return l[i]}return null},checkConnection=(l,e,n,i,o,t,u)=>null==l?void 0:l.reduce((l,d,r)=>{let a=!1,v=getRange(e,n,i,o,r,u),s=getDistance(t.x,t.y,d.x,d.y);return s<v&&!d.active&&(!u||u&&d.acquired)&&(d.active=!0,a=!0),{resArr:[...l.resArr,d],newConnection:a}},{resArr:[],newConnection:!1}),getPlayerLabChipBonus=(l,e,n)=>{var i,o,t;return null==e?void 0:null===(t=e.lab)||void 0===t?void 0:null===(o=t.playersChips)||void 0===o?void 0:null===(i=o[null==l?void 0:l.playerId])||void 0===i?void 0:i.reduce((l,e)=>(null==e?void 0:e.index)===n?l+(null==e?void 0:e.baseVal):l,0)}},10924:function(l,e,n){n.d(e,{B4:function(){return calculateTotalSkillsLevel},DE:function(){return getCurrencies},HA:function(){return getTypeGen},Hx:function(){return getHighestLevelOfClass},Ix:function(){return enhanceKeysObject},KB:function(){return getRandomEvents},NQ:function(){return getLooty},Nh:function(){return getCharacterByHighestSkillLevel},O4:function(){return getExpReq},QV:function(){return getHighestLevelCharacter},Rf:function(){return getCompanions},U7:function(){return isBundlePurchased},UR:function(){return getMaterialCapacity},W9:function(){return getLibraryBookTimes},Wk:function(){return getMinigameScore},XQ:function(){return calculateAfkTime},Yu:function(){return getSpeedBonusFromAgility},Zf:function(){return getHealthFoodBonus},ai:function(){return getGiantMobChance},bV:function(){return isArenaBonusActive},cg:function(){return enhanceColoTickets},fe:function(){return isCompanionBonusActive},fi:function(){return getSkillMasteryBonusByIndex},fx:function(){return getHighestCharacterSkill},jU:function(){return getHighestLevelOf},kU:function(){return getBundles},pA:function(){return isMasteryBonusUnlocked},qP:function(){return getSkillRankColor},sU:function(){return getFoodBonus},tE:function(){return getGoldenFoodBonus},tS:function(){return calculateLeaderboard},tc:function(){return getHighestCapacityCharacter},z3:function(){return getItemCapacity}});var i=n(42168),o=n(34664),t=n(70473),u=n(30796),d=n(89260),r=n(88054),a=n(1972),v=n(9339),s=n(15893),c=n(95331),m=n(15815),p=n(64569),g=n(20385),h=n(79603),f=n(88344),_=n(74044),y=n(33913),b=n(64605),B=n(96707),C=n(56552);let getLibraryBookTimes=(l,e,n)=>{let{bookCount:i,libTime:o}=calcBookCount(n,e,l),t=null==n?void 0:n.timeAway,u=[16,18,20].map(o=>({breakpoint:o,time:calcTimeToXBooks(i,o,n,e,l)-(null==t?void 0:t.BookLib)}));return u=[...u,{breakpoint:0,time:calcTimeToXBooks(0,20,n,e,l)}],{bookCount:i,next:getTimeToNextBooks(i,n,e,l)-o,breakpoints:u}},calcBookCount=(l,e,n)=>{var i;let o=null==l?void 0:null===(i=l.accountOptions)||void 0===i?void 0:i[55],t=null==l?void 0:l.timeAway,u=null==t?void 0:t.BookLib,d=(new Date).getTime()/1e3-t.GlobalTime,r=o;for(d>300&&(u+=d);u>getTimeToNextBooks(r,l,e,n);)u-=getTimeToNextBooks(r,l,e,n),r+=1;return{bookCount:r,libTime:u}},calcTimeToXBooks=(l,e,n,i,o)=>{let t=0;for(let u=l;u<e;u++)t+=getTimeToNextBooks(u,n,i,o);return t},getTimeToNextBooks=(l,e,n,o)=>{var t,u,m;let p=(0,i.tryToParse)(null==o?void 0:o.Tower)||(null==o?void 0:o.Tower),h=(0,s.c9)(null==e?void 0:e.lab.labBonuses,8),f=(0,s.pc)(null==e?void 0:null===(t=e.lab)||void 0===t?void 0:t.jewels,16,h),_=1+(0,d.F4)(e,"Library_checkout_Speed",null,f)/100,y=(0,r.om)(null==e?void 0:null===(u=e.alchemy)||void 0===u?void 0:u.bubbles,"kazam","IGNORE_OVERDUES",!1),b=(0,r.YG)(null==e?void 0:null===(m=e.alchemy)||void 0===m?void 0:m.vials,"Talent_Book_Library"),B=(0,a.mV)(null==e?void 0:e.stamps,"Talent_Book_Library_Refresh_Speed"),C=null==p?void 0:p[1],M=(0,c._m)(e,"Oxygen_-_Library_Booker"),S=(0,g.Ob)(e,"Library_Checkouts"),w=0;S&&(w=null==S?void 0:S.totalBonus);let x=3600/(_*(1+M/100)*(1+(5*C+y+(b+(B+w+Math.min(30,Math.max(0,30*(0,v.k)(null==e?void 0:e.achievements,145))))))/100))*4;return Math.round(x*(1+10*Math.pow(l,1.4)/100))},getLooty=l=>{var e,n,u;let d=(null==l?void 0:null===(e=l.Cards)||void 0===e?void 0:e[1])||(0,i.tryToParse)(null==l?void 0:l.Cards1),r=null===t.randomList||void 0===t.randomList?void 0:null===(n=t.randomList[17])||void 0===n?void 0:n.split(" ");null==d||d.filter(l=>!r.includes(l));let a=JSON.parse(JSON.stringify(t.items)),v=null===t.slab||void 0===t.slab?void 0:t.slab.map(l=>{var e;return{name:null==a?void 0:null===(e=a[l])||void 0===e?void 0:e.displayName,rawName:l,obtained:null==d?void 0:d.includes(l),onRotation:null===o.Ns||void 0===o.Ns?void 0:o.Ns[l]}}),s=null==v?void 0:null===(u=v.filter(l=>{let{obtained:e,rawName:n}=l;return!e&&!(null===o.oA||void 0===o.oA?void 0:o.oA[n])}))||void 0===u?void 0:u.length;return{slabItems:v,lootedItems:null==d?void 0:d.length,missingItems:s,totalItems:null===t.slab||void 0===t.slab?void 0:t.slab.length,rawLootedItems:null==d?void 0:d.length}},getCurrencies=l=>{var e;let n=(null==l?void 0:null===(e=l.CurrenciesOwned)||void 0===e?void 0:e.KeysAll)||(null==l?void 0:l.CYKeysAll);return(null==l?void 0:l.CurrenciesOwned)?{...null==l?void 0:l.CurrenciesOwned,KeysAll:getKeysObject(n)}:{WorldTeleports:null==l?void 0:l.CYWorldTeleports,KeysAll:getKeysObject(n),ColosseumTickets:null==l?void 0:l.CYColosseumTickets,ObolFragments:null==l?void 0:l.CYObolFragments,SilverPens:null==l?void 0:l.CYSilverPens,GoldPens:null==l?void 0:l.CYGoldPens,DeliveryBoxComplete:null==l?void 0:l.CYDeliveryBoxComplete,DeliveryBoxStreak:null==l?void 0:l.CYDeliveryBoxStreak,DeliveryBoxMisc:null==l?void 0:l.CYDeliveryBoxMisc,minigamePlays:null==l?void 0:l.PVMinigamePlays_1}},enhanceColoTickets=(l,e,n)=>{let i=Object.entries({0:{name:"Typhoon",dialogThreshold:3,daysSinceIndex:15},1:{name:"Centurion",dialogThreshold:4,daysSinceIndex:35},2:{name:"Lonely_Hunter",dialogThreshold:6,daysSinceIndex:56}}).reduce((e,i,o)=>{var t;let[,u]=i,d=null==n?void 0:null===(t=n.accountOptions)||void 0===t?void 0:t[null==u?void 0:u.daysSinceIndex];return[...e,{rawName:"TixEZ".concat(o),amountPerDay:1,daysSincePickup:d,amount:l,totalAmount:Math.min(d,3)}]},[]);return{allTickets:i,totalAmount:l}},getKeysObject=l=>l.reduce((l,e,n)=>n<5?[...l,{amount:e,...o.Aw[n]}]:l,[]),enhanceKeysObject=(l,e,n)=>{let i={0:{name:"Dog_Bone",dialogThreshold:5,daysSinceIndex:16},1:{name:"Djonnut",dialogThreshold:6,daysSinceIndex:31},2:{name:"Bellows",dialogThreshold:8.5,daysSinceIndex:80},3:{}};return l.map((l,o)=>{var t,u;let d=getAmountPerDay(null==i?void 0:i[o],e),r=null==n?void 0:null===(u=n.accountOptions)||void 0===u?void 0:u[null==i?void 0:null===(t=i[o])||void 0===t?void 0:t.daysSinceIndex];return{...l,amountPerDay:d,daysSincePickup:r,totalAmount:Math.min(r,3)*d}})},getAmountPerDay=function(){let{name:l,dialogThreshold:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return n.reduce((n,i)=>{let{npcDialog:o}=i;return void 0===e?n:(null==o?void 0:o[l])>e?n+1:n},0)},getBundles=l=>{var e;let n=(0,i.tryToParse)(null==l?void 0:l.BundlesReceived)||(null==l?void 0:l.BundlesReceived);return null===(e=Object.entries(n))||void 0===e?void 0:e.reduce((l,e)=>{let[n,i]=e;return i?[...l,{name:n,owned:!!i}]:l},[]).sort((l,e)=>{var n,i,o,t;return null==l?void 0:null===(t=l.name)||void 0===t?void 0:null===(o=t.match(/_[a-z]/i))||void 0===o?void 0:o[0].localeCompare(null==e?void 0:null===(i=e.name)||void 0===i?void 0:null===(n=i.match(/_[a-z]/i))||void 0===n?void 0:n[0])})},isBundlePurchased=(l,e)=>null==l?void 0:l.find(l=>{let{name:n}=l;return n===e}),isArenaBonusActive=(l,e,n)=>{let i=e.split(" ");return!(n>i.length)&&l>=i[n]},calculateAfkTime=l=>1e3*parseFloat(l),getMaterialCapacity=(l,e)=>{let{allCapacity:n,mattyBagStampBonus:i,gemShopCarryBonus:o,masonJarStampBonus:t,extraBagsTalentBonus:u,starSignExtraCap:d}=e,r=null==l?void 0:l.capacity;return Math.floor(r*(1+i/100)*(1+25*o/100)*(1+(t+d)/100)*(1+u/100)*n)},getSpeedBonusFromAgility=function(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=(Math.pow(l+1,.37)-1)/40;return l>1e3&&(e=(l-1e3)/(l+2500)*.5+.297),2*e+1},getHighestLevelOf=(l,e)=>{let n=null==l?void 0:l.filter(l=>(0,u.gW)(null==l?void 0:l.class,e));return null==n?void 0:n.reduce((l,e)=>{let{level:n}=e;return n>l?n:l},0)},getHighestLevelOfClass=(l,e)=>{let n=null==l?void 0:l.reduce((l,e)=>{let{level:n,class:i}=e;return(null==l?void 0:l[i])?l[i]=Math.max(null==l?void 0:l[i],n):l[i]=n,l},{}),i=null===u.pV||void 0===u.pV?void 0:u.pV[e],o=null==i?void 0:i.find(l=>null==n?void 0:n[l]);return null==n?void 0:n[o]},getCharacterByHighestSkillLevel=(l,e,n)=>{let i=null===u.pV||void 0===u.pV?void 0:u.pV[e],o=l.filter(l=>i.includes(l.class));return o.reduce((l,e)=>{var i,o,t,u;return(null==e?void 0:null===(o=e.skillsInfo)||void 0===o?void 0:null===(i=o[n])||void 0===i?void 0:i.level)>(null==l?void 0:null===(u=l.skillsInfo)||void 0===u?void 0:null===(t=u[n])||void 0===t?void 0:t.level)?e:l},o[0])},getHighestLevelCharacter=l=>{let e=null==l?void 0:l.map(l=>{let{level:e}=l;return e});return Math.max(...e)},getHighestCharacterSkill=function(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=null==l?void 0:l.map(l=>{var n,i;let{skillsInfo:o}=l;return null!==(i=null==o?void 0:null===(n=o[e])||void 0===n?void 0:n.level)&&void 0!==i?i:0});return Math.max(...n)},calculateLeaderboard=l=>{var e;let n=l.reduce((l,e)=>{let{name:n,skillsInfo:i}=e;if(!i)return l;for(let[e,o]of Object.entries(i))if(l[e]){let i={...l[e],[n]:o},t=Object.keys(i).length;l[e]=Object.entries(i).sort((l,e)=>{let[n,{level:i}]=l,[o,{level:t}]=e;return t-i}).reduceRight((l,e)=>{let[n,i]=e;return{...l,[n]:{...i,rank:t--}}},{})}else l[e]={...l[e],[n]:o};return l},{});return null===(e=Object.entries(n))||void 0===e?void 0:e.reduce((l,e)=>{let[n,i]=e,o=Object.entries(i).reduce((l,e)=>{let[i,o]=e;return{...l,[i]:{[n]:o}}},{});return Object.entries(o).reduce((e,n)=>{let[i,o]=n;return{...e,[i]:{...l[i]||{},...o}}},{})},{})},calculateTotalSkillsLevel=l=>{var e;let n=null==l?void 0:l.reduce((l,e)=>{let{skillsInfo:n}=e;if(!n)return l;for(let[e,o]of Object.entries(n))if(null==l?void 0:l[e]){var i;l[e]={...l[e],level:null!==(i=l[e].level+(null==o?void 0:o.level))&&void 0!==i?i:0}}else l[e]={level:null==o?void 0:o.level,index:(null==o?void 0:o.index)-1,icon:null==o?void 0:o.icon};return l},{});return null===(e=Object.entries(n))||void 0===e?void 0:e.reduce((l,e)=>{let[n,{level:i}]=e,o=getSkillRank(i);return{...l,[n]:{...null==l?void 0:l[n],rank:o,color:getSkillRankColor(i)}}},n)},getSkillRankColor=l=>l<300?"white":l>=300&&l<400?"#ffc277":l>=400&&l<600?"#cadadb":l>=600&&l<1e3?"gold":"#56ccff",getSkillRank=l=>150>l?0:200>l?1:300>l?2:400>l?3:500>l?4:750>l?5:1e3>l?6:7,isMasteryBonusUnlocked=(l,e,n)=>(null==l?void 0:l.currentRift)<15?0:e>n?1:0,getSkillRankByIndex=(l,e)=>{for(let[,n]of Object.entries(l))if((null==n?void 0:n.level)>0&&(null==n?void 0:n.index)===e)return null==n?void 0:n.rank;return null},getSkillMasteryBonusByIndex=(l,e,n)=>{let i=Array(15).fill(1);return null==i?void 0:i.reduce((i,o,t)=>{let u=getSkillRankByIndex(l,t);return 1===n?i+=10*isMasteryBonusUnlocked(e,u,Math.round(n+2)):3===n?i+=isMasteryBonusUnlocked(e,u,Math.round(n+2)):4===n?i+=25*isMasteryBonusUnlocked(e,u,Math.round(n+2)):0!==t&&2!==t&&3!==t&&5!==t&&6!==t&&8!==t&&8!==t&&(i+=5*isMasteryBonusUnlocked(e,u,Math.round(n+2))),i},7)},getExpReq=(l,e)=>0===l?(15+Math.pow(e,1.9)+11*e)*Math.pow(1.208-Math.min(.164,.215*e/(e+100)),e)-15:2===l?(15+Math.pow(e,2)+13*e)*Math.pow(1.225-Math.min(.114,.135*e/(e+50)),e)-26:8===l?71>e?((10+Math.pow(e,2.81)+4*e)*Math.pow(1.117-.135*e/(e+5),e)-6)*(1+Math.pow(e,1.72)/300):((10+Math.pow(e,2.81)+4*e)*Math.pow(1.003,e)-6)/2.35*(1+Math.pow(e,1.72)/300):9===l?(15+Math.pow(e,1.3)+6*e)*Math.pow(1.17-Math.min(.07,.135*e/(e+50)),e)-26:(15+Math.pow(e,2)+15*e)*Math.pow(1.225-Math.min(.18,.135*e/(e+50)),e)-30,getGiantMobChance=(l,e)=>{var n,i,o,t;let u=null==e?void 0:null===(n=e.accountOptions)||void 0===n?void 0:n[57],d=null===(i=(0,m.Y0)(null==l?void 0:l.activePrayers,"Glitterbug",e))||void 0===i?void 0:i.curse,a=(0,p.wt)(null==e?void 0:e.shrines,6,null==l?void 0:l.mapIndex,null==e?void 0:e.cards,null==e?void 0:null===(o=e.sailing)||void 0===o?void 0:o.artifacts),v=(0,r.iu)(null==e?void 0:null===(t=e.alchemy)||void 0===t?void 0:t.vials,"GiantMob");return{chance:u<5?1/((100+50*Math.pow(u+1,2))*(1+d/100))*(1+(a+v)/100):1/(2*Math.pow(u+1,1.95)*(1+d/100)*Math.pow(u+1,1.5+u/15))*(1+(a+v)/100),crescentShrineBonus:a,giantMobVial:v,glitterbugPrayer:d}},getGoldenFoodBonus=(l,e,n)=>{var o,d,s,c,m,p,g;let _=null==e?void 0:null===(o=e.food)||void 0===o?void 0:o.find(e=>{let{name:n}=e;return n===l}),y=null!==(g=null!==(p=getHighestLevelOfClass(null==n?void 0:n.charactersLevels,"Bubonic_Conjuror"))&&void 0!==p?p:getHighestLevelOfClass(null==n?void 0:n.charactersLevels,"Shaman"))&&void 0!==g?g:0,b=(0,u._X)(null==e?void 0:e.talents,3,"THE_FAMILY_GUY"),B=(0,h.D)(t.classFamilyBonuses,"GOLDEN_FOODS",y),C=null===(d=u.pV[null==e?void 0:e.class])||void 0===d?void 0:d.includes("Shaman"),M=(0,f.zi)(e,8,n),S=(0,u._X)(null==e?void 0:e.talents,1,"HAUNGRY_FOR_GOLD"),w=(0,a.mV)(null==n?void 0:n.stamps,"Effect_from_Golden_Food._Sparkle_sparkle!"),x=(0,v.k)(null==n?void 0:n.achievements,37),T=(0,r.om)(null==n?void 0:null===(s=n.alchemy)||void 0===s?void 0:s.bubbles,"power","SHIMMERON",!1,(null===u.nl||void 0===u.nl?void 0:u.nl[null==e?void 0:e.class])==="strength"),k=(0,r.Vq)(null==n?void 0:null===(m=n.alchemy)||void 0===m?void 0:null===(c=m.p2w)||void 0===c?void 0:c.sigils,"EMOJI_VEGGIE");return(null==_?void 0:_.Amount)&&(null==_?void 0:_.amount)?(null==_?void 0:_.Amount)*(Math.max(C?B*(b>0?1+b/100:1)||0:B,1)+(M+(S+(w+(x+(T+k)))))/100)*.05*(0,i.lavaLog)(1+(null==_?void 0:_.amount))*(1+(0,i.lavaLog)(1+(null==_?void 0:_.amount))/2.14):0},getRandomEvents=l=>{if(!l)return[];let{serverVars:e,timeAway:n}=l||{},i=[],o=Math.round(Math.floor((null==n?void 0:n.GlobalTime)/3600));for(let l=0;l<100;l++){let n=o+l+(null==e?void 0:e.RandEvntHr),u=new _.Z(n),d=u.rand(),r=getEventType(d),a=new _.Z(n+1),v=a.rand(),s=getEventMaps(r);if(0===s.length)continue;let c=Math.min(Math.floor(v*s.length),s.length-1),m=null===t.rawMapNames||void 0===t.rawMapNames?void 0:t.rawMapNames.indexOf(null==s?void 0:s[c]);if(-1===m)continue;let p=null===t.mapNames||void 0===t.mapNames?void 0:t.mapNames[m],g=getEventName(r),h=(o+l+1)*36e5;if((0,y.Z)(h))continue;let f=new Date(h);f.isDstObserved()&&(h-=36e5),i.push({mapName:p,eventName:g,date:h})}return i},getEventMaps=l=>{let[e,n,i]=t.randomList.slice(68,71),o=[];return(0===l||1===l||3===l||4===l)&&(o=o.concat(e.split(" "))),(0===l||1===l||3===l)&&(o=o.concat(n.split(" "))),(0===l||2===l)&&(o=o.concat(i.split(" "))),o},getEventName=l=>{var e;let n={0:"Meteorite",1:"Mega_Grumblo",2:"Glacial_Guild",3:"Snake_Swarm",4:"Angry_Frogs"};return null!==(e=null==n?void 0:n[l])&&void 0!==e?e:""},getEventType=l=>.045>l?0:.087>l?1:.129>l?2:.171>l?3:.213>l?4:-1,getHighestCapacityCharacter=(l,e,n)=>null==e?void 0:e.reduce((e,i)=>{let o=(null==l?void 0:l.itemType)==="Equip"?1:getItemCapacity(null==l?void 0:l.typeGen,i,n),t=(null==i?void 0:i.inventorySlots)*o;return t>(null==e?void 0:e.maxCapacity)&&(e={capacityPerSlot:o,maxCapacity:t,character:null==i?void 0:i.name}),e},{capacityPerSlot:0,maxCapacity:0,character:""}),getAllCap=(l,e)=>{var n,i,o,t,d,r,a,v;let s=(0,b._r)(null==e?void 0:null===(n=e.guild)||void 0===n?void 0:n.guildBonuses,2),c=(0,u._X)(null==l?void 0:l.starTalents,null,"TELEKINETIC_STORAGE"),g=(0,p.wt)(null==e?void 0:e.shrines,3,null==l?void 0:l.mapIndex,null==e?void 0:e.cards,null==e?void 0:null===(i=e.sailing)||void 0===i?void 0:i.artifacts),h=null===(o=(0,m.Y0)(null==l?void 0:l.activePrayers,"Zerg_Rushogen",e))||void 0===o?void 0:o.curse,f=null===(t=(0,m.Y0)(null==l?void 0:l.activePrayers,"Ruck_Sack",e))||void 0===t?void 0:t.bonus,_=(null==e?void 0:null===(r=e.bribes)||void 0===r?void 0:null===(d=r[23])||void 0===d?void 0:d.done)?null==e?void 0:null===(v=e.bribes)||void 0===v?void 0:null===(a=v[23])||void 0===a?void 0:a.value:0;return(1+(s+c)/100)*(1+g/100)*Math.max(1-h/100,.4)*(1+(f+_)/100)},getItemCapacity=function(){var l;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=null==i?void 0:null===(l=i.gemShopPurchases)||void 0===l?void 0:l.find((l,e)=>58===e),t=(0,B.o9)(n,i,"Carry_Cap"),d=(0,a.mV)(null==i?void 0:i.stamps,"Carrying_Capacity_for_Mining_Items",n),r=(0,a.mV)(null==i?void 0:i.stamps,"Carrying_Capacity_for_Choppin'_Items",n),v=(0,a.mV)(null==i?void 0:i.stamps,"Carry_Capacity_for_Fishing_Items",n),s=(0,a.mV)(null==i?void 0:i.stamps,"Carry_Capacity_for_Catching_Items",n),c=(0,a.mV)(null==i?void 0:i.stamps,"Carrying_Capacity_for_Material_Items",n),m=(0,a.mV)(null==i?void 0:i.stamps,"Carry_Capacity_for_ALL_item_types!"),p=(0,u._X)(null==n?void 0:n.talents,0,"EXTRA_BAGS"),g=getAllCap(n,i);return"bOre"===e||"bBar"===e||"cOil"===e?Math.floor((null==n?void 0:n.maxCarryCap.Mining)*(1+d/100)*(1+25*o/100)*(1+(m+t)/100)*g):"dFish"===e?Math.floor((null==n?void 0:n.maxCarryCap.Fishing)*(1+25*o/100)*(1+v/100)*(1+(m+t)/100)*g):"dBugs"===e?Math.floor((null==n?void 0:n.maxCarryCap.Bugs)*(1+25*o/100)*(1+s/100)*(1+(m+t)/100)*g):"bLog"===e||"bLeaf"===e?Math.floor((null==n?void 0:n.maxCarryCap.Chopping)*(1+r/100)*(1+25*o/100)*(1+(m+t)/100)*g):"cFood"===e?Math.floor((null==n?void 0:n.maxCarryCap.Foods)*(1+25*o/100)*(1+(m+t)/100)*g):"dCritters"===e?Math.floor((null==n?void 0:n.maxCarryCap.Critters)*(1+25*o/100)*(1+(m+t)/100)*g):"dSouls"===e?Math.floor((null==n?void 0:n.maxCarryCap.Souls)*(1+25*o/100)*(1+(m+t)/100)*g):"dCurrency"===e||"dQuest"===e||"dStatueStone"===e?999999:"bCraft"===e?Math.floor((null==n?void 0:n.maxCarryCap.bCraft)*(1+c/100)*(1+25*o/100)*(1+(m+t)/100)*(1+p/100)*g):"dExpOrb"===e||"dStone"===e||"dFishToolkit"===e?999999:"fillerz"===e?null==n?void 0:n.maxCarryCap.fillerz:"d"===e.charAt(0)?999999:2},getTypeGen=l=>{let e={bCraft:"bCraft",Foods:"cFood",Mining:"bOre",Quests:"dQuest",Statues:"dStatueStone",Chopping:"bLog",Fishing:"dFish",Bugs:"dBugs",Critters:"dCritters",Souls:"dSouls"};return null==e?void 0:e[l]},getFoodBonus=(l,e,n)=>{var i;let o=(0,C.wJ)(l,e);return null==l?void 0:null===(i=l.food)||void 0===i?void 0:i.reduce((l,e)=>{let{Amount:i,Effect:t}=e;return l+(t===n?i*o:0)},0)},getHealthFoodBonus=(l,e,n)=>{var i;let o=(0,C.wJ)(l,e,!0);return null==l?void 0:null===(i=l.food)||void 0===i?void 0:i.reduce((l,e)=>{let{Trigger:i,Amount:t,Cooldown:u,Effect:d}=e;return l+(i>0&&d===n?t*o/Math.max(u,1)*3600:0)},0)},getMinigameScore=(l,e)=>{var n,i,o;return(null==l?void 0:null===(o=l.highscores)||void 0===o?void 0:null===(i=o.minigameHighscores)||void 0===i?void 0:null===(n=i.find(l=>{let{minigame:n}=l;return n===e}))||void 0===n?void 0:n.score)||0},getCompanions=function(){var l,e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[i]=(null==n?void 0:null===(l=n.e)||void 0===l?void 0:l.split(","))||[],o=null===t.companions||void 0===t.companions?void 0:t.companions[i],u=null==n?void 0:null===(e=n.l)||void 0===e?void 0:e.reduce((l,e)=>{let[n]=null==e?void 0:e.split(",");return{...l,[n]:!0}},{}),d=null===t.companions||void 0===t.companions?void 0:t.companions.map((l,e)=>({...l,acquired:!!(null==u?void 0:u[e])}));return{totalBoxesOpened:null==n?void 0:n.x,currentCompanion:o,list:d,lastFreeClaim:null==n?void 0:n.t,petCrystals:null==n?void 0:n.s,maxStorage:40}},isCompanionBonusActive=(l,e)=>{var n,i,o;return null==l?void 0:null===(o=l.companions)||void 0===o?void 0:null===(i=o.list)||void 0===i?void 0:null===(n=i.at(e))||void 0===n?void 0:n.acquired}},74805:function(l,e,n){n.d(e,{dR:function(){return getObols},eX:function(){return mergeCharacterAndAccountObols},gY:function(){return getObolsBonus}});var i=n(42168),o=n(70473),t=n(88344);let u=["STR","AGI","WIS","LUK","Weapon_Power","Defence","UQ1txt","UQ2txt"],getObols=function(l){var e,n;let o=!(arguments.length>1)||void 0===arguments[1]||arguments[1],t=(0,i.tryToParse)(null==l?void 0:l.ObolEqO1)||(o?null==l?void 0:null===(e=l.ObolEquippedOrder)||void 0===e?void 0:e[1]:null==l?void 0:l.ObolEquippedOrder),u=(0,i.tryToParse)(null==l?void 0:l.ObolEqMAPz1)||(o?null==l?void 0:null===(n=l.ObolEquippedMap)||void 0===n?void 0:n[1]:null==l?void 0:l.ObolEquippedMap);return parseObols(t,u,o)},parseObols=(l,e,n)=>{let i=n?o.obols.family:o.obols.character,t=null==l?void 0:l.map((l,e)=>{var t;return{displayName:null===o.items||void 0===o.items?void 0:null===(t=o.items[l])||void 0===t?void 0:t.displayName,rawName:l,...n?{}:{index:calculateWeirdObolIndex(e)},...(null==i?void 0:i[e])?i[e]:{}}}),u=createObolsWithUpgrades(t,e);u.sort((l,e)=>l.index-e.index);let d=getStatsFromObols(u,n);return{list:u,stats:d}},createObolsWithUpgrades=(l,e)=>l.reduce((l,n,i)=>{let{rawName:u}=n;if("Blank"===u)return[...l,n];let d=(0,t.t8)(null===o.items||void 0===o.items?void 0:o.items[u],e[i]);return u?[...l,{..."Blank"===u?{}:{...n,...null===o.items||void 0===o.items?void 0:o.items[u],...d}}]:l},[]),getStatsFromObols=(l,e)=>{let n=e?"familyBonus":"personalBonus";return null==l?void 0:l.reduce((l,e)=>(Object.entries(e).forEach(i=>{var o,t,d,r,a,v,s,c,m,p;let[g,h]=i,f=u.includes(g);if(f){if((null===(o=l[g])||void 0===o?void 0:o[n])||(null===(t=l[h])||void 0===t?void 0:t[n])){if("UQ1txt"===g||"UQ2txt"===g){if(0===h)return;let i=null===(d=g.match(/\d/g))||void 0===d?void 0:d[0];l[h]={[n]:(null!==(a=null==l?void 0:null===(r=l[h])||void 0===r?void 0:r[n])&&void 0!==a?a:0)+(null==e?void 0:e["UQ".concat(i,"val")])||0}}else l[g]={[n]:(null!==(s=null==l?void 0:null===(v=l[g])||void 0===v?void 0:v[n])&&void 0!==s?s:0)+h}}else if("UQ1txt"===g||"UQ2txt"===g){if(0===h)return;let i=null===(c=g.match(/\d/g))||void 0===c?void 0:c[0];l[h]={[n]:(null!==(p=null==l?void 0:null===(m=l[h])||void 0===m?void 0:m[n])&&void 0!==p?p:0)+(null==e?void 0:e["UQ".concat(i,"val")])||0}}else l[g]={[n]:h}}}),l),{})},mergeCharacterAndAccountObols=(l,e)=>{let n=new Set([...Object.keys(l.stats),...Object.keys(e.stats)]);return Array.from(n).reduce((n,i)=>{var o,t,u,d;let{personalBonus:r}=null!==(u=null===(o=l.stats)||void 0===o?void 0:o[i])&&void 0!==u?u:0,{familyBonus:a}=null!==(d=null===(t=e.stats)||void 0===t?void 0:t[i])&&void 0!==d?d:0;return n[i]={personalBonus:r,familyBonus:a},n},{})},calculateWeirdObolIndex=l=>{switch(l){case 12:return 13;case 13:return 14;case 14:return 12;case 17:return 15;case 15:return 17;case 16:return 19;case 18:return 16;case 19:return 18;default:return l}},getObolsBonus=(l,e)=>{var n;let{personalBonus:i=0,familyBonus:o=0}=(null==l?void 0:null===(n=l.stats)||void 0===n?void 0:n[e])||{};return i||o?(null!=i?i:0)+(null!=o?o:0):0}},34664:function(l,e,n){n.d(e,{Aw:function(){return t},Ns:function(){return u},Pe:function(){return o},SS:function(){return i},oA:function(){return d}});let i={The_Book_Worm:"1",The_Buff_Guy:"1a",The_Fuzzy_Dice:"1b",Flexo_Bendo:"2",Dwarfo_Beardus:"3",Hipster_Logger:"4",Pie_Seas:"4a",Miniature_Game:"4b",Shoe_Fly:"4c",Pack_Mule:"5",Pirate_Booty:"6",All_Rounder:"7",Muscle_Man:"7a",Fast_Frog:"7b",Smart_Stooge:"7c",Lucky_Larry:"7d",Fatty_Doodoo:"8",Robinhood:"9",Blue_Hedgehog:"9a",Ned_Kelly:"10",The_Fallen_Titan:"10a",Chronus_Cosmos:"CR",Activelius:"11",Gum_Drop:"11a",Mount_Eaterest:"12",Bob_Build_Guy:"13",The_Big_Comatose:"14",Sir_Savvy:"14a",Silly_Snoozer:"15",The_Big_Brain:"15a",Grim_Reaper:"16",The_Forsaken:"16a",The_OG_Skiller:"17",Mr_No_Sleep:"18",All_Rounderi:"1",Centaurii:"2",Murmollio:"3",Strandissi:"4",Agitagi:"4B",Wispommo:"5",Lukiris:"5B",Pokaminni:"6",Gor_Bowzor:"7",Hydron_Cosmos:"8",Trapezoidburg:"8B",Sawsaw_Salala:"9",Preys_Bea:"9B",Cullingo:"10",Gum_Drop_Major:"10B",Grim_Reaper_Major:"11",Sir_Savvy_Major:"12",The_Bulwark:"13",Big_Brain_Major:"14",The_Fiesty:"15",The_Overachiever:"15B",Comatose_Major:"16","S._Snoozer_Major":"17"},o={0:{name:"character",icon:""},1:{name:"mining",icon:"ClassIcons42"},2:{name:"smithing",icon:"ClassIcons43"},3:{name:"chopping",icon:"ClassIcons44"},4:{name:"fishing",icon:"ClassIcons45"},5:{name:"alchemy",icon:"ClassIcons46"},6:{name:"catching",icon:"ClassIcons47"},7:{name:"trapping",icon:"ClassIcons48"},8:{name:"construction",icon:"ClassIcons49"},9:{name:"worship",icon:"ClassIcons50"},10:{name:"cooking",icon:"ClassIcons51"},11:{name:"breeding",icon:"ClassIcons52"},12:{name:"laboratory",icon:"ClassIcons53"},13:{name:"sailing",icon:"ClassIcons54"},14:{name:"divinity",icon:"ClassIcons55"},15:{name:"gaming",icon:"ClassIcons56"}},t={0:{name:"Forest_Villa_Key",rawName:"Key1"},1:{name:"Efaunt's_Tomb_Key",rawName:"Key2"},2:{name:"Chizoar's_Cavern_Key",rawName:"Key3"},3:{name:"Troll's_Enclave_Key",rawName:"Key4"},4:{name:"Kruk's_Volcano_Key",rawName:"Key5"}},u=["EquipmentCape0","EquipmentCape2","EquipmentPendant28","EquipmentRings31","EquipmentRings32","EquipmentRings33","EquipmentHats80","EquipmentHats34"].toSimpleObject(),d={Quest30:!0,Quest42:!0,Quest49:!0,Quest50:!0,Quest64:!0,PalmTreeD:!0,EquipmentShoes2:!0,EquipmentPendant18:!0,TestObj4:!0,TestObj5:!0,TestObj8:!0,TestObj14:!0,TestObj15:!0,TestObj16:!0,EquipmentPants11:!0,EquipmentSmithingTabs6:!0,EquipmentSmithingTabs7:!0,EquipmentSmithingTabs8:!0,EquipmentToolsHatchet10:!0,Quest8:!0,ClassSwap:!0,ResetBox:!0,Ht:!0,SmithingRecipes3:!0,SmithingRecipes4:!0,Godshard:!0,GodshardBar:!0,Quest28:!0,StampB28:!0,StampB29:!0,StampB32:!0,StampB33:!0,StampB35:!0,StampC10:!0,StampC11:!0,StampC12:!0,CardsC13:!0,CardsC14:!0,CardsC15:!0,CardsD12:!0,CardsD13:!0,Trophy4:!0,Trophy7:!0,Line8:!0,Line9:!0,Line11:!0,Line12:!0,Line13:!0,Line14:!0,Weight4:!0,Weight7:!0,Weight9:!0,Weight13:!0,Weight14:!0,StampsA22:!0,StampsA25:!0,DoubleAFKtix:!0,ObolFrag:!0,DeliveryBox:!0,StampC17:!0,FishingRod1:!0,CatchingNet1:!0,FoodHealth8:!0,EquipmentCape1:!0,EquipmentHats72:!0,EquipmentHats55:!0,EquipmentHats42:!0,EquipmentHats63:!0,EquipmentHats66:!0,MaxCapBagFi0:!0,MaxCapBagB0:!0,MaxCapBagTr0:!0,MaxCapBagTr2:!0,MaxCapBagS0:!0,MaxCapBagS2:!0,Spice0:!0,Spice6:!0,Spice9:!0,EquipmentHats75:!0,Quest70:!0,Quest71:!0,StampC13:!0,TalentPoint5:!0}},4056:function(l,e,n){n.d(e,{NU:function(){return getPostOfficeShipments},dQ:function(){return getPlayerPostOffice},wO:function(){return getPostOfficeBoxLevel},xV:function(){return getPostOfficeBonus}});var i=n(42168),o=n(70473);let getPlayerPostOffice=(l,e)=>{var n,i,t;let u=0,d=null===o.postOffice||void 0===o.postOffice?void 0:o.postOffice.map((e,n)=>{var i,o;let t=null!==(o=null==l?void 0:null===(i=l[n])||void 0===i?void 0:i[0])&&void 0!==o?o:null==l?void 0:l[n];return u+=t,{...e,level:t||0}}),r=(null==e?void 0:null===(n=e.currencies)||void 0===n?void 0:n.DeliveryBoxComplete)+(null==e?void 0:null===(i=e.currencies)||void 0===i?void 0:i.DeliveryBoxStreak)+(null==e?void 0:null===(t=e.currencies)||void 0===t?void 0:t.DeliveryBoxMisc);return{boxes:d,totalOrders:r,totalPointsSpent:u,unspentPoints:r-u||0}},getPostOfficeBonus=(l,e,n)=>{var o,t,u,d,r;let a=null==l?void 0:null===(o=l.boxes)||void 0===o?void 0:o.find(l=>{let{name:n}=l;return n===e});if(!a)return 0;let v=Math.round(0===n?null==a?void 0:a.level:1===n?(null==a?void 0:a.level)-(null==a?void 0:null===(t=a.upgradeLevels)||void 0===t?void 0:t[0]):(null==a?void 0:a.level)-(null==a?void 0:null===(u=a.upgradeLevels)||void 0===u?void 0:u[1])),s=null==a?void 0:null===(d=a.upgrades)||void 0===d?void 0:d[n];return null!==(r=(0,i.growth)(null==s?void 0:s.func,v>0?v:0,null==s?void 0:s.x1,null==s?void 0:s.x2,!1))&&void 0!==r?r:0},getPostOfficeBoxLevel=(l,e)=>{var n;let i=null==l?void 0:null===(n=l.boxes)||void 0===n?void 0:n.find(l=>{let{name:n}=l;return n===e});return i?null==i?void 0:i.level:0},getPostOfficeShipments=l=>{let e=(0,i.tryToParse)(null==l?void 0:l.PostOfficeInfo1)||(null==l?void 0:l.PostOfficeInfo1),n=(0,i.createArrayOfArrays)(e);return null==n?void 0:n.map((l,e)=>{let[n,i]=l;return{index:e,totalShipments:n,streak:i}})}},15815:function(l,e,n){n.d(e,{Y0:function(){return getPrayerBonusAndCurse},hn:function(){return getPrayers},il:function(){return calcPrayerCost}});var i=n(42168),o=n(88344),t=n(70473),u=n(20385);let getPrayers=(l,e)=>{let n=(null==l?void 0:l.PrayersUnlocked)||(0,i.tryToParse)(null==l?void 0:l.PrayOwned);return parsePrayers(n,e)},parsePrayers=(l,e)=>null==l?void 0:l.reduce((l,n,i)=>{var u,d;let r=null===t.prayers||void 0===t.prayers?void 0:null===(u=t.prayers[i])||void 0===u?void 0:u.soul,a=(0,o.ju)(e,null===t.items||void 0===t.items?void 0:null===(d=t.items[r])||void 0===d?void 0:d.displayName,!0);return i<19?[...l,{...null===t.prayers||void 0===t.prayers?void 0:t.prayers[i],prayerIndex:i,totalAmount:a,level:n}]:l},[]),getPrayerBonusAndCurse=(l,e,n)=>{let i;let o=(0,u.Ob)(n,"No_more_Praying"),t=o&&(!l||(null==l?void 0:l.length)===0);if(t){var d;i=null==n?void 0:null===(d=n.prayers)||void 0===d?void 0:d.find(l=>{let{name:n}=l;return n===e})}else i=null==l?void 0:l.find(l=>{let{name:n}=l;return n===e});if(!i)return{bonus:0,curse:0};let r=i.x1+i.x1*(i.level-1)/10,a=i.x2+i.x2*(i.level-1)/10;return{bonus:Math.round(t?r/5:r),curse:Math.round(t?0:a)}},calcPrayerCost=l=>{let{level:e,costMulti:n,prayerIndex:i}=l;return e<6?Math.round(n*(1+(4+i/25)*e)):Math.round(Math.min(2e9,n*(1+(1+i/20)*e)*Math.pow(9===i?1.3:1.12,e-5)))}},19225:function(l,e,n){n.d(e,{GU:function(){return getPlayerQuests},jZ:function(){return isWorldFinished},zz:function(){return getQuests}});var i=n(70473),o=n(42168);let isWorldFinished=(l,e)=>{let n={1:"Builder_Bird",2:"Constructor_Crow",3:"Carpenter_Cardinal",4:"Muhmuguh"};return null==l?void 0:l.some(l=>{let{npcDialog:i}=l;return 4===e?null==i?void 0:i[null==n?void 0:n[e]]:(null==i?void 0:i[null==n?void 0:n[e]])===9999})},getQuests=l=>{let e=Object.keys(i.quests),n=null==e?void 0:e.reduce((e,n)=>{var u,d,r,a,v,s,c,m,p;let g=(0,o.cloneObject)(i.quests[n]),h=null==t?void 0:null===(u=t[n])||void 0===u?void 0:u.world,f=null==t?void 0:null===(d=t[n])||void 0===d?void 0:d.index;if(!h)return e;for(let e=0;e<(null==l?void 0:l.length);e++){let i=(0,o.cloneObject)(null==l?void 0:null===(a=l[e])||void 0===a?void 0:null===(r=a.quests)||void 0===r?void 0:r[n])||{},t=Object.keys(i),u=!1;for(let l=0;l<(null==t?void 0:t.length);l++){let n=t[l],o=i[n];g[n]&&((null==g?void 0:g[n-1])&&(!u&&(0===o||-1===o)||1===o)&&(g[n-1].progress=null===(s=g[n-1])||void 0===s?void 0:null===(v=s.progress)||void 0===v?void 0:v.filter(l=>{let{charIndex:n}=l;return n!==e})),1===o?(g[n].completed=[...(null===(c=g[n])||void 0===c?void 0:c.completed)||[],{charIndex:e,status:o}],g[n].progress=[...(null===(m=g[n])||void 0===m?void 0:m.progress)||[],{charIndex:e,status:o}]):u||0!==o&&-1!==o||(g[n].progress=[...(null===(p=g[n])||void 0===p?void 0:p.progress)||[],{charIndex:e,status:o}],u=!0))}}return{...e,[h]:[...(null==e?void 0:e[h])||[],{name:n,index:f,npcQuests:Object.values(g)}]}},{});for(let l in n){let e=n[l];null==e||e.sort((l,e)=>(null==l?void 0:l.index)-(null==e?void 0:e.index))}return n},getPlayerQuests=l=>Object.keys(l).reduce((e,n)=>{let[i,o]=n.split(/([0-9]+)/);return n.includes("Fishpaste")&&(i="Fishpaste97"),{...e,[i]:{...(null==e?void 0:e[i])||{},[o]:l[n]}}},{}),t={Scripticus:{world:"Blunder_Hills",index:0},Glumlee:{world:"Blunder_Hills",index:1},Krunk:{world:"Blunder_Hills",index:2},Mutton:{world:"Blunder_Hills",index:3},Woodsman:{world:"Blunder_Hills",index:4},Hamish:{world:"Blunder_Hills",index:5},Toadstall:{world:"Blunder_Hills",index:5},Picnic_Stowaway:{world:"Blunder_Hills",index:6},Promotheus:{world:"Blunder_Hills",index:6},Typhoon:{world:"Blunder_Hills",index:7},Sprout:{world:"Blunder_Hills",index:8},Dazey:{world:"Blunder_Hills",index:9},Telescope:{world:"Blunder_Hills",index:10},Stiltzcho:{world:"Blunder_Hills",index:11},Funguy:{world:"Blunder_Hills",index:12},Tiki_Chief:{world:"Blunder_Hills",index:13},Dog_Bone:{world:"Blunder_Hills",index:14},Papua_Piggea:{world:"Blunder_Hills",index:15},TP_Pete:{world:"Blunder_Hills",index:16},Meel:{world:"Blunder_Hills",index:17},Town_Marble:{world:""},Mr_Pigibank:{world:""},Secretkeeper:{world:""},Bushlyte:{world:""},Rocklyte:{world:""},Cowbo_Jones:{world:"Yum-Yum_Desert",index:0},Fishpaste97:{world:"Yum-Yum_Desert",index:1},Scubidew:{world:"Yum-Yum_Desert",index:2},Whattso:{world:"Yum-Yum_Desert",index:3},Bandit_Bob:{world:"Yum-Yum_Desert",index:4},Carpetiem:{world:"Yum-Yum_Desert",index:5},Centurion:{world:"Yum-Yum_Desert",index:6},Goldric:{world:"Yum-Yum_Desert",index:7},Snake_Jar:{world:"Yum-Yum_Desert",index:8},Speccius:{world:"Yum-Yum_Desert",index:9},XxX_Cattleprod_XxX:{world:"Yum-Yum_Desert",index:10},Loominadi:{world:"Yum-Yum_Desert",index:11},Wellington:{world:"Yum-Yum_Desert",index:12},Djonnut:{world:"Yum-Yum_Desert",index:13},Walupiggy:{world:"Yum-Yum_Desert",index:14},Gangster_Gus:{world:"Yum-Yum_Desert",index:15},Omar_Da_Ogar:{world:"Yum-Yum_Desert",index:16},Builder_Bird:{world:""},Postboy_Pablob:{world:""},Desert_Davey:{world:""},Giftmas_Blobulyte:{world:""},Loveulyte:{world:""},Constructor_Crow:{world:""},Iceland_Irwin:{world:""},Egggulyte:{world:""},Hoggindaz:{world:"Frostbite_Tundra",index:0},Worldo:{world:"Frostbite_Tundra",index:0},Lord_of_the_Hunt:{world:"Frostbite_Tundra",index:1},Lonely_Hunter:{world:"Frostbite_Tundra",index:2},Snouts:{world:"Frostbite_Tundra",index:3},Shuvelle:{world:"Frostbite_Tundra",index:4},Yondergreen:{world:"Frostbite_Tundra",index:5},Crystalswine:{world:"Frostbite_Tundra",index:6},Bill_Brr:{world:"Frostbite_Tundra",index:7},Bellows:{world:"Frostbite_Tundra",index:8},Cactolyte:{world:""},Coastiolyte:{world:""},Gobo:{world:"Hyperion_Nebula",index:0},Oinkin:{world:"Hyperion_Nebula",index:1},Eliteus:{world:"Hyperion_Nebula",index:2},Capital_P:{world:"Hyperion_Nebula",index:3},Blobbo:{world:"Hyperion_Nebula",index:4},Royal_Worm:{world:"Hyperion_Nebula",index:5},Monolith:{world:"Hyperion_Nebula",index:6},Rift_Ripper:{world:"Hyperion_Nebula",index:7},Muhmuguh:{world:"Smolderin'_Plateau",index:1},Slargon:{world:"Smolderin'_Plateau",index:2},Pirate_Porkchop:{world:"Smolderin'_Plateau",index:3},Poigu:{world:"Smolderin'_Plateau",index:4},Tired_Mole:{world:"Smolderin'_Plateau",index:5}}},16727:function(l,e,n){n.d(e,{YS:function(){return isArtifactAcquired},x0:function(){return getSailing},yN:function(){return getArtifacts}});var i=n(42168),o=n(70473),t=n(10924),u=n(30796),d=n(88054),r=n(54685),a=n(1972),v=n(89260),s=n(19834),c=n(74861),m=n(20385),p=n(15893),g=n(5432),h=n(79603),f=n(74044),_=n(9339);let getSailing=(l,e,n,o,t,u)=>{let d=(0,i.tryToParse)(null==l?void 0:l.Sailing)||(null==l?void 0:l.Sailing),r=(0,i.tryToParse)(null==l?void 0:l.Captains)||(null==l?void 0:l.Captains),a=(0,i.tryToParse)(null==l?void 0:l.Boats)||(null==l?void 0:l.Boats),v=(0,i.tryToParse)(null==l?void 0:l.SailChests)||(null==l?void 0:l.SailChests);return d&&r&&a&&v?parseSailing(e,d,r,a,v,n,o,t,u):null},parseSailing=(l,e,n,i,o,t,u,d,r)=>{var a,v,s,c,m,p;let g=null==e?void 0:e[1],h=null!==(p=null===(a=isArtifactAcquired(l,"Dreamcatcher"))||void 0===a?void 0:a.bonus)&&void 0!==p?p:0,f=null==u?void 0:null===(v=u.gemShopPurchases)||void 0===v?void 0:v.find((l,e)=>129===e),y=(0,_.k)(null==u?void 0:u.achievements,287)+(0,_.k)(null==u?void 0:u.achievements,290),b=Math.min(Math.round(5+f+(Math.min(4,h)+(null==u?void 0:null===(m=u.tasks)||void 0===m?void 0:null===(c=m[2])||void 0===c?void 0:null===(s=c[4])||void 0===s?void 0:s[2])+y)),30),B=getChests(o,l,d),C=getRareTreasureChance(),M=getLootPile(g),S=getCaptainsAndBoats(e,n,i,u,t,r,l,M),w=getFutureTrades(S,null==e?void 0:e[0],M,l,u);return{maxChests:b,artifacts:l,lootPile:M,chests:B,rareTreasureChance:C,trades:w,...S}},getFutureTrades=function(){var l,e,n,i;let{boats:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a=null!==(i=null==o?void 0:null===(e=o[0])||void 0===e?void 0:null===(l=e.loot)||void 0===l?void 0:l.value)&&void 0!==i?i:0,v=isArtifactAcquired(d,"Emerald_Relic"),s=null==t?void 0:t.reduce((l,e)=>-1===e?l+1:l,0),c=Math.floor((null==r?void 0:null===(n=r.timeAway)||void 0===n?void 0:n.GlobalTime)/21600),m=[];for(let l=0;l<40;l++){let e=new f.Z(c+l),n=e.rand(),i=Math.min(30,Math.ceil(2*n*s)),o=getLootItemCost(null==u?void 0:u[i],a),t=new Date(Math.floor((c+l)*216e5));m.push({...null==u?void 0:u[i],date:t,moneyValue:getMoneyValue(o,i,v),lootItemCost:o})}return m},getLootItemCost=(l,e)=>Math.max(.2*(null==l?void 0:l.amount),e),getMoneyValue=(l,e,n)=>{var i;let o=null!==(i=null==n?void 0:n.acquired)&&void 0!==i?i:0;return l*(1.5*Math.pow(1.6,Math.floor(e/2))*(1+((e+1)%2*150+(30*Math.floor(o/2)+30*Math.floor(o/3)))/100))},getArtifacts=(l,e,n)=>{let t=(0,i.tryToParse)(null==l?void 0:l.Sailing)||(null==l?void 0:l.Sailing),u=null==t?void 0:t[3],d=null==t?void 0:t[1];return null===o.artifacts||void 0===o.artifacts?void 0:o.artifacts.map((l,i)=>getArtifact(l,null==u?void 0:u[i],d,i,e,n))},getChests=(l,e,n)=>null==l?void 0:l.map(l=>({...getArtifactChance(l,e,n),rawName:"SailChest".concat(null==l?void 0:l[3])})),getArtifactChance=(l,e,n)=>{let[i,t,u]=l,d=null===o.islands||void 0===o.islands?void 0:o.islands[t],r=0;for(let l=0;l<t;l++){let e=null===o.islands||void 0===o.islands?void 0:o.islands[l];r+=null==e?void 0:e.numberOfArtifacts}let a=1,v=0;for(let l=0;l<(null==d?void 0:d.numberOfArtifacts);l++){let i=e[r+l];i?((null==i?void 0:i.acquired)===1&&(a=v=a*(1-u/getAncientChances(t,n))),(null==i?void 0:i.acquired)===2&&(a=v=a*(1-u/getEldritchChances(t,n)))):v=a*(1-u/(null==i?void 0:i.baseFindChance))}if(0===v)return{done:!0,island:d,islandIndex:t,treasure:i};let s=100*Math.min(1,1-v),c=null==e?void 0:e.slice(r,r+(null==d?void 0:d.numberOfArtifacts)).filter(l=>{let{acquired:e}=l;return e<3});return{artifactChance:s>.01?Math.round(100*s)/100:.01,ancientChance:(u/getAncientChances(t,n)).toFixed(5),eldritchChance:(u/getEldritchChances(t,n)).toFixed(5),island:d,islandIndex:t,treasure:i,possibleArtifacts:c}},getAncientChances=(l,e)=>3>l?850:(1e3+(l-3)*(null==e?void 0:e.AncientOddPerIsland))/(1+(null==e?void 0:e.AncientArtiPCT)/100),getEldritchChances=(l,e)=>3>l?900+250*l:(1e3+(l-3)*(null==e?void 0:e.AncientOddPerIsland))/(1+(null==e?void 0:e.AncientArtiPCT)/100)*4,isArtifactAcquired=function(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return null==l?void 0:l.find(l=>{let{name:n,acquired:i}=l;return n===e&&i})},getRareTreasureChance=()=>.05,getCaptainsAndBoats=(l,e,n,i,u,d,r,a)=>{var v,s,c,m;let p=(null==l?void 0:null===(v=l[2])||void 0===v?void 0:v[0])||0,f=(null==l?void 0:null===(s=l[2])||void 0===s?void 0:s[1])||0,_=null!==(m=(0,t.Hx)(d,"Siege_Breaker"))&&void 0!==m?m:0,y=(0,h.D)(o.classFamilyBonuses,"FASTER_MINIMUM_BOAT_TRAVEL_TIME",_),b=(0,g.du)(null==i?void 0:null===(c=i.breeding)||void 0===c?void 0:c.pets,"Lower_Minimum_Travel_Time_for_Sailing"),B=Math.round(120/(1+(y+b)/100)),C=getBaseSpeed(i,u,r),M=null==e?void 0:e.slice(30,34);M=M.map((l,e)=>getCaptain(l,e,!0));let S=null==e?void 0:e.slice(0,p+1),w=null==S?void 0:S.map((l,e)=>getCaptain(l,e)),x=null==n?void 0:n.slice(0,f+1),T=null==x?void 0:x.map((l,e)=>getBoat(l,e,a,w,r,u,i,C,B)),k=null==T?void 0:T.reduce((l,e,n)=>{let{captainMappedIndex:i}=e;return{...l,[i]:n}},{});return{captains:w,boats:T,shopCaptains:M,captainsOnBoats:k}},getBoat=function(l,e,n,i,t,u,d,r){var a;let v=arguments.length>8&&void 0!==arguments[8]?arguments[8]:120,[s,c,,m,p,g]=l,h=null==i?void 0:i[s],f=null===o.islands||void 0===o.islands?void 0:o.islands[c],_={rawName:"Boat_Frame_".concat(getBoatFrame(m+g)),level:m+g,artifactChance:getBoatArtifactChance(t,i[s],d),captainIndex:s,captainMappedIndex:null==h?void 0:h.captainIndex,lootLevel:m,speedLevel:g,boatIndex:e,island:f,islandIndex:c,distanceTraveled:p};return _.resources=getBoatResources(_,n),_.loot=getBoatLootValue(u,d,t,_,h),_.speed=getBoatSpeedValue(h,f,g,r,v),_.timeLeft=((null==f?void 0:f.distance)-p)/(null===(a=_.speed)||void 0===a?void 0:a.value)*36e5,_},getBaseSpeed=(l,e,n)=>{var i,o,u,g,h,f,_,y,b,B,C,M;let S=null==e?void 0:e.find(l=>{let{linkedDeity:e}=l;return 6===e}),w=(0,s.kI)(S,l,6,e),x=(0,r.OK)(null==l?void 0:l.cards,"Sailing_Speed_(Passive)"),T=(0,a.mV)(null==l?void 0:l.stamps,"Sailing_Speed"),k=(0,p.c9)(null==l?void 0:l.lab.labBonuses,8),A=(0,p.pc)(null==l?void 0:null===(i=l.lab)||void 0===i?void 0:i.jewels,16,k),I=(0,v.F4)(l,null,"Sailing",A),E=(0,d.om)(null==l?void 0:null===(o=l.alchemy)||void 0===o?void 0:o.bubbles,"kazam","BOATY_BUBBLE",!1),O=(0,s.HQ)(null==l?void 0:null===(u=l.divinity)||void 0===u?void 0:u.deities,"Goharut"),P=(0,s.HQ)(null==l?void 0:null===(g=l.divinity)||void 0===g?void 0:g.deities,"Bagur"),L=(0,s.HQ)(null==l?void 0:null===(h=l.divinity)||void 0===h?void 0:h.deities,"Purrmep"),N=null!==(C=null===(f=isArtifactAcquired(n,"10_AD_Tablet"))||void 0===f?void 0:f.bonus)&&void 0!==C?C:0,R=(0,d.iu)(null==l?void 0:null===(_=l.alchemy)||void 0===_?void 0:_.vials,"SailSpd"),D=null!==(M=null===(y=(0,m.Ob)(l,"MSA_Sailing"))||void 0===y?void 0:y.bonus)&&void 0!==M?M:0,q=(0,t.pA)(null==l?void 0:l.rift,null==l?void 0:null===(B=l.totalSkillsLevels)||void 0===B?void 0:null===(b=B.sailing)||void 0===b?void 0:b.rank,1),F=(0,c.U6)(null==l?void 0:l.statues,"StatueG25");return(1+(w+x+E)/125)*(1+O/100)*(1+L/100)*(1+(P+N+T+F+I+R+(17*q+D))/125)},getCaptain=(l,e,n)=>{var t,u,d,r;let a=String.fromCharCode(65+e),[v,s,c,m,p,g,h]=l,f={captainIndex:a,captainType:v,level:m,firstBonusIndex:s,secondBonusIndex:c,firstBonusDescription:null===o.captainsBonuses||void 0===o.captainsBonuses?void 0:null===(t=o.captainsBonuses[s])||void 0===t?void 0:t.bonus,secondBonusDescription:null===o.captainsBonuses||void 0===o.captainsBonuses?void 0:null===(u=o.captainsBonuses[c])||void 0===u?void 0:u.bonus,firstBonusValue:g,secondBonusValue:h,exp:(0,i.notateNumber)(Math.floor(p),"Big")},_=getCaptainDisplayBonus(f,g),y=getCaptainDisplayBonus(f,h);if(f.firstBonus=_,f.secondBonus=y,f.firstBonusDescription=null==f?void 0:null===(d=f.firstBonusDescription)||void 0===d?void 0:d.replace("{",_),f.secondBonusDescription=null==f?void 0:null===(r=f.secondBonusDescription)||void 0===r?void 0:r.replace("{",y),f.expReq=(0,i.notateNumber)(getCaptainExpReq(f),"Big"),n){let l=2*s+2*c+g+h;f.cost=Math.pow(8,1+v)*(1+Math.pow(l,2)/100)}return f},getBoatResources=(l,e)=>[0,1].map(n=>{let i=getBoatUpgradeCostType(null==l?void 0:l.boatIndex,n);return{required:getBoatUpgradeCost(l,n),...(null==e?void 0:e[i])||{}}}),getBoatUpgradeCostType=(l,e)=>0===e?4>l?0:Math.min(30,1+2*(l-4)):2>l?l:5>l?1+2*(l-2):Math.min(30,2*(l-4)),getBoatUpgradeCost=(l,e)=>{let n=getBoatUpgradeCostType(null==l?void 0:l.boatIndex,e),i=0===e?null==l?void 0:l.lootLevel:null==l?void 0:l.speedLevel;return 0===n?Math.round((5+4*i)*Math.pow(1.17-.12*i/(i+200),i)):n%2==1?Math.round((5+2*i)*Math.pow(1.15-.1*i/(i+200),i)):Math.round((2+i)*Math.pow(1.12-.07*i/(i+200),i))},getBoatSpeedValue=(l,e,n,i,o)=>{var t,u;let d=0;(null==l?void 0:null===(t=l.firstBonusDescription)||void 0===t?void 0:t.includes("Boat_Speed"))&&(d+=null==l?void 0:l.firstBonus),(null==l?void 0:null===(u=l.secondBonusDescription)||void 0===u?void 0:u.includes("Boat_Speed"))&&(d+=null==l?void 0:l.secondBonus);let r=(10+(5+Math.pow(Math.floor(n/7),2))*n)*(1+d/100)*i,a=(10+(5+Math.pow(Math.floor((n+1)/7),2))*(n+1))*(1+d/100)*i;return{raw:r,value:e?Math.min(r,(null==e?void 0:e.distance)*60/o):r,nextLevelValue:a}},getBoatLootValue=(l,e,n,i,o)=>{var t,r,a,v;let s=(0,u.A5)(l,3,"Siege_Breaker","UNENDING_LOOT_SEARCH"),c=1+s/100,m=2+Math.pow(Math.floor(((null==i?void 0:i.lootLevel)+1)/8),2),p=2+Math.pow(Math.floor((null==i?void 0:i.lootLevel)/8),2),g=(0,d.Vq)(null==e?void 0:null===(r=e.alchemy)||void 0===r?void 0:null===(t=r.p2w)||void 0===t?void 0:t.sigils,"LOOT_PILE"),h=getCaptainBonus(1,o,null==o?void 0:o.firstBonusIndex),f=getCaptainBonus(1,o,null==o?void 0:o.secondBonusIndex),_=null!==(v=null===(a=isArtifactAcquired(n,"Genie_Lamp"))||void 0===a?void 0:a.bonus)&&void 0!==v?v:0,y=(5+m*((null==i?void 0:i.lootLevel)+1))*(1+(g+(h+f+_))/100)*c,b=(5+p*(null==i?void 0:i.lootLevel))*(1+(g+(h+f+_))/100)*c;return{value:b,nextLevelValue:y}},getCaptainExpReq=l=>{let e=9+Math.pow(null==l?void 0:l.level,3),n=Math.pow(1.5,null==l?void 0:l.level);return e*n*Math.pow(1.5,Math.max((null==l?void 0:l.level)-10,0))},getCaptainDisplayBonus=(l,e)=>Math.round((null==l?void 0:l.level)*e*10)/10,getBoatArtifactChance=(l,e,n)=>{var o,t,u;let d=null!==(u=null===(o=isArtifactAcquired(l,"Fauxory_Tusk"))||void 0===o?void 0:o.bonus)&&void 0!==u?u:0,r=(0,g.du)(null==n?void 0:null===(t=n.breeding)||void 0===t?void 0:t.pets,"Higher_Artifact_Find_Chance"),a=getCaptainBonus(3,e,null==e?void 0:e.firstBonusIndex),v=getCaptainBonus(3,e,null==e?void 0:e.secondBonusIndex);return(0,i.notateNumber)(Math.max(1,1+(d+(a+v)+r)/100),"MultiplierInfo")},getCaptainBonus=(l,e,n)=>n>0?0:n===l?(null==e?void 0:e.level)*(null==e?void 0:e.firstBonusValue):n===l?(null==e?void 0:e.level)*(null==e?void 0:e.secondBonusValue):0,getBoatFrame=l=>l<25?0:l<50?1:l<100?2:l<200?3:l<300?4:5,getLootPile=l=>null==l?void 0:l.map((l,e)=>({amount:l>0?l:0,rawName:"SailT".concat(e)})),getArtifact=(l,e,n,o,d,r)=>{var a,v,s,c,m,p,g,h;let f,_=null==l?void 0:l.baseBonus,y=null==l?void 0:l.baseBonus,b=2===e||3===e,B=2===e?"ancientMultiplier":3===e?"eldritchMultiplier":"baseBonus",C=null==l?void 0:l.description;if((null==l?void 0:l.name)==="Maneki_Kat"||(null==l?void 0:l.name)==="Ashen_Urn"){let n=(0,t.QV)(d);f="Highest level: ".concat(n),_=n*(null==l?void 0:l.baseBonus),(null==l?void 0:l.name)==="Ashen_Urn"&&(_=n>(null==l?void 0:l[B])?(null==l?void 0:l[B])*(null==l?void 0:l.baseBonus):n*(null==l?void 0:l.baseBonus),C="".concat(C," Total Bonus: ").concat(b?_*e:_))}else if((null==l?void 0:l.name)==="Ruble_Cuble"||(null==l?void 0:l.name)==="10_AD_Tablet"||(null==l?void 0:l.name)==="Jade_Rock"||(null==l?void 0:l.name)==="Gummy_Orb"){let e=null==r?void 0:null===(a=r.looty)||void 0===a?void 0:a.rawLootedItems,n=(null==l?void 0:l.name)==="10_AD_Tablet"||(null==l?void 0:l.name)==="Gummy_Orb";f="Looted items: ".concat(e);let i=(null==l?void 0:l[B])*Math.floor(Math.max(0,e-500)/10);_=n&&"baseBonus"!==B?(null==l?void 0:l.baseBonus)*i:i}else if((null==l?void 0:l.name)==="Fauxory_Tusk"||(null==l?void 0:l.name)==="Genie_Lamp"){let e=(null==l?void 0:l.name)==="Genie_Lamp",n=(0,t.fx)(d,"sailing");_=e?n*(null==l?void 0:l.baseBonus):n,f="Sailing level: ".concat(n)}else if((null==l?void 0:l.name)==="Weatherbook"){let e=(0,t.fx)(d,"gaming");f="Gaming level: ".concat(e),_=e*(null==l?void 0:l.baseBonus)}else if((null==l?void 0:l.name)==="Triagulon"){let e=null==r?void 0:null===(c=r.cooking)||void 0===c?void 0:null===(s=c.meals)||void 0===s?void 0:null===(v=s[0])||void 0===v?void 0:v.amount;_=(null==l?void 0:l.baseBonus)*(0,i.lavaLog)(e)}else if((null==l?void 0:l.name)==="Opera_Mask"){let e=null==n?void 0:n[0];_=(null==l?void 0:l.baseBonus)*(0,i.lavaLog)(e)}else if((null==l?void 0:l.name)==="Fun_Hippoete")_=(null==l?void 0:l.baseBonus)*(0,i.lavaLog)(null==r?void 0:null===(m=r.construction)||void 0===m?void 0:m.playersBuildRate);else if((null==l?void 0:l.name)==="The_True_Lantern")_=(null==l?void 0:l.baseBonus)*(null!==(g=(0,i.lavaLog)(null==r?void 0:null===(p=r.atoms)||void 0===p?void 0:p.particles))&&void 0!==g?g:0);else if((null==l?void 0:l.name)==="Gold_Relic"){let e=null==r?void 0:null===(h=r.accountOptions)||void 0===h?void 0:h[125],n=b?null==l?void 0:l[B]:0;f="Days passed: ".concat(e,". Bonus: ").concat((0,i.notateNumber)(1+e*(1+n)/100,"MultiplierInfo").replace("#",""),"x")}else if((null==l?void 0:l.name)==="Crystal_Steak"){let l=null==d?void 0:d.map(l=>{let{name:e,class:n,stats:i}=l,o=null===u.nl||void 0===u.nl?void 0:u.nl[n];return{name:e,stat:null==i?void 0:i[o]}});C=C.replace("_Total_Bonus:_+}%_dmg",""),f=l.map(l=>{let{name:n,stat:i}=l;return{name:n,bonus:(b?_*e:_)*Math.floor(i/100)}})}else if((null==l?void 0:l.name)==="Socrates"){let n=null==d?void 0:d.map(l=>{var e,n,i,o;let{name:t,stats:u}=l;return{name:t,strength:null!==(e=null==u?void 0:u.strength)&&void 0!==e?e:0,agility:null!==(n=null==u?void 0:u.agility)&&void 0!==n?n:0,wisdom:null!==(i=null==u?void 0:u.wisdom)&&void 0!==i?i:0,luck:null!==(o=null==u?void 0:u.luck)&&void 0!==o?o:0}});f=n.map(n=>{let{name:i,strength:o,agility:t,wisdom:u,luck:d}=n,r=1+(b?(null==l?void 0:l.baseBonus)*e:null==l?void 0:l.baseBonus)/100;return{name:i,strength:Math.floor(r*o),agility:Math.floor(r*t),wisdom:Math.floor(r*u),luck:Math.floor(r*d)}})}return 2===e&&(null==l?void 0:l.ancientFormDescription)==="The_artifact's_main_bonus_is_doubled!"?_*=2:3===e&&(null==l?void 0:l.eldritchFormDescription)==="The_artifact's_main_bonus_is_tripled!"&&(_*=3),C=C.replace(/{/,y).replace(/}/,(0,i.kFormatter)(_,2)).replace(/@/,""),{...l,description:C,additionalData:f,bonus:_,acquired:e,rawName:"Arti".concat(o)}}},32387:function(l,e,n){n.d(e,{U:function(){return getSaltLick},W:function(){return getSaltLickBonus}});var i=n(88344),o=n(70473),t=n(42168);let getSaltLick=(l,e)=>{let n=(0,t.tryToParse)(null==l?void 0:l.SaltLick)||(null==l?void 0:l.SaltLick);return null==n?void 0:n.map((l,n)=>{let t=o.saltLicks[n],u=(0,i.ju)(e,null==t?void 0:t.name,!0);return{...t,totalAmount:u,level:l}}).filter(l=>{let{level:e}=l;return e>0})},getSaltLickBonus=function(l,e){var n,i,o;let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=null==l?void 0:l[e];if(!u||0===u)return 0;let d=u.baseBonus*(null!==(n=u.level)&&void 0!==n?n:0);return t?null!==(o=round(d))&&void 0!==o?o:0:d}},64569:function(l,e,n){n.d(e,{Xz:function(){return getShrines},n:function(){return getShrineExpBonus},wt:function(){return getShrineBonus}});var i=n(42168),o=n(70473),t=n(54685),u=n(16727),d=n(20385),r=n(10924),a=n(4056),v=n(30796),s=n(88054);let getShrines=(l,e)=>{let n=(null==l?void 0:l.ShrineInfo)||(0,i.tryToParse)(null==l?void 0:l.Shrine),o=(null==l?void 0:l.TowerInfo)||(0,i.tryToParse)(null==l?void 0:l.Tower);return parseShrines(n,o,e)},parseShrines=(l,e,n)=>{var i,u,d;let r=null==n?void 0:null===(d=n.lab)||void 0===d?void 0:null===(u=d.labBonuses)||void 0===u?void 0:null===(i=u.find(l=>"Shrine_World_Tour"===l.name))||void 0===i?void 0:i.active,a=null==l?void 0:l.map((l,e)=>{let[,,,i]=l,{baseBonus:u,bonusPerLevel:d}=o.shrines[18+e],r=(0,t.OK)(null==n?void 0:n.cards,"Shrine_Effects_(Passive)");return(1+r/100)*((i-1)*d+u)});return null==l?void 0:l.reduce((l,n,i)=>{let t=18+i,[u,,,d,v]=n,{shrineName:s,desc:c,baseBonus:m,bonusPerLevel:p}=o.shrines[t];return"Unknown"!==s?[...l,{mapId:u,shrineLevel:d,name:s,rawName:"ConTowerB".concat(t),bonus:m+(d-1)*p,progress:v,desc:c,worldTour:r,shrineFactor:null==a?void 0:a[2],shrineTowerValue:null==e?void 0:e[18+i]}]:l},[])},getShrineExpBonus=(l,e)=>{let n=Array(9).fill(0),i={};return null==l||l.forEach(l=>{var o,t,c,m,p;let g=null==l?void 0:l.mapIndex,h=(0,d.Ob)(e,"Shrine_Speed")?1:0,f=(0,u.YS)(null==e?void 0:null===(o=e.sailing)||void 0===o?void 0:o.artifacts,"Moai_Head"),_=0;f&&(_+=(null==f?void 0:f.acquired)===3?null==f?void 0:f.eldritchMultiplier:(null==f?void 0:f.acquired)===2?(null==f?void 0:f.ancientMultiplier)*2:null==f?void 0:f.baseBonus);let y=(0,r.pA)(null==e?void 0:e.rift,null==e?void 0:null===(c=e.totalSkillsLevels)||void 0===c?void 0:null===(t=c.construction)||void 0===t?void 0:t.rank,1)||0,b=(0,a.xV)(null==l?void 0:l.postOffice,"Construction_Container",1),B=(0,r.tE)("Golden_Cheese",l,e),C=(0,v._X)(null==l?void 0:l.starTalents,null,"SHRINE_ARCHITECT"),M=(0,s.YG)(null==e?void 0:null===(m=e.alchemy)||void 0===m?void 0:m.vials,null,"ShrineSpd");null==e||null===(p=e.shrines)||void 0===p||p.forEach((e,o)=>{let{shrineTowerValue:t,shrineFactor:u,mapId:d,worldTour:r}=e,a={name:null==l?void 0:l.name,value:0};if(!r&&g!==d||r&&Math.floor(g/50)!==Math.floor(d/50))return a;let v=(1+50*h/100)*(1+(_+15*y)/100)*(1+10*t/100)*(1+(u+(b+(B+(C+M))))/100);n[o]+=v,i={...i,[o]:[...(null==i?void 0:i[o])||[],{name:null==l?void 0:l.name,value:v}]}})}),{total:n,breakdown:i}},getShrineBonus=(l,e,n,i,o)=>{var d;let r=!0===o||Array.isArray(o)&&(0,u.YS)(o,"Moai_Head"),a=null==l?void 0:l[e];if(!a)return 0;let v=Math.floor((null==a?void 0:a.mapId)/50),s=(null==a?void 0:a.mapId)%50==0,c=n!==(null==a?void 0:a.mapId),m=(null==a?void 0:a.worldTour)&&s&&Math.floor(n/50)===v||r;if((null==a?void 0:a.level)===0||c&&!m)return 0;let p=null==i?void 0:i.Chaotic_Chizoar,g=null!==(d=(0,t.BZ)(p))&&void 0!==d?d:0;return(null==a?void 0:a.bonus)*(1+g/100)}},1972:function(l,e,n){n.d(e,{MH:function(){return calcStampCollected},Md:function(){return applyStampsMulti},bL:function(){return calcStampLevels},fE:function(){return getStampBonus},mV:function(){return getStampsBonusByEffect},t2:function(){return getStamps}});var i=n(42168),o=n(70473);let t={0:"combat",1:"skills",2:"misc"},getStamps=l=>{let e=(0,i.tryToParse)(null==l?void 0:l.StampLv)||(null==l?void 0:l.StampLevel),n=(0,i.tryToParse)(null==l?void 0:l.StampLvM)||(null==l?void 0:l.StampLevelMAX);return parseStamps(e,n)},parseStamps=(l,e)=>{let n=null==l?void 0:l.reduce((l,n,i)=>({...l,[null==t?void 0:t[i]]:Object.keys(n).reduce((l,o,t)=>{var u;return"length"!==o?[...l,{level:parseFloat(n[o]),maxLevel:null==e?void 0:null===(u=e[i])||void 0===u?void 0:u[t]}]:l},[])}),{});return{combat:n.combat.map((l,e)=>({...o.stamps.combat[e],...l})),skills:n.skills.map((l,e)=>({...o.stamps.skills[e],...l})),misc:n.misc.map((l,e)=>({...o.stamps.misc[e],...l}))}},getStampsBonusByEffect=(l,e,n)=>{var i;return l&&(null===(i=Object.entries(l))||void 0===i?void 0:i.reduce((i,o)=>{let[t,u]=o,d=null==u?void 0:u.filter(l=>{let{effect:n}=l;return null==n?void 0:n.includes(e)}),r=null==d?void 0:d.reduce((e,i)=>{let{rawName:o}=i;return e+getStampBonus(l,t,o,n)},0);return i+r},0))},getStampBonus=(l,e,n,o)=>{var t,u,d,r,a,v,s;let c=null==l?void 0:null===(t=l[e])||void 0===t?void 0:t.find(l=>{let{rawName:e}=l;return e===n});if(!c)return 0;if((null==c?void 0:c.skillIndex)>0&&(null==c?void 0:c.reqItemMultiplicationLevel)>1){let l=(null==c?void 0:c.level)*(200/(20*(null==c?void 0:c.reqItemMultiplicationLevel)));if(l>3){let e=null==o?void 0:null===(d=o.skillsInfoArray)||void 0===d?void 0:null===(u=d[null==c?void 0:c.skillIndex])||void 0===u?void 0:u.level,n=3+(l-3)*Math.pow(e/(l-3),.75);n*=20*(null==c?void 0:c.reqItemMultiplicationLevel)/200;let t=Math.floor(Math.min(n,l)),v=Math.min(t,null==c?void 0:c.level);return(null!==(r=(0,i.growth)(null==c?void 0:c.func,v,null==c?void 0:c.x1,null==c?void 0:c.x2,!1))&&void 0!==r?r:0)*(null!==(a=null==c?void 0:c.multiplier)&&void 0!==a?a:1)}}return(null!==(v=(0,i.growth)(null==c?void 0:c.func,null==c?void 0:c.level,null==c?void 0:c.x1,null==c?void 0:c.x2,!1))&&void 0!==v?v:0)*(null!==(s=null==c?void 0:c.multiplier)&&void 0!==s?s:1)},applyStampsMulti=(l,e)=>Object.entries(l).reduce((l,n)=>{let[i,o]=n,t=o;return"misc"!==i&&(t=null==o?void 0:o.map(l=>({...l,multiplier:e}))),{...l,[i]:t}},{}),calcStampLevels=l=>{var e;return l?null===(e=Object.values(l))||void 0===e?void 0:e.reduce((l,e)=>l+(null==e?void 0:e.reduce((l,e)=>{let{level:n}=e;return l+n},0)),0):0},calcStampCollected=l=>{var e;return l?null===(e=Object.values(l))||void 0===e?void 0:e.reduce((l,e)=>l+(null==e?void 0:e.reduce((l,e)=>{let{level:n}=e;return l+(n>0?1:0)},0)),0):0}},96707:function(l,e,n){n.d(e,{Wv:function(){return getStarSignByEffect},kz:function(){return getStarSigns},o9:function(){return getStarSignBonus},tp:function(){return getConstellations}});var i=n(42168),o=n(70473),t=n(34664),u=n(67896),d=n(5432);let getStarSigns=l=>{let e=(0,i.tryToParse)(null==l?void 0:l.StarSg)||(null==l?void 0:l.StarSignsUnlocked);return parseStarSigns(e)},getConstellations=l=>{let e=(0,i.tryToParse)(null==l?void 0:l.SSprog)||(null==l?void 0:l.StarSignProg);return parseConstellations(e)},parseStarSigns=l=>null===o.starSigns||void 0===o.starSigns?void 0:o.starSigns.map(e=>{let{starName:n}=e;return{...e,indexedStarName:"".concat(null===t.SS||void 0===t.SS?void 0:t.SS[n]," - ").concat(n),starName:n,unlocked:!!(null==l?void 0:l[n])}},[]),parseConstellations=l=>null==l?void 0:l.reduce((l,e,n)=>{let i=o.constellations[n],[t,u]=e,d=null==i?void 0:i.mapIndex;return null!==d?[...l,{...i,location:o.mapNames[d],completedChars:t,done:!!u}]:l},[]),getStarSignByEffect=(l,e)=>{if((null==l?void 0:l.length)===0)return 0;let n=null==l?void 0:l.flatMap(l=>{let{bonuses:e}=l;return e}).filter(l=>l);return null==n?void 0:n.reduce((l,n)=>{let{effect:i,bonus:o}=n;return i===e?l+o:l},0)},getStarSignBonus=(l,e,n)=>{var i,o;let t=(0,u.RB)(null==e?void 0:e.rift,"Infinite_Stars"),r=t?5+(0,d.du)(null==e?void 0:null===(i=e.breeding)||void 0===i?void 0:i.pets,"Infinite_Star_Signs"):0,a=null==e?void 0:null===(o=e.starSigns)||void 0===o?void 0:o.map((n,i)=>{var o,t,u,d,a,v,s;let c=null==l?void 0:null===(o=l.starSigns)||void 0===o?void 0:o.find(l=>{let{starName:e}=l;return e===(null==n?void 0:n.starName)}),m=i<r;if(c){let n=null!==(v=null==e?void 0:null===(d=e.lab)||void 0===d?void 0:null===(u=d.playersChips)||void 0===u?void 0:null===(t=u[null==l?void 0:l.playerId])||void 0===t?void 0:t.find(l=>15===l.index))&&void 0!==v?v:0,i=n?2:1;c={...c,bonuses:null==c?void 0:null===(a=c.bonuses)||void 0===a?void 0:a.map(l=>({...l,bonus:(null==l?void 0:l.bonus)>0?(null==l?void 0:l.bonus)*i:null==l?void 0:l.bonus,active:!0,isInfiniteStar:m}))}}return r&&!c&&(n={...n,bonuses:null==n?void 0:null===(s=n.bonuses)||void 0===s?void 0:s.map(l=>({...l,isInfiniteStar:m}))}),c||n}),v=getStarSignsBonuses(a);return null==v?void 0:v.reduce((l,e)=>{let{effect:i,bonus:o,active:t,isInfiniteStar:u}=e;return i.includes(n)&&(t||u)?l+(u&&o<0?0:o):l},0)},getStarSignsBonuses=l=>null==l?void 0:l.map(l=>{let{bonuses:e}=l;return e}).flatMap(l=>l).filter(l=>l)},74861:function(l,e,n){n.d(e,{U6:function(){return getStatueBonus},Xl:function(){return getStatues},hE:function(){return applyStatuesMulti}});var i=n(42168),o=n(70473),t=n(30796);let getStatues=(l,e)=>{let n=(0,i.tryToParse)(null==l?void 0:l.StuG)||(null==l?void 0:l.StatueG);return parseStatues(n,e)},parseStatues=(l,e)=>null==l?void 0:l.reduce((l,n,i)=>{var t;let u=2===n,d=null===(t=getHighestLevelStatues(e,i))||void 0===t?void 0:t.StatueLevels,[r,a]=(null==d?void 0:d[i])||[];return(null==d?void 0:d[i])?[...l,{...(null===o.statues||void 0===o.statues?void 0:o.statues[i])||{},rawName:"Statue".concat(u?"O":1===n?"G":"").concat(parseInt(i)+1),level:r,progress:a,onyxStatue:u}]:l},[]).filter(function(){let{name:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l}),getHighestLevelStatues=(l,e)=>l.reduce((l,n)=>{var i,o,t,u;return(null==l?void 0:null===(o=l.StatueLevels)||void 0===o?void 0:null===(i=o[e])||void 0===i?void 0:i[0])>(null==n?void 0:null===(u=n.StatueLevels)||void 0===u?void 0:null===(t=u[e])||void 0===t?void 0:t[0])?l:n}),applyStatuesMulti=(l,e)=>{let n=(0,t.A5)(e,3,"Voidwalker","VOODOO_STATUFICATION"),i=1+n/100;return null==l?void 0:l.map(l=>({...l,bonus:null==l?void 0:l.bonus,talentMulti:i}))},getStatueBonus=(l,e,n)=>{let i=null==l?void 0:l.find(l=>{let{rawName:n}=l;return n===e||n===e.replace("G","O")});if(!i)return 0;let o=1;switch(null==i?void 0:i.name){case"POWER":case"MINING":case"DEFENCE":case"THICC_SKIN":o+=((0,t._X)(n,2,"SHIELDIEST_STATUES")||(0,t._X)(n,2,"STRONGEST_STATUES"))/100;break;case"SPEED":case"ANVIL":case"BULLSEYE":case"OL_RELIABLE":o+=((0,t._X)(n,2,"STRAIGHTSHOT_STATUES")||(0,t._X)(n,2,"SHWIFTY_STATUES"))/100;break;case"EXP":case"LUMBERBOB":case"BEHOLDER":case"CAULDRON":o+=((0,t._X)(n,2,"STARING_STATUES")||(0,t._X)(n,2,"STUPENDOUS_STATUES"))/100;break;case"EHEXPEE":case"KACHOW":case"FEASTY":o+=(0,t._X)(n,2,"SKILLIEST_STATUE")/100;break;default:o=1}return(null==i?void 0:i.level)*(null==i?void 0:i.bonus)*o*(null==i?void 0:i.talentMulti)*((null==i?void 0:i.onyxStatue)?2:1)}},23515:function(l,e,n){n.d(e,{$v:function(){return getInventory},cF:function(){return getStorage}});var i=n(42168),o=n(70473),t=n(88344);let getStorage=function(l){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"storage",n=(null==l?void 0:l.ChestOrder)||(0,i.tryToParse)(null==l?void 0:l.ChestOrder),o=(null==l?void 0:l.ChestQuantity)||(0,i.tryToParse)(null==l?void 0:l.ChestQuantity),t=(0,i.tryToParse)(null==l?void 0:l.CMm)||(null==l?void 0:l.CMm);return parseStorage(n,o,e,t)},parseStorage=(l,e,n,i)=>getInventory(l,e,n,i),getInventory=(l,e,n,u)=>l.reduce((l,d,r)=>{let a=(0,t.t8)(null===o.items||void 0===o.items?void 0:o.items[d],null==u?void 0:u[r]),v=[1,2,3,4,5,6,7,8].reduce((l,e)=>{var n,i;return(null===o.items||void 0===o.items?void 0:null===(n=o.items[d])||void 0===n?void 0:n["desc_line".concat(e)])?l+"".concat(null===o.items||void 0===o.items?void 0:null===(i=o.items[d])||void 0===i?void 0:i["desc_line".concat(e)]," "):l},""),s={...null===o.items||void 0===o.items?void 0:o.items[d],...a},c="";return(null==s?void 0:s.UQ1txt)&&(c+=null==s?void 0:s.UQ1txt),(null==s?void 0:s.UQ2txt)&&(c+=" ".concat(null==s?void 0:s.UQ2txt)),"LockedInvSpace"!==d&&"Blank"!==d?[...l,{...s,owner:n,name:null==s?void 0:s.displayName,type:null==s?void 0:s.itemType,subType:null==s?void 0:s.Type,rawName:d,amount:parseInt(null==e?void 0:e[r]),misc:(0,i.cleanUnderscore)(c.trim()),description:(0,i.cleanUnderscore)(v.trim())}]:l},[])},30796:function(l,e,n){n.d(e,{A5:function(){return getHighestTalentByClass},L1:function(){return getCharacterByHighestTalent},Nb:function(){return applyTalentAddedLevels},RL:function(){return s},VG:function(){return getFamilyBonusValue},_X:function(){return getTalentBonus},c4:function(){return getBubonicGreenTube},eZ:function(){return getTalentBonusIfActive},gW:function(){return checkCharClass},iR:function(){return getHighestMaxLevelTalentByClass},ju:function(){return getActiveBuffs},nl:function(){return v},o1:function(){return createTalentPage},pV:function(){return a},xI:function(){return getVoidWalkerTalentEnhancements}});var i=n(42168),o=n(70473),t=n(9339),u=n(10924),d=n(19834),r=n(72973);let getTalentBonus=(l,e,n,o,t)=>{var u,d,r;let a=null!==e?null==l?void 0:null===(u=l[e])||void 0===u?void 0:u.orderedTalents:null==l?void 0:l.orderedTalents,v=null==a?void 0:a.find(l=>{let{name:e}=l;return e===n});return v?o?null!==(d=(0,i.growth)(null==v?void 0:v.funcY,t?null==v?void 0:v.maxLevel:null==v?void 0:v.level,null==v?void 0:v.y1,null==v?void 0:v.y2,!1))&&void 0!==d?d:0:null!==(r=(0,i.growth)(null==v?void 0:v.funcX,t?null==v?void 0:v.maxLevel:null==v?void 0:v.level,null==v?void 0:v.x1,null==v?void 0:v.x2,!1))&&void 0!==r?r:0:0},getTalentBonusIfActive=function(l,e){var n;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";return null!==(n=null==l?void 0:l.reduce(function(l){let{name:n,funcX:t,level:u,x1:d,x2:r,funcY:a,y1:v,y2:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n===e?"x"===o?(0,i.growth)(t,u,d,r,!1):(0,i.growth)(a,u,v,s,!1):l},0))&&void 0!==n?n:0},a={Beginner:["Beginner"],Journeyman:["Beginner","Journeyman"],Maestro:["Beginner","Journeyman","Maestro"],Voidwalker:["Beginner","Journeyman","Maestro","Voidwalker"],Warrior:["Rage_Basics","Warrior"],Barbarian:["Rage_Basics","Warrior","Barbarian"],Blood_Berserker:["Rage_Basics","Warrior","Barbarian","Blood_Berserker"],Squire:["Rage_Basics","Warrior","Squire"],Divine_Knight:["Rage_Basics","Warrior","Squire","Divine_Knight"],Archer:["Calm_Basics","Archer"],Bowman:["Calm_Basics","Archer","Bowman"],Siege_Breaker:["Calm_Basics","Archer","Bowman","Siege_Breaker"],Hunter:["Calm_Basics","Archer","Hunter","Beast_Master"],Beast_Master:["Calm_Basics","Archer","Hunter","Beast_Master"],Mage:["Savvy_Basics","Mage"],Shaman:["Savvy_Basics","Mage","Shaman"],Bubonic_Conjuror:["Savvy_Basics","Mage","Shaman","Bubonic_Conjuror"],Wizard:["Savvy_Basics","Mage","Wizard"],Elemental_Sorcerer:["Savvy_Basics","Mage","Wizard","Elemental_Sorcerer"]},v={Beginner:"luck",Journeyman:"luck",Maestro:"luck",Voidwalker:"luck",Warrior:"strength",Barbarian:"strength",Blood_Berserker:"strength",Squire:"strength",Divine_Knight:"strength",Archer:"agility",Bowman:"agility",Siege_Breaker:"agility",Hunter:"agility",Beast_Master:"agility",Mage:"wisdom",Shaman:"wisdom",Bubonic_Conjuror:"wisdom",Wizard:"wisdom",Elemental_Sorcerer:"wisdom"},createTalentPage=(l,e,n,i,t)=>e.reduce((l,e,u)=>{var d,r;let a=null===(d=Object.entries((null===o.talents||void 0===o.talents?void 0:o.talents[e])||{}))||void 0===d?void 0:d.map(l=>{let[,e]=l;return{talentId:e.skillIndex,...e,level:n[e.skillIndex]||0,maxLevel:i[e.skillIndex]||-1}});return t?{...l,talents:{...null==l?void 0:l.talents,orderedTalents:[...(null==l?void 0:null===(r=l.talents)||void 0===r?void 0:r.orderedTalents)||[],...a]},flat:[...(null==l?void 0:l.flat)||[],...a]}:{...l,flat:[...(null==l?void 0:l.flat)||[],...a],talents:{...null==l?void 0:l.talents,[u]:{name:e,id:null===o.classes||void 0===o.classes?void 0:o.classes.indexOf(e),orderedTalents:a}}}},{flat:[],talents:{}}),getActiveBuffs=(l,e)=>{var n;return null==l?void 0:null===(n=l.map(l=>{let[n]=l;return null==e?void 0:e.find(l=>{let{talentId:e}=l;return n===e})}))||void 0===n?void 0:n.filter(l=>l)},getHighestTalentByClass=(l,e,n,i,o,t)=>{let u=null==l?void 0:l.filter(l=>checkCharClass(null==l?void 0:l.class,n));return null==u?void 0:u.reduce((l,n)=>{let{talents:u}=n,d=getTalentBonus(u,e,i,o,t);return d>l?d:l},0)},getCharacterByHighestTalent=(l,e,n,i,o,t)=>{let u=null==l?void 0:l.filter(l=>checkCharClass(null==l?void 0:l.class,n));return null==u?void 0:u.reduce((l,n)=>{let{talents:u}=n,d=getTalentBonus(u,e,i,o,t);return d>l?n:l},0)},getHighestMaxLevelTalentByClass=(l,e,n,i)=>{let o=null==l?void 0:l.filter(l=>checkCharClass(null==l?void 0:l.class,n));return null==o?void 0:o.reduce((l,n)=>{var o;let{talents:t}=n,u=null!==e?null==t?void 0:null===(o=t[e])||void 0===o?void 0:o.orderedTalents:null==t?void 0:t.orderedTalents,d=null==u?void 0:u.find(l=>{let{name:e}=l;return e===i});return(null==d?void 0:d.maxLevel)>(null==l?void 0:l.maxLevel)?d:l},{maxLevel:0})},applyTalentAddedLevels=(l,e,n,o,a,v,s,c,m)=>{var p,g,h,f,_,y,b;let B=0;(0,u.fe)(c,0)?B+=Math.ceil((0,d.kI)(m,c,1)):1===n?B+=Math.ceil(a):1===o&&(B+=Math.ceil(v));let C=null==l?void 0:null===(g=l[3])||void 0===g?void 0:null===(p=g.orderedTalents)||void 0===p?void 0:p.find(l=>{let{name:e}=l;return e.includes("SYMBOLS_OF_BEYOND_")});if(C){let l=null!==(f=(0,i.growth)(null==C?void 0:C.funcX,null==C?void 0:C.level,null==C?void 0:C.x1,null==C?void 0:C.x2,!1))&&void 0!==f?f:0;B+=l}return(s&&(B+=Math.floor(s)),(0,t.k)(null==c?void 0:c.achievements,291)&&(B+=1),(0,u.fe)(c,1)&&(B+=null==c?void 0:null===(b=c.companions)||void 0===b?void 0:null===(y=b.list)||void 0===y?void 0:null===(_=y.at(1))||void 0===_?void 0:_.bonus),B+=(0,r.z)(null==c?void 0:null===(h=c.equinox)||void 0===h?void 0:h.upgrades,"Equinox_Symbols"),e)?e.map(l=>({...l,level:l.level>=1&&!isTalentExcluded(null==l?void 0:l.skillIndex)?Math.floor(l.level+B):l.level,baseLevel:l.level})):Object.entries(l).reduce((l,e)=>{let[n,i]=e,{orderedTalents:o}=i,t=null==o?void 0:o.map(l=>({...l,level:l.level>=1&&!isTalentExcluded(null==l?void 0:l.skillIndex)?Math.floor(l.level+B):l.level,baseLevel:l.level}));return{...l,[n]:{...i,orderedTalents:t}}},{})},isTalentExcluded=l=>49<=l&&59>=l||149===l||374===l||539===l||505===l||614<l,getFamilyBonusValue=function(l,e,n,i){return 10>l&&-1!==e.indexOf("decay")?Math.round(100*l)/100:1>l||"add"===e&&1>i&&100>l||25>l&&"decay"===e?Math.round(10*l)/10:Math.round(l)},getVoidWalkerTalentEnhancements=(l,e,n,i,o)=>{let t=[];if(n>=25&&t.push(42),n>=50&&t.push(318),n>=75&&t.push(497),n>=100&&t.push(79),n>=125&&t.push(146),n>=150&&t.push(362),n>=175&&t.push(43),n>=200&&t.push(536),n>=225&&t.push(165),n>=250&&t.push(35),-1!==t.indexOf(i)){if(42===i)return!0;if(146===i){var u;let e=null==l?void 0:l.filter(l=>(null==l?void 0:l.class)==="Blood_Berserker"),n=e.at(-1);if(!n)return 1;let i=null==n?void 0:null===(u=n.chow.finished)||void 0===u?void 0:u[1];return Math.pow(1.1,null!=i?i:0)}if(536===i)return 1;if(35===i){let l;let{stats:e}=o||{};l=(null==e?void 0:e.luck)<1e3?(Math.pow((null==e?void 0:e.luck)+1,.37)-1)/30:((null==e?void 0:e.luck)-1e3)/((null==e?void 0:e.luck)+2500)*.8+.3963;let n=getTalentBonus(null==o?void 0:o.talents,3,"LUCKY_CHARMS");return l*(1+n/100)/1.8}}return 0},checkCharClass=(l,e)=>{var n;return null===(n=a[l])||void 0===n?void 0:n.includes(e)},getBubonicGreenTube=(l,e,n)=>{var i,o,t,u;let d=null==n?void 0:null===(o=n.lab)||void 0===o?void 0:null===(i=o.playersCords)||void 0===i?void 0:i[null==l?void 0:l.playerId],r=null==n?void 0:null===(u=n.lab)||void 0===u?void 0:null===(t=u.playersCords)||void 0===t?void 0:t.filter(l=>{let{class:e}=l;return checkCharClass(e,"Bubonic_Conjuror")});if(!d||(null==r?void 0:r.length)===0)return 0;let a=null==r?void 0:r.some(l=>{let{x:e}=l;return e>(null==d?void 0:d.x)});return a?getHighestTalentByClass(e,3,"Bubonic_Conjuror","GREEN_TUBE"):0},s={32:!0,130:!0,490:!0,25:!0,45:!0,370:!0,145:!0}},15265:function(l,e,n){n.d(e,{Ew:function(){return getTotems},Qq:function(){return getChargeWithSyphon},T8:function(){return getPlayerWorship},kV:function(){return getClosestWorshiper},w:function(){return getSoulsReward}});var i=n(1972),o=n(42168),t=n(54685),u=n(30796),d=n(4056),r=n(88054),a=n(70473);let getTotems=l=>{var e;let n=(0,o.tryToParse)(null==l?void 0:l.TotemInfo)||(null==l?void 0:l.TotemInfo),i=null===a.randomList||void 0===a.randomList?void 0:null===(e=a.randomList[10])||void 0===e?void 0:e.split(" "),t=[26,63,30,107,155,208];return null==i?void 0:i.map((l,e)=>{var i;let o=null==n?void 0:null===(i=n[0])||void 0===i?void 0:i[e],u=0===o?0:Math.pow((5+o)/10,2.6),d=null===a.mapNames||void 0===a.mapNames?void 0:a.mapNames[null==t?void 0:t[e]],r=null===a.totems||void 0===a.totems?void 0:a.totems[e];return{...r,name:l,maxWave:o,waveMulti:u,expReward:Math.floor(15*Math.pow(e+1,2)*Math.pow(u,.9)),map:d}})},getSoulsReward=l=>{let{waveMulti:e,minEfficiency:n,efficiency:i,foodEffect:o}=l;return Math.floor(5*(1+(i>=n?Math.floor(100*Math.pow(i/(10*n),.25)):0)/100)*e*(1+o/100))},getMaxCharge=(l,e)=>{var n,o,a,v,s,c,m;let p=null===u.nl||void 0===u.nl?void 0:u.nl[null==l?void 0:l.class],g=(0,t.OK)(null==e?void 0:e.cards,"Max_Charge"),h=(0,d.xV)(null==l?void 0:l.postOffice,"Crate_of_the_Creator",1),f=(0,u.eZ)(null==l?void 0:l.activeBuffs,"CHARGE_SYPHON","y"),_=(0,i.mV)(null==e?void 0:e.stamps,"Max_Charge",l),y=(0,r.om)(null==e?void 0:null===(n=e.alchemy)||void 0===n?void 0:n.bubbles,"high-iq","GOSPEL_LEADER",!1,"wisdom"===p),b=(0,r.y7)(null==l?void 0:l.equippedBubbles,"high-iq","CALL_ME_POPE",e),B=(null==l?void 0:null===(a=l.tools)||void 0===a?void 0:null===(o=a[5])||void 0===o?void 0:o.rawName)!=="Blank"?null==l?void 0:null===(s=l.tools)||void 0===s?void 0:null===(v=s[5])||void 0===v?void 0:v.lvReqToCraft:0;return Math.floor(Math.max(50,g+h+(f+(_+y*Math.floor((null==l?void 0:null===(m=l.skillsInfo)||void 0===m?void 0:null===(c=m.worship)||void 0===c?void 0:c.level)/10))+Math.round(B)*Math.max(b,1))))},getChargeRate=(l,e)=>{var n,o,d,a,v,s,c,m,p,g,h,f,_,y,b,B,C,M,S,w;let x=(null==l?void 0:null===(o=l.tools)||void 0===o?void 0:null===(n=o[5])||void 0===n?void 0:n.rawName)!=="Blank"?null==l?void 0:null===(a=l.tools)||void 0===a?void 0:null===(d=a[5])||void 0===d?void 0:d.Speed:0,T=(0,t.OK)(null==e?void 0:e.cards,"Charge_Rate"),k=(0,i.mV)(null==e?void 0:e.stamps,"Charge_Rate_per_Hour",l),A=(0,u.eZ)(null==l?void 0:l.activeBuffs,"CHARGE_SYPHON","y"),I=(0,r.y7)(null==l?void 0:l.equippedBubbles,"high-iq","CALL_ME_POPE",e);return x<3?6/Math.max(5.7+Math.pow(4-x,2.2)-(.9*Math.pow(null==l?void 0:null===(s=l.skillsInfo)||void 0===s?void 0:null===(v=s.worship)||void 0===v?void 0:v.level,.5)/(Math.pow(null==l?void 0:null===(m=l.skillsInfo)||void 0===m?void 0:null===(c=m.worship)||void 0===c?void 0:c.level,.5)+250)+.6*(null==l?void 0:null===(g=l.skillsInfo)||void 0===g?void 0:null===(p=g.worship)||void 0===p?void 0:p.level)/((null==l?void 0:null===(f=l.skillsInfo)||void 0===f?void 0:null===(h=f.worship)||void 0===h?void 0:h.level)+40)),.57)*Math.max(I,1)*(1+(T+k)/100)*Math.max(A,1):6/Math.max(5.7-(.2*Math.pow(x,1.3)+(.9*Math.pow(null==l?void 0:null===(y=l.skillsInfo)||void 0===y?void 0:null===(_=y.worship)||void 0===_?void 0:_.level,.5)/(Math.pow(null==l?void 0:null===(B=l.skillsInfo)||void 0===B?void 0:null===(b=B.worship)||void 0===b?void 0:b.level,.5)+250)+.6*(null==l?void 0:null===(M=l.skillsInfo)||void 0===M?void 0:null===(C=M.worship)||void 0===C?void 0:C.level)/((null==l?void 0:null===(w=l.skillsInfo)||void 0===w?void 0:null===(S=w.worship)||void 0===S?void 0:S.level)+40))),.57)*Math.max(I,1)*(1+(T+k)/100)*Math.max(A,1)},getPlayerWorship=(l,e,n,i)=>{let t=getMaxCharge(l,n),u=getChargeRate(l,n),d=new Date().getTime()-l.afkTime,r=Math.min(parseInt(i)+u*(d/1e3/3600),t);return{maxCharge:(0,o.round)(t),chargeRate:(0,o.round)(u),currentCharge:(0,o.round)(r)}},getClosestWorshiper=l=>null==l?void 0:l.reduce((l,e)=>{var n,i,o;let t=((null==e?void 0:null===(n=e.worship)||void 0===n?void 0:n.maxCharge)-(null==e?void 0:null===(i=e.worship)||void 0===i?void 0:i.currentCharge))/(null==e?void 0:null===(o=e.worship)||void 0===o?void 0:o.chargeRate)*36e5;return 0!==t&&t<(null==l?void 0:l.timeLeft)?{character:null==e?void 0:e.name,timeLeft:t}:l},{character:null,timeLeft:1/0}),getChargeWithSyphon=l=>{var e;let n=null==l?void 0:l.reduce((l,e)=>{let{worship:n}=e;return l+(null==n?void 0:n.currentCharge)},0),i=null==l?void 0:l.reduce((l,e)=>{let{worship:n}=e;return l+(null==n?void 0:n.chargeRate)},0),o=(0,u.A5)(l,2,"Wizard","CHARGE_SYPHON","y"),t=(0,u.L1)(l,2,"Wizard","CHARGE_SYPHON","y");return{bestWizard:t,totalCharge:n,bestChargeSyphon:o,totalChargeRate:i,timeToOverCharge:new Date().getTime()+((null==t?void 0:null===(e=t.worship)||void 0===e?void 0:e.maxCharge)+o-n)/i*36e5}}},74044:function(l,e){let n={};n._mul=Math.imul;var Tb=function(l){this.init(l)};Tb.__name__="Rand",Tb.hash=function(l,e){return null==e&&(e=5381),l=n._mul(l,-862048943),e^=l=n._mul(l<<15|l>>>17,461845907),e=n._mul(e<<13|e>>>19,5)+-430675100|0,e=n._mul(e^e>>16,-2048144789),(e=n._mul(e^e>>13,-1028477387))^e>>16},Tb.inlineHash=function(l,e){return l=n._mul(l,-862048943),e^=l=n._mul(l<<15|l>>>17,461845907),e=n._mul(e<<13|e>>>19,5)+-430675100|0,e=n._mul(e^e>>16,-2048144789),(e=n._mul(e^e>>13,-1028477387))^e>>16},Tb.prototype={seed:null,seed2:null,init:function(l){this.seed=l,this.seed2=Tb.hash(l),0==this.seed&&(this.seed=1),0==this.seed2&&(this.seed2=1)},random:function(l){return this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),(1073741823&((this.seed<<16)+this.seed2|0))%l},shuffle:function(l){for(var e=l.length,n=0;n<e;){n++,this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16);var i=(1073741823&((this.seed<<16)+this.seed2|0))%e;this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16);var o=(1073741823&((this.seed<<16)+this.seed2|0))%e,t=l[i];l[i]=l[o],l[o]=t}},rand:function(){return this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),(1073741823&((this.seed<<16)+this.seed2|0))%10007/10007},srand:function(l){return null==l&&(l=1),this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),((this.seed<<16)+this.seed2|0)%10007/10007*l},int:function(){return this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),(this.seed<<16)+this.seed2|0},uint:function(){return this.seed=36969*(65535&this.seed)+(this.seed>>16),this.seed2=18e3*(65535&this.seed2)+(this.seed2>>16),1073741823&((this.seed<<16)+this.seed2|0)},__class__:Tb},e.Z=Tb}}]);