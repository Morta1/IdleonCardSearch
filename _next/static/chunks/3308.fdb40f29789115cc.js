"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3308],{33308:function(o,l,i){i.d(l,{parseData:function(){return parseData}});var n=i(56552),e=i(54685),t=i(74805),u=i(1972),a=i(74861),s=i(64569);let d={0:"dewdrop",1:"sandstone",2:"chillsnap",3:"astro",4:"molten",5:"whimsical"},v={0:"chopping",1:"fishing",2:"catching",3:"mining"},getHighscores=(o,l)=>{var i,n,e,t,u;let a=(null==o?void 0:null===(i=o.FamilyValuesMap)||void 0===i?void 0:i.ColosseumHighscores)||(null==o?void 0:o.FamValColosseumHighscores),s=(null==o?void 0:null===(n=o.FamilyValuesMap)||void 0===n?void 0:n.MinigameHiscores)||(null==o?void 0:o.FamValMinigameHiscores);return{coloHighscores:parseColosseum(a),minigameHighscores:parseMinigame(s).concat([{name:"pen pals",score:(null==l?void 0:null===(e=l.accountOptions)||void 0===e?void 0:e[99])||0},{name:"poing",score:null==l?void 0:null===(t=l.gaming)||void 0===t?void 0:t.poingHighscore},{name:"hoops",score:(null==l?void 0:null===(u=l.accountOptions)||void 0===u?void 0:u[242])||0}])}},parseColosseum=o=>o.slice(1).filter((o,l)=>d[l]).map((o,l)=>({name:d[l],score:parseFloat(o)})),parseMinigame=o=>o.filter((o,l)=>v[l]).map((o,l)=>({name:v[l],score:o})),calcColoTotalScore=o=>null==o?void 0:o.reduce((o,l)=>{let{score:i}=l;return o+i},0),calcMinigameTotalScore=o=>null==o?void 0:o.reduce((o,l,i)=>{let{score:n}=l;return o+(i<5?n:0)},0);var r=i(30925);let getGemShop=o=>{let l=(0,r.tryToParse)(null==o?void 0:o.GemItemsPurchased)||(null==o?void 0:o.GemItemsPurchased);return parseGemShop(l)},parseGemShop=o=>o;var c=i(25081),p=i(88054),h=i(23515),m=i(29129),g=i(96707),_=i(15815),y=i(70473);let getForge=(o,l)=>{let i=null==o?void 0:o.ForgeItemOrder,n=(null==o?void 0:o.ForgeItemQuantity)||(null==o?void 0:o.ForgeItemQty),e=(null==o?void 0:o.FurnaceLevels)||(null==o?void 0:o.ForgeLV);return parseForge(i,n,e,l)},M=[{name:"New Forge Slot",maxLevel:16,description:"extra slots to smelt ores",costMulti:void 0},{name:"Ore Capacity Boost",maxLevel:50,description:"Increases max ores per slot",costMulti:1.41},{name:"Forge Speed",maxLevel:90,description:"Ores are turned into bars faster",costMulti:1.2},{name:"Forge EXP Gain",maxLevel:85,description:"Increased EXP gain from using the forge",costMulti:1.21},{name:"Bar Bonanza",maxLevel:75,description:"Increased chance to make an extra bar",costMulti:1.25},{name:"Puff Puff Go",maxLevel:60,description:"Increased chance for a card drop while afk",costMulti:1.33}],parseForge=(o,l,i,n)=>{var e,t,u,a;let s=null==M?void 0:M.map((o,l)=>({...o,level:i[l]})),d=null!==(t=null==n?void 0:null===(e=n.gemShopPurchases)||void 0===e?void 0:e.find((o,l)=>104===l))&&void 0!==t?t:0,v=[],r=0;for(let i=0;i<(null==o?void 0:o.length);i+=3){let[n,e,t]=null==o?void 0:o.slice(i,i+3),[c,p,h]=l.slice(i,i+3),m=null===y.items||void 0===y.items?void 0:y.items[e],g=null===y.items||void 0===y.items?void 0:y.items[n],_=r<d,M=Math.round(100+5*(null==s?void 0:null===(u=s[2])||void 0===u?void 0:u.level)),O=getSpeed(M,m,_),b=Math.round(c/(null==g?void 0:g.Amount))*((null==g?void 0:g.Cooldown)/(4*O));v=[...v,{isBrimestone:_,ore:{...g,name:null==g?void 0:g.displayName,rawName:n,amount:c,quantity:c,timeTillEmpty:1e3*b,owner:"forge"},barrel:{...m,name:null==m?void 0:m.displayName,rawName:e,amount:p,quantity:p,owner:"forge"},bar:{...null===y.items||void 0===y.items?void 0:y.items[t],name:null===y.items||void 0===y.items?void 0:null===(a=y.items[t])||void 0===a?void 0:a.displayName,rawName:t,amount:h,quantity:h,owner:"forge"}}],r++}return{list:v,upgrades:s}},getSpeed=(o,l,i)=>{let n=Math.round(o)/100;return n*=(null==l?void 0:l.Effect)==="SpeedForge"?null==l?void 0:l.Amount:1,i&&(n*=1.5),.25*n};var O=i(47212),b=i(9339),f=i(72664);let getTasks=o=>{var l;let i=(null==o?void 0:o.Tasks)||[(0,r.tryToParse)(null==o?void 0:o.TaskZZ0),(0,r.tryToParse)(null==o?void 0:o.TaskZZ1),(0,r.tryToParse)(null==o?void 0:o.TaskZZ2),(0,r.tryToParse)(null==o?void 0:o.TaskZZ3),(0,r.tryToParse)(null==o?void 0:o.TaskZZ4),(0,r.tryToParse)(null==o?void 0:o.TaskZZ5),(0,r.tryToParse)(null==o?void 0:o.TaskZZ6)],n=null===y.tasks||void 0===y.tasks?void 0:null===(l=y.tasks.map((o,l)=>null==o?void 0:o.map((o,n)=>{var e,t,u,a,s,d;let v=null==i?void 0:null===(t=i[0])||void 0===t?void 0:null===(e=t[l])||void 0===e?void 0:e[n],r=null==i?void 0:null===(a=i[1])||void 0===a?void 0:null===(u=a[l])||void 0===u?void 0:u[n],c=o;if(8===n){let o=null==i?void 0:null===(s=i[5])||void 0===s?void 0:s[l];c=null===y.tasks||void 0===y.tasks?void 0:null===(d=y.tasks[l])||void 0===d?void 0:d[8+o]}return{...c,stat:v,level:r,meritReward:Math.round(1+Math.floor(r/5))}})))||void 0===l?void 0:l.map(o=>null==o?void 0:o.slice(0,9)),e=null===y.merits||void 0===y.merits?void 0:y.merits.map((o,l)=>null==o?void 0:o.map((o,n)=>{var e,t;let u=null==i?void 0:null===(t=i[2])||void 0===t?void 0:null===(e=t[l])||void 0===e?void 0:e[n];return{...o,level:u}}));return{tasks:parseTasks(i),tasksDescriptions:n,meritsDescriptions:e}},parseTasks=o=>o,calcTotalTasks=o=>{var l;return null==o?void 0:null===(l=o[1])||void 0===l?void 0:l.reduce((o,l)=>{let i=l.reduce((o,l)=>o+l,0);return o+i},0)};var x=i(71345),T=i(10924),k=i(32387),S=i(11028),w=i(89260),B=i(15893),P=i(64605),F=i(73592),E=i(70508),L=i(19225),C=i(74629),N=i(5432),D=i(19834),R=i(16727),A=i(20385),I=i(95331),G=i(67896),H=i(4056),j=i(78713),Z=i(72973),q=i(15265),V=i(8616),z=i(77115),K=i(13339),U=i(30796),W=i(88344);let getTome=(o,l,i,n)=>{let e=y.ninjaExtraInfo[32].split(" "),t=y.ninjaExtraInfo[33].split(" "),u=calcTomeQuantity(l,i,o),a=0,s=y.tomeData.map((o,i)=>{let n=e.indexOf(i.toString()),t=50*n+(10*Math.max(0,n-30)+10*Math.max(0,n-50))+500,s=(null==u?void 0:u[i])||0,d=calcPointsPercent(o,s),v=Math.ceil(d*(null==o?void 0:o.x3));return a+=(null==l?void 0:l.accountLevel)>t?v:0,{...o,tomeLvReq:t,index:n,quantity:(null==u?void 0:u[i])||0,points:v,color:.4>d?"#ffc277":.75>d?"#d6dbe0":.999>d?"gold":"#56ccff"}}),d=t.map((o,i)=>({name:o.replace("+{%",""),bonus:getTomeBonus(l,a,i)}));s.sort((o,l)=>o.index-l.index);let v=(null==n?void 0:n.TomePct)||[],r=v.reduce((o,l,i)=>a>l?i:o,-1);return{tome:s,bonuses:d,totalPoints:a,tops:v,top:r}},getTomeBonus=(o,l,i)=>{var n,e,t,u,a;let s=(0,p.om)(null==o?void 0:null===(n=o.alchemy)||void 0===n?void 0:n.bubbles,"power","TOME_STRENGTH"),d=(0,p.om)(null==o?void 0:null===(e=o.alchemy)||void 0===e?void 0:e.bubbles,"quicc","TOME_AGILITY"),v=(0,p.om)(null==o?void 0:null===(t=o.alchemy)||void 0===t?void 0:t.bubbles,"high-iq","TOME_WISDOM"),r=(l-5e3)/2e3;return 0===i?10*Math.pow(Math.floor(l/100),.7):1===i?1===(null==o?void 0:null===(u=o.accountOptions)||void 0===u?void 0:u[196])?4*Math.pow(Math.floor(Math.max(0,l-4e3)/100),.7):0:2===i?1===(null==o?void 0:null===(a=o.accountOptions)||void 0===a?void 0:a[197])?2*Math.pow(Math.floor(Math.max(0,l-8e3)/100),.7):0:3===i?s*r:4===i?d*r:5===i?v*r:0},calcPointsPercent=(o,l)=>0===(null==o?void 0:o.x2)?0>l?0:Math.pow(1.7*l/(l+(null==o?void 0:o.x1)),.7):1===(null==o?void 0:o.x2)?2.4*(0,r.lavaLog)(l)/(2*(0,r.lavaLog)(l)+(null==o?void 0:o.x1)):2===(null==o?void 0:o.x2)?Math.min(1,l/(null==o?void 0:o.x1)):3!==(null==o?void 0:o.x2)?0:l>5*(null==o?void 0:o.x1)?0:Math.pow(1.2*(6*(null==o?void 0:o.x1)-l)/(7*(null==o?void 0:o.x1)-l),5),calcTomeQuantity=(o,l)=>{var i,n,t,s,d,v,r,c,m,g,y,M,O,f,x,k,S,B,P,F,E,L,D,A,G,H,j,Z,q,z,K,Q,X,Y,J,$,oo,ol,oi,on,oe,ot,ou,oa,os,od,ov,or,oc,op,oh,om,og,o_,oy,oM,oO,ob,of,ox,oT,ok,oS,ow,oB,oP,oF,oE,oL,oC,oN;let oD=[];return oD.push((0,u.bL)(null==o?void 0:o.stamps)),oD.push((0,a.ni)(null==o?void 0:o.statues)),oD.push((0,e.QN)(null==o?void 0:o.cards)),oD.push((0,U.gq)(l)),oD.push((0,T.vZ)(l)),oD.push(null==o?void 0:o.accountLevel),oD.push(calcTotalTasks(null==o?void 0:o.tasks)),oD.push((0,b.fC)(null==o?void 0:o.achievements)),oD.push(null===(i=o.accountOptions)||void 0===i?void 0:i[198]),oD.push(null===(n=o.accountOptions)||void 0===n?void 0:n[208]),oD.push((0,W.lV)(null==o?void 0:o.looty)),oD.push(Object.entries(null==o?void 0:o.totalSkillsLevels).reduce((o,l)=>{let[i,{level:n}]=l;return"character"!==i?o+n:o},0)),oD.push(null===(t=o.accountOptions)||void 0===t?void 0:t[201]),oD.push(null==o?void 0:null===(v=o.tasks)||void 0===v?void 0:null===(d=v[0])||void 0===d?void 0:null===(s=d[0])||void 0===s?void 0:s[2]),oD.push(null===(r=o.accountOptions)||void 0===r?void 0:r[172]),oD.push((0,U.Es)(l,o)),oD.push(1/(null===(c=o.accountOptions)||void 0===c?void 0:c[202])),oD.push(null==o?void 0:null===(m=o.dungeons)||void 0===m?void 0:m.rank),oD.push(null===(g=o.accountOptions)||void 0===g?void 0:g[200]),oD.push(null==o?void 0:o.rawConstellationsDone),oD.push(null===(y=o.accountOptions)||void 0===y?void 0:y[203]),oD.push((0,W.ZT)(null==o?void 0:o.looty)),oD.push((0,p.e5)(null==o?void 0:null===(M=o.alchemy)||void 0===M?void 0:M.bubbles)),oD.push((0,p.k_)(null==o?void 0:null===(O=o.alchemy)||void 0===O?void 0:O.vials)),oD.push((0,p.It)(null==o?void 0:null===(x=o.alchemy)||void 0===x?void 0:null===(f=x.p2w)||void 0===f?void 0:f.sigils)),oD.push(null===(k=o.accountOptions)||void 0===k?void 0:k[199]),oD.push((null==o?void 0:null===(S=o.currencies)||void 0===S?void 0:S.DeliveryBoxComplete)+(null==o?void 0:null===(B=o.currencies)||void 0===B?void 0:B.DeliveryBoxStreak)+(null==o?void 0:null===(P=o.currencies)||void 0===P?void 0:P.DeliveryBoxMisc)),oD.push(null===(F=o.accountOptions)||void 0===F?void 0:F[204]),oD.push(null===(E=o.accountOptions)||void 0===E?void 0:E[205]),oD.push(null===(L=o.accountOptions)||void 0===L?void 0:L[206]),oD.push(1e3-(null===(D=o.accountOptions)||void 0===D?void 0:D[207])),oD.push(null===(A=o.accountOptions)||void 0===A?void 0:A[211]),oD.push(null===(G=o.accountOptions)||void 0===G?void 0:G[212]),oD.push(null===(H=o.accountOptions)||void 0===H?void 0:H[213]),oD.push(null===(j=o.accountOptions)||void 0===j?void 0:j[214]),oD.push(null===(Z=o.accountOptions)||void 0===Z?void 0:Z[215]),oD.push(null===(q=o.accountOptions)||void 0===q?void 0:q[209]),oD.push(null==o?void 0:null===(z=o.towers)||void 0===z?void 0:z.totalWaves),oD.push((0,C.sr)(null==o?void 0:o.deathNote)),oD.push(null==o?void 0:null===(K=o.equinox)||void 0===K?void 0:K.completedClouds),oD.push(null==o?void 0:null===(Q=o.refinery)||void 0===Q?void 0:Q.totalLevels),oD.push((0,I.Bm)(null==o?void 0:null===(X=o.atoms)||void 0===X?void 0:X.atoms)),oD.push(null==o?void 0:null===(Y=o.towers)||void 0===Y?void 0:Y.totalLevels),oD.push((0,h.cR)(null==o?void 0:o.storage,"Critter11A")),oD.push(null===(J=o.accountOptions)||void 0===J?void 0:J[224]),oD.push(null===($=o.rift)||void 0===$?void 0:$.currentRift),oD.push((0,N.sd)(null==o?void 0:o.breeding)),oD.push(1e3-(null===(oo=o.accountOptions)||void 0===oo?void 0:oo[220])),oD.push((0,w.eA)(null==o?void 0:null===(ol=o.cooking)||void 0===ol?void 0:ol.kitchens)),oD.push(null==o?void 0:null===(oi=o.breeding)||void 0===oi?void 0:oi.totalShinyLevels),oD.push((0,w.QR)(null==o?void 0:null===(on=o.cooking)||void 0===on?void 0:on.meals)),oD.push(null==o?void 0:null===(oe=o.breeding)||void 0===oe?void 0:oe.totalBreedabilityLv),oD.push(null==o?void 0:null===(ot=o.lab)||void 0===ot?void 0:ot.totalRawChips),oD.push(calcColoTotalScore(null==o?void 0:null===(ou=o.highscores)||void 0===ou?void 0:ou.coloHighscores)),oD.push(null===(oa=o.accountOptions)||void 0===oa?void 0:oa[217]),oD.push((0,a.$M)(o)),oD.push(1e3-(null===(os=o.accountOptions)||void 0===os?void 0:os[218])),oD.push((0,R.NW)(null==o?void 0:null===(od=o.sailing)||void 0===od?void 0:od.boats)),oD.push(null==o?void 0:null===(ov=o.divinity)||void 0===ov?void 0:ov.godRank),oD.push(null==o?void 0:null===(or=o.gaming)||void 0===or?void 0:or.totalPlantsPicked),oD.push((0,R.JR)(null==o?void 0:null===(oc=o.sailing)||void 0===oc?void 0:oc.artifacts)),oD.push(null==o?void 0:null===(om=o.sailing)||void 0===om?void 0:null===(oh=om.lootPile)||void 0===oh?void 0:null===(op=oh[0])||void 0===op?void 0:op.amount),oD.push(Math.max(...(null==o?void 0:null===(o_=o.sailing)||void 0===o_?void 0:null===(og=o_.captains)||void 0===og?void 0:og.map(o=>{let{level:l}=o;return l}))||[])),oD.push(Math.max(null==o?void 0:null===(oy=o.gaming)||void 0===oy?void 0:oy.snailLevel,null===(oM=o.accountOptions)||void 0===oM?void 0:oM[210])),oD.push(null==o?void 0:null===(oO=o.gaming)||void 0===oO?void 0:oO.bestNugget),oD.push(null==o?void 0:null===(of=o.looty)||void 0===of?void 0:null===(ob=of.lootyRaw)||void 0===ob?void 0:ob.length),oD.push(null==o?void 0:null===(ox=o.gaming)||void 0===ox?void 0:ox.bits),oD.push(Math.pow(2,null===(oT=o.accountOptions)||void 0===oT?void 0:oT[219])),oD.push(null==o?void 0:null===(ok=o.farming)||void 0===ok?void 0:ok.cropsFound),oD.push((0,V.$8)(null==o?void 0:null===(oS=o.sneaking)||void 0===oS?void 0:oS.beanstalkData)),oD.push(null==o?void 0:null===(ow=o.summoning)||void 0===ow?void 0:ow.totalUpgradesLevels),oD.push(0),oD.push(null==o?void 0:null===(oB=o.sneaking)||void 0===oB?void 0:oB.unlockedFloors),oD.push(null==o?void 0:null===(oP=o.summoning)||void 0===oP?void 0:oP.familiarsOwned),oD.push(null==o?void 0:null===(oF=o.sneaking)||void 0===oF?void 0:oF.totalJadeEmporiumUnlocked),oD.push(calcMinigameTotalScore(null==o?void 0:null===(oE=o.highscores)||void 0===oE?void 0:oE.minigameHighscores)),oD.push((0,_.vR)(null==o?void 0:o.prayers)),oD.push(0),oD.push(null===(oL=o.accountOptions)||void 0===oL?void 0:oL[221]),oD.push(null===(oC=o.accountOptions)||void 0===oC?void 0:oC[222]),oD.push(null===(oN=o.arcade)||void 0===oN?void 0:oN.totalUpgradeLevels),oD};var Q=i(79184);let getKangaroo=(o,l)=>parseKangaroo(l),X=["Unlocks_the_first_3_upgrades_in_the_Tar_Pit,_visit_through_top_left_corner","Boosts_all_of_Poppy's_Bonuses_by_1.5x_their_base_amount","Adds_two_more_Reset_Spirals_to_upgrade,_and_gives_+5_Pts_when_Fisheroo_Resetting","Boosts_all_of_Poppy's_Bonuses_by_2x_their_base_amount.","Unlocks_another_3_upgrades_in_the_Tar_Pit,_and_boosts_Tartar_Fish_gain_by_3x","The_Fishing_Buddy_upgrade_now_gives_+50%_Bluefin_caught_and_+50%_Shiny_Speed_per_Lv_past_Lv.5!","Boosts_all_of_Poppy's_Bonuses_by_2.5x_their_base_amount","Unlocks_the_final_2_upgrades_in_the_Tar_Pit,_and_boosts_Tartar_Fish_gain_by_another_3x","Boosts_all_of_Poppy's_Bonuses_by_3x_their_base_amount","Shiny_fishing_is_1%_faster_per_upgrade_LV_of_the_Tasty_Fishbait_upgrade","All_upgrades,_including_Tar_Pit_upgrades,_are_5%_cheaper_per_LV_of_King_Worm_upgrade","Poppy's_bonuses_are_now_{x_higher_than_they_were_at_first"],Y=["{x_bluefin_fish_caught","{x_shiny_fishing_speed_and_luck","All_upgrades_are_{x_cheaper","Other_Reset_bonuses_are_{x_higher","{x_Tartar_fish_caught"],parseKangaroo=o=>{var l,i,n,e,t,u,a,s,d,v,c,p,h,m,g,_,M,O,b,f,x,T,k,S,w,B;let P=null==o?void 0:null===(l=o.accountOptions)||void 0===l?void 0:l[267],F=null==o?void 0:null===(i=o.accountOptions)||void 0===i?void 0:i[280],E=y.poppyBonuses.map((l,i)=>{var n,e,t,u,a,s,d;let v=0===i?1+(null==o?void 0:null===(n=o.accountOptions)||void 0===n?void 0:n[268]):1,r=v*(1/(1+10*(null==o?void 0:null===(e=o.accountOptions)||void 0===e?void 0:e[272])/100))*(1/(1+15*(null==o?void 0:null===(t=o.accountOptions)||void 0===t?void 0:t[300])/100))*(1/(1+5*getMegaFish(o,10)*(null==o?void 0:null===(u=o.accountOptions)||void 0===u?void 0:u[304])/100)),c=r*(1/Math.max(1,getResetBonuses(o,2)))*(null==l?void 0:l.x1)*Math.pow(null==l?void 0:l.x2,null==o?void 0:null===(a=o.accountOptions)||void 0===a?void 0:a[268+i]),p=null==o?void 0:null===(s=o.accountOptions)||void 0===s?void 0:s[268+i],h=null===y.poppyBonuses||void 0===y.poppyBonuses?void 0:null===(d=y.poppyBonuses[i+1])||void 0===d?void 0:d.x3,m=formatDescription(o,p,null==l?void 0:l.desc,0,i,y.poppyBonuses);return{...l,cost:c,level:p,nextLvReq:h,desc:m,unlocked:F>(null==l?void 0:l.x3)||0===i}}),L=null==E?void 0:E.findIndex(o=>{let{level:l,x3:i}=o;return F<i}),C=null===y.poppyBonuses||void 0===y.poppyBonuses?void 0:null===(n=y.poppyBonuses[L])||void 0===n?void 0:n.x3,N=(1+Math.min(5,null==o?void 0:null===(e=o.accountOptions)||void 0===e?void 0:e[275]))*Math.max(1,1+.5*((null==o?void 0:null===(t=o.accountOptions)||void 0===t?void 0:t[275])-5)*getMegaFish(o,5))*getResetBonuses(o,0)*(10*(null==o?void 0:null===(u=o.accountOptions)||void 0===u?void 0:u[268])+(100*(null==o?void 0:null===(a=o.accountOptions)||void 0===a?void 0:a[297])+1e3*(null==o?void 0:null===(s=o.accountOptions)||void 0===s?void 0:s[304]))+(50*(null==o?void 0:null===(d=o.accountOptions)||void 0===d?void 0:d[273])+200*(null==o?void 0:null===(v=o.accountOptions)||void 0===v?void 0:v[278])))*getShinyMulti(o,-1)*(1+8*(null==o?void 0:null===(c=o.accountOptions)||void 0===c?void 0:c[299])/100),D=30/(1+5*(null==o?void 0:null===(p=o.accountOptions)||void 0===p?void 0:p[269])/100),R=N*(60/D),A=Math.min(8,Math.round(3*getMegaFish(o,0)+(3*getMegaFish(o,4)+2*getMegaFish(o,7)))),I=null==o?void 0:null===(h=o.accountOptions)||void 0===h?void 0:h[296],G=1/(1+.05*(null==o?void 0:null===(m=o.accountOptions)||void 0===m?void 0:m[301]))*1800*(1/Math.max(1,getResetBonuses(o,4)))*(1/(1+2*getMegaFish(o,4)))*(1/(1+2*getMegaFish(o,7))),H=y.poppyTarBonuses.map((l,i)=>{var n,e,t,u;let a=1/(1+5*getMegaFish(o,10)*(null==o?void 0:null===(n=o.accountOptions)||void 0===n?void 0:n[304])/100),s=(null==o?void 0:null===(e=o.accountOptions)||void 0===e?void 0:e[297+i])+a*(null==l?void 0:l.x1)*Math.pow(null==l?void 0:l.x2,null==o?void 0:null===(t=o.accountOptions)||void 0===t?void 0:t[297+i]),d=null==o?void 0:null===(u=o.accountOptions)||void 0===u?void 0:u[297+i],v=formatDescription(o,d,null==l?void 0:l.desc,1,i,y.poppyTarBonuses);return{...l,cost:s,level:d,desc:v,unlocked:i<A}}),j=getResetBonuses(o,1)*(null==o?void 0:null===(g=o.accountOptions)||void 0===g?void 0:g[270])*(1+getMegaFish(o,9)*(null==o?void 0:null===(_=o.accountOptions)||void 0===_?void 0:_[268])/100)*Math.max(1,1+.5*((null==o?void 0:null===(M=o.accountOptions)||void 0===M?void 0:M[275])-5)*getMegaFish(o,5)),Z=.05*j*1200,q=7200/(1+4*(null==o?void 0:null===(O=o.accountOptions)||void 0===O?void 0:O[276])/100),V=100*Math.max(0,(null==o?void 0:null===(b=o.accountOptions)||void 0===b?void 0:b[289])/q),z=50*getMegaFish(o,1)+(50*getMegaFish(o,3)+(50*getMegaFish(o,6)+(50*getMegaFish(o,8)+(50*Math.min(1,getMegaFish(o,11))+25*Math.max(0,getMegaFish(o,11)-1))))),K=[{name:"Fish/minute",bonus:R},{name:"Fishing Eff",bonus:3*(1+z/100)*Math.max(0,Math.ceil((null==o?void 0:null===(f=o.accountOptions)||void 0===f?void 0:f[271])/7)),percentage:!0},{name:"Defence",bonus:3*(1+z/100)*Math.max(0,Math.ceil(((null==o?void 0:null===(x=o.accountOptions)||void 0===x?void 0:x[271])-1)/7)),percentage:!1},{name:"Fishing XP",bonus:5*(1+z/100)*Math.max(0,Math.ceil(((null==o?void 0:null===(T=o.accountOptions)||void 0===T?void 0:T[271])-2)/7)),percentage:!0},{name:"Accuracy",bonus:2*(1+z/100)*Math.max(0,Math.ceil(((null==o?void 0:null===(k=o.accountOptions)||void 0===k?void 0:k[271])-3)/7)),percentage:!0},{name:"Total DMG",bonus:2*(1+z/100)*Math.max(0,Math.ceil(((null==o?void 0:null===(S=o.accountOptions)||void 0===S?void 0:S[271])-4)/7)),percentage:!0},{name:"AFK Gains",bonus:.5*(1+z/100)*Math.max(0,Math.ceil(((null==o?void 0:null===(w=o.accountOptions)||void 0===w?void 0:w[271])-5)/7)),percentage:!0},{name:"Cash",bonus:3*(1+z/100)*Math.max(0,Math.ceil(((null==o?void 0:null===(B=o.accountOptions)||void 0===B?void 0:B[271])-6)/7)),percentage:!0}],U=X.map((l,i)=>{var n,e;return{description:l,unlocked:i+1<=(null==o?void 0:null===(n=o.accountOptions)||void 0===n?void 0:n[279]),...11===i?{amount:(null==o?void 0:null===(e=o.accountOptions)||void 0===e?void 0:e[279])-12,totalBonus:1+z/100}:{}}}),W=Y.map((l,i)=>{var n;return{desc:l.replace("{",Math.round(100*getResetBonuses(o,i))/100),level:null==o?void 0:null===(n=o.accountOptions)||void 0===n?void 0:n[291+i]}}),Q=getShinyMulti(o,-1);Q=1e3>getShinyMulti(o,-1)?(0,r.notateNumber)(Q,"MultiplierInfo"):1e7>getShinyMulti(o,-1)?(0,r.commaNotation)(Q):(0,r.notateNumber)(Q,"MultiplierInfo");let J=[0,1,2,3,4,5].map(l=>{var i;let n=null==o?void 0:null===(i=o.accountOptions)||void 0===i?void 0:i[281+l],e=getShinyMulti(o,l),t=(10>e?(0,r.notateNumber)(e,"MultiplierInfo"):100>e?""+Math.floor(10*e)/10:""+Math.floor(e)).replace(".00","");return{multi:t,amount:1e4>n?""+Math.round(n):""+(0,r.notateNumber)(n,"Big")}});return{resetBonuses:W,upgrades:E,bonuses:K,fish:P,progress:F,nextLvReq:C,megaFish:U,fishRate:R,tarFishRate:G,tarFishOwned:I,totalMulti:Q,allMultipliers:J,tarUpgrades:H,shinyProgress:V,shinyRate:Z,shinyRatePercent:100*Math.max(0,Z/q)}},formatDescription=(o,l,i,n,e,t)=>{var u,a,s,d,v;let c=i;return(c=(c=(c=c.replace("{",""+(0,r.commaNotation)((null==o?void 0:null===(u=o.accountOptions)||void 0===u?void 0:u[Math.round(268+29*n+e)])*(null===(a=t[e])||void 0===a?void 0:a.x6)))).replace("]",""+Math.round(100+l*(null===(s=t[e])||void 0===s?void 0:s.x6))/100)).replace("~",""+(0,r.notateNumber)(100*(1-1/(1+l*(null===(d=t[e])||void 0===d?void 0:d.x6)/100)),"Small"))).replace("?",""+(0,r.notateNumber)((null===(v=t[e])||void 0===v?void 0:v.x6)*(l/(40+l)),"Small"))},getMegaFish=(o,l)=>{var i,n;return(null==o?void 0:null===(i=o.accountOptions)||void 0===i?void 0:i[279])>l?11===l?(null==o?void 0:null===(n=o.accountOptions)||void 0===n?void 0:n[279])-11:1:0},getShinyMulti=(o,l)=>{var i;let n=1;return l<0?n*=getShinyMulti(o,0)*getShinyMulti(o,1)*getShinyMulti(o,2)*getShinyMulti(o,3)*getShinyMulti(o,4)*getShinyMulti(o,5):(0===l&&(n=30),1===l&&(n=50),2===l&&(n=100),3===l&&(n=150),4===l&&(n=250),5===l&&(n=500),1+n*Math.log(Math.max(1,null==o?void 0:null===(i=o.accountOptions)||void 0===i?void 0:i[Math.round(281+l)]))/100)},getResetBonuses=(o,l)=>{var i,n,e,t,u,a,s;let d=0===l?1+.4*(null==o?void 0:null===(i=o.accountOptions)||void 0===i?void 0:i[291]):1===l?1+.3*(null==o?void 0:null===(n=o.accountOptions)||void 0===n?void 0:n[292]):2===l?1+.15*(null==o?void 0:null===(e=o.accountOptions)||void 0===e?void 0:e[293]):3===l?1+.04*(null==o?void 0:null===(t=o.accountOptions)||void 0===t?void 0:t[294]):1+.2*(null==o?void 0:null===(u=o.accountOptions)||void 0===u?void 0:u[295]),v=3!==l&&0<(null==o?void 0:null===(a=o.accountOptions)||void 0===a?void 0:a[291+l])?1+.04*(null==o?void 0:null===(s=o.accountOptions)||void 0===s?void 0:s[294]):1;return d*v},parseData=(o,l,i,n,e)=>{let t,u;try{console.info("%cStart Parsing","color:orange");let a=serializeData(o,l,i,n,e),s=serializeData(o,l,i,n,e,a);return t=null==s?void 0:s.accountData,u=null==s?void 0:s.charactersData,console.info("data",{account:t,characters:u}),console.info("%cParsed successfully","color: green"),{account:t,characters:u}}catch(o){console.error("Error while parsing data",o),void 0!==window.gtag&&window.gtag("event","error",{event_category:"error",event_label:"engagement",value:JSON.stringify(o)})}},serializeData=(o,l,i,d,v,M)=>{var U,W,X,Y,J,$,oo,ol,oi,on,oe,ot,ou,oa;let os=(null==M?void 0:M.accountData)||{},od=(null==M?void 0:M.charactersData)||[],ov=(0,n.ql)(o,l);os.companions=(0,T.Rf)(i),os.bundles=(0,T.kU)(o),os.serverVars=v,os.accountOptions=(null==o?void 0:o.OptionsListAccount)||(0,r.tryToParse)(null==o?void 0:o.OptLacc),os.bribes=(0,m.t)(o),os.timeAway=(0,r.tryToParse)(null==o?void 0:o.TimeAway)||(null==o?void 0:o.TimeAway),os.alchemy=(0,p.p4)(o,os,ov),os.equippedBubbles=(0,p.Tw)(o,null===(U=os.alchemy)||void 0===U?void 0:U.bubbles,ov),os.storage=(0,h.cF)(o),os.saltLick=(0,k.U)(o,os.storage),os.dungeons=(0,S.MR)(o,os.accountOptions),os.prayers=(0,_.hn)(o,os.storage),os.cards=(0,e.vm)(o,os),os.gemShopPurchases=getGemShop(o),os.guild=(0,P.Sk)(o,d),os.currencies=(0,T.DE)(os,o),os.stamps=(0,u.t2)(o,os),os.obols=(0,t.dR)(o),os.looty=(0,T.NQ)(o);let{tasks:or,tasksDescriptions:oc,meritsDescriptions:op}=getTasks(o);os.tasks=or,os.tasksDescriptions=oc,os.meritsDescriptions=op,os.breeding=(0,N.N5)(o,os),os.cooking=(0,w.Tt)(o,os),os.divinity=(0,D.y0)(o,ov,os),os.postOfficeShipments=(0,H.NU)(o),os.sneaking=(0,V.JL)(o,v,ov,os),os.farming=(0,z.UA)(o,os),os.summoning=(0,K.a)(o,os,ov),os.lab=(0,B.Cs)(o,ov,os),os.towers=(0,O.d4)(o),os.shrines=(0,s.Xz)(o,os),os.statues=(0,a.Xl)(o,ov),os.achievements=(0,b.jy)(o),os.lab.connectedPlayers=null===(W=os.lab.connectedPlayers)||void 0===W?void 0:W.map(o=>{var l,i;return{...o,isDivinityConnected:(null==os?void 0:null===(i=os.divinity)||void 0===i?void 0:null===(l=i.linkedDeities)||void 0===l?void 0:l[null==o?void 0:o.playerId])===4||(0,B.p8)(o,4)}}),os.rift=(0,G.wE)(o),os.arcade=(0,x.z)(o,os,v);let oh=(0,B.c9)(os.lab.labBonuses,7);os.stamps=(0,u.Md)(os.stamps,oh),os.alchemy.vials=(0,p.B9)(os),os.equinox=(0,Z.B)(o,os);let om=(0,B.c9)(os.lab.labBonuses,8),og=(0,B.pc)(os.lab.jewels,16,om);os.cooking.meals=(0,w.wR)(os.cooking.meals,og);let o_=null==ov?void 0:ov.map(o=>{var l,i,n;let e=null==o?void 0:o.PersonalValuesMap;return{level:null!==(i=null==e?void 0:null===(l=e.StatList)||void 0===l?void 0:l[4])&&void 0!==i?i:0,class:null!==(n=null===y.classes||void 0===y.classes?void 0:y.classes[null==o?void 0:o.CharacterClass])&&void 0!==n?n:""}});os.starSigns=(0,g.kz)(o);let{constellations:oy,rawConstellationsDone:oM}=(0,g.tp)(o);os.constellations=oy,os.rawConstellationsDone=oM,os.charactersLevels=o_,od=ov.map(l=>(0,n.SD)(l,o_,{...os},o)),os.farming=(0,z.nT)(od,os),os.lab=(0,B.Cs)(o,ov,os,od),os.alchemy.vials=(0,p.B9)(os),X=[1,2,3,4,5,6],os.finishedWorlds=void 0===X?void 0:X.reduce((o,l)=>({...o,["World".concat(l)]:!!(0,L.jZ)(od,l)}),{}),os.statues=(0,a.hE)(os,od);let oO=null==od?void 0:od.map(o=>{let{name:l,skillsInfo:i}=o;return{name:l,skillsInfo:i}});os.totalSkillsLevels=(0,T.B4)(oO),os.construction=(0,O.VR)(o,os),os.atoms=(0,I.nK)(o,os);let ob=(0,R.yN)(o,od,os);os.alchemy.p2w.sigils=(0,p.RG)(os.alchemy.p2w.sigils,ob),os.alchemy.liquidCauldrons=(0,p.jd)(os),os.gaming=(0,A.gm)(o,od,os,v),os.atoms=(0,I.nK)(o,os),os.sailing=(0,R.x0)(o,ob,od,os,v,o_);let of=(0,T.tS)(oO);od=od.map(o=>({...o,skillsInfo:of[null==o?void 0:o.name]})),os.accountLevel=null==od?void 0:od.reduce((o,l)=>{let{level:i}=l;return o+i},0),os.highscores=getHighscores(o,os),os.shopStock=(0,c.u6)(o),os.forge=getForge(o,os),os.refinery=(0,f.wt)(o,os.storage,os.tasks),os.printer=(0,F.h)(o,od,os),os.traps=(0,E.aQ)(ov),os.quests=(0,L.zz)(od),os.islands=(0,j.P)(os),os.deathNote=(0,C.WA)(o,od,os),os.killroy=(0,T.VS)(o,od,os,v),os.anvil=od.map(o=>{let{anvil:l}=o;return l});let ox=parseFloat(null==o?void 0:o.MoneyBANK),oT=null==od?void 0:od.reduce((o,l)=>o+parseFloat((null==l?void 0:l.money)?null==l?void 0:l.money:0),0),ok=ox+oT;os.talentPoints=null==o?void 0:o.CYTalentPoints,os.currencies.rawMoney=ok,os.currencies.money=(0,r.getCoinsArray)(ok),os.currencies.gems=null==o?void 0:o.GemsOwned,os.currencies.KeysAll=(0,T.Ix)(null==os?void 0:null===(Y=os.currencies)||void 0===Y?void 0:Y.KeysAll,od,os),os.currencies.ColosseumTickets=(0,T.cg)(null==os?void 0:null===(J=os.currencies)||void 0===J?void 0:J.ColosseumTickets,od,os),os.currencies.penPals=null!==(oa=null===($=os.accountOptions)||void 0===$?void 0:$[99])&&void 0!==oa?oa:0,os.cooking.kitchens=(0,w.vu)(o,od,os),os.libraryTimes=(0,T.W9)(o,od,os),os.breeding=(0,N.XM)(o,os),os.divinity&&(os.divinity.deities=(0,D.wl)(os)),od=null==od?void 0:od.map(o=>{let{carryCapBags:l}=o;return o.carryCapBags=null==l?void 0:l.map(l=>{let i=(0,T.HA)(null==l?void 0:l.Class),n=(0,T.z3)(i,o,os);return{...l,capacityPerSlot:null==n?void 0:n.value,breakdown:null==n?void 0:n.breakdown,maxCapacity:(null==n?void 0:n.value)*(null==o?void 0:o.inventorySlots)}}),o.constructionSpeed=(0,n.x6)(o,os),o.constructionExpPerHour=(0,n.NA)(o,os),o}),os.stamps=(0,u.bW)(os,od),os.shrinesExpBonus=(0,s.n)(od,os),os.msaTotalizer=(0,q.CU)(os);let oS=Math.floor((null==os?void 0:null===(oi=os.deathNote)||void 0===oi?void 0:null===(ol=oi[0])||void 0===ol?void 0:null===(oo=ol.mobs)||void 0===oo?void 0:oo[0].kills)/1e6),ow=(null===(oe=os.lab.labBonuses)||void 0===oe?void 0:null===(on=oe[13])||void 0===on?void 0:on.active)?1.5*oS:0,oB=oS*(null===(ou=os.lab.labBonuses)||void 0===ou?void 0:null===(ot=ou[9])||void 0===ot?void 0:ot.bonusOn);return os.lab.labBonuses=(0,B.ww)(os.lab.labBonuses,oB+ow,9),os.totems=(0,q.Ew)(o),os.tome=getTome(o,os,od,v),os.owl=(0,Q.Y)(o,os),os.kangaroo=getKangaroo(o,os),{accountData:os,charactersData:od}}},25081:function(o,l,i){i.d(l,{gN:function(){return getRawShopItems},u6:function(){return getShops}});var n=i(30925),e=i(70473);let getShops=o=>{let l=(null==o?void 0:o.ShopStock)||(0,n.tryToParse)(null==o?void 0:o.ShopStock);return parseShops(l)},parseShops=o=>o.reduce((o,l,i)=>{var n;let u=null===(n=Object.values(l))||void 0===n?void 0:n.reduce((o,l,n)=>{var u,a,s,d;let v=null==t?void 0:null===(u=t[i])||void 0===u?void 0:u[n],r=parseInt(l)||0;return r>0&&v?[...o,{amount:l,...null===(s=e.shops[i])||void 0===s?void 0:null===(a=s.items)||void 0===a?void 0:a[n],shopName:null===(d=e.shops[i])||void 0===d?void 0:d.name}]:o},[]);return[...o,u]},[]),getRawShopItems=()=>{var o;return null===(o=Object.entries(e.shops))||void 0===o?void 0:o.reduce((o,l)=>{var i;let[n,{items:e}]=l,u=null==e?void 0:null===(i=e.filter((o,l)=>{var i;return null==t?void 0:null===(i=t[n])||void 0===i?void 0:i[l]}))||void 0===i?void 0:i.map(o=>{let{rawName:l}=o;return l});return[...o,...u]},[]).toSimpleObject()},t={0:[3,8,13,14,17,23].toSimpleObject(),1:[2,8,9,13].toSimpleObject(),2:[0,1,2,3,4,5,6,7,8,9,10,18,19].toSimpleObject(),3:[12].toSimpleObject(),4:[0,1,2,8,9,10,19,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject(),7:[0,1,2,3,4,5,6,7].toSimpleObject()}},70508:function(o,l,i){i.d(l,{aQ:function(){return getTraps},oH:function(){return getTrapsBonuses},q6:function(){return calcTotalCritters}});var n=i(70473),e=i(88054),t=i(30796);let getTraps=o=>parseTraps(o),parseTraps=o=>o.map(o=>{let l=(null==o?void 0:o.PldTraps)||[];return l.reduce((o,l)=>{var i;let[e,,t,u,a,s,d,v]=l;if(-1===e||"-1"===e)return o;let r=n.traps[s].find(o=>o.trapTime===d),c=d-t;return u?[...o,{name:null===(i=n.items[u])||void 0===i?void 0:i.displayName,rawName:u,crittersQuantity:a,trapType:s,trapExp:v,timeLeft:new Date().getTime()+1e3*c,trapData:r}]:o},[])}),calcTotalCritters=(o,l)=>{var i;let{critter:n,exp:e}=l;return null==o?void 0:null===(i=o.traps)||void 0===i?void 0:i.reduce((o,l)=>(l.reduce((l,i)=>{var t,u,a,s;let{crittersQuantity:d,trapExp:v,rawName:r}=i;o={...o,[r]:{critters:(null!==(a=null==o?void 0:null===(t=o[r])||void 0===t?void 0:t.critters)&&void 0!==a?a:0)+d*n,exp:(null!==(s=null==o?void 0:null===(u=o[r])||void 0===u?void 0:u.exp)&&void 0!==s?s:0)+v*e}}},{}),o),{})},getTrapsBonuses=(o,l)=>{let i=null==l?void 0:l.map((i,n)=>calcCrittersBonus({currentCharacterIndex:n,account:o,characters:l,isExp:!1})),n=null==l?void 0:l.map((i,n)=>calcCrittersBonus({currentCharacterIndex:n,account:o,characters:l,isExp:!0}));return{max:{critter:Math.max(...i||[1]),exp:Math.max(...n||[1])},min:{critter:Math.min(...i||[1]),exp:Math.min(...n||[1])}}},calcCrittersBonus=o=>{var l,i,n;let{currentCharacterIndex:u,account:a,characters:s,isExp:d}=o,v=d?0:(0,e.iu)(null==a?void 0:null===(l=a.alchemy)||void 0===l?void 0:l.vials,"TrapOvision");if((0,t.gW)(null==s?void 0:null===(i=s[u])||void 0===i?void 0:i.class,"Hunter")){let o=(0,t.L1)(s,2,"Hunter","EAGLE_EYE",d);v+=d?Math.max(40,Math.min((0,t._X)(null==o?void 0:o.talents,2,"EAGLE_EYE",d),99)):Math.max(50,(0,t._X)(null==o?void 0:o.talents,2,"EAGLE_EYE"))}else{let o=0;for(let l=0;l<(null==s?void 0:s.length);l++)if((0,t.gW)(null==s?void 0:null===(n=s[l])||void 0===n?void 0:n.class,"Hunter")){let l=(0,t.L1)(s,2,"Hunter","EAGLE_EYE",d,!0);o=Math.max(o,(0,t._X)(null==l?void 0:l.talents,2,"EAGLE_EYE",d,!0))}else o=Math.max(o,d?40:50);v+=o}return isNaN(v)?1:v/100}}}]);