"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7100],{17100:function(e,o,l){l.d(o,{parseData:function(){return parseData}});var t=l(56552),i=l(54685),n=l(74805),a=l(1972),s=l(74861),r=l(64569);let u={0:"dewdrop",1:"sandstone",2:"chillsnap",3:"astro"},d={0:"chopping",1:"fishing",2:"catching",3:"mining"},getHighscores=(e,o)=>{var l,t,i;let n=(null==e?void 0:null===(l=e.FamilyValuesMap)||void 0===l?void 0:l.ColosseumHighscores)||(null==e?void 0:e.FamValColosseumHighscores),a=(null==e?void 0:null===(t=e.FamilyValuesMap)||void 0===t?void 0:t.MinigameHiscores)||(null==e?void 0:e.FamValMinigameHiscores);return{coloHighscores:parseColosseum(n),minigameHighscores:parseMinigame(a).concat([{name:"pen pals",score:(null==o?void 0:null===(i=o.accountOptions)||void 0===i?void 0:i[99])||0}])}},parseColosseum=e=>e.slice(1).filter((e,o)=>u[o]).map((e,o)=>({name:u[o],score:parseFloat(e)})),parseMinigame=e=>e.filter((e,o)=>d[o]).map((e,o)=>({name:d[o],score:e}));var c=l(30925);let getGemShop=e=>{let o=(0,c.tryToParse)(null==e?void 0:e.GemItemsPurchased)||(null==e?void 0:e.GemItemsPurchased);return parseGemShop(o)},parseGemShop=e=>e;var v=l(25081),_=l(88054),m=l(23515),p=l(29129),h=l(96707),g=l(15815),f=l(70473);let getForge=(e,o)=>{let l=null==e?void 0:e.ForgeItemOrder,t=(null==e?void 0:e.ForgeItemQuantity)||(null==e?void 0:e.ForgeItemQty),i=(null==e?void 0:e.FurnaceLevels)||(null==e?void 0:e.ForgeLV);return parseForge(l,t,i,o)},y=[{name:"New Forge Slot",maxLevel:16,description:"extra slots to smelt ores",costMulti:void 0},{name:"Ore Capacity Boost",maxLevel:50,description:"Increases max ores per slot",costMulti:1.41},{name:"Forge Speed",maxLevel:90,description:"Ores are turned into bars faster",costMulti:1.2},{name:"Forge EXP Gain",maxLevel:85,description:"Increased EXP gain from using the forge",costMulti:1.21},{name:"Bar Bonanza",maxLevel:75,description:"Increased chance to make an extra bar",costMulti:1.25},{name:"Puff Puff Go",maxLevel:60,description:"Increased chance for a card drop while afk",costMulti:1.33}],parseForge=(e,o,l,t)=>{var i,n,a;let s=null==y?void 0:y.map((e,o)=>({...e,level:l[o]})),r=null!==(n=null==t?void 0:null===(i=t.gemShopPurchases)||void 0===i?void 0:i.find((e,o)=>104===o))&&void 0!==n?n:0,u=[],d=0;for(let l=0;l<(null==e?void 0:e.length);l+=3){let[t,i,n]=null==e?void 0:e.slice(l,l+3),[c,v,_]=o.slice(l,l+3),m=null===f.items||void 0===f.items?void 0:f.items[i],p=null===f.items||void 0===f.items?void 0:f.items[t],h=d<r,g=Math.round(100+5*(null==s?void 0:null===(a=s[2])||void 0===a?void 0:a.level)),y=getSpeed(g,m,h),b=Math.round(c/(null==p?void 0:p.Amount))*((null==p?void 0:p.Cooldown)/(4*y));u=[...u,{isBrimestone:h,ore:{...p,rawName:t,quantity:c,timeTillEmpty:1e3*b},barrel:{...m,rawName:i,quantity:v},bar:{...null===f.items||void 0===f.items?void 0:f.items[n],rawName:n,quantity:_}}],d++}return{list:u,upgrades:s}},getSpeed=(e,o,l)=>{let t=Math.round(e)/100;return t*=(null==o?void 0:o.Effect)==="SpeedForge"?null==o?void 0:o.Amount:1,l&&(t*=1.5),.25*t};var b=l(47212),S=l(9339),k=l(72664);let getTasks=e=>{var o;let l=(null==e?void 0:e.Tasks)||[(0,c.tryToParse)(null==e?void 0:e.TaskZZ0),(0,c.tryToParse)(null==e?void 0:e.TaskZZ1),(0,c.tryToParse)(null==e?void 0:e.TaskZZ2),(0,c.tryToParse)(null==e?void 0:e.TaskZZ3),(0,c.tryToParse)(null==e?void 0:e.TaskZZ4),(0,c.tryToParse)(null==e?void 0:e.TaskZZ5)],t=null===f.tasks||void 0===f.tasks?void 0:null===(o=f.tasks.map((e,o)=>null==e?void 0:e.map((e,t)=>{var i,n,a,s,r,u;let d=null==l?void 0:null===(n=l[0])||void 0===n?void 0:null===(i=n[o])||void 0===i?void 0:i[t],c=null==l?void 0:null===(s=l[1])||void 0===s?void 0:null===(a=s[o])||void 0===a?void 0:a[t],v=e;if(8===t){let e=null==l?void 0:null===(r=l[5])||void 0===r?void 0:r[o];v=null===f.tasks||void 0===f.tasks?void 0:null===(u=f.tasks[o])||void 0===u?void 0:u[8+e]}return{...v,stat:d,level:c,meritReward:Math.round(1+Math.floor(c/5))}})))||void 0===o?void 0:o.map(e=>null==e?void 0:e.slice(0,9)),i=null===f.merits||void 0===f.merits?void 0:f.merits.map((e,o)=>null==e?void 0:e.map((e,t)=>{var i,n;let a=null==l?void 0:null===(n=l[2])||void 0===n?void 0:null===(i=n[o])||void 0===i?void 0:i[t];return{...e,level:a}}));return{tasks:parseTasks(l),tasksDescriptions:t,meritsDescriptions:i}},parseTasks=e=>e;var M=l(71345),w=l(10924),T=l(32387),C=l(11028),O=l(89260),G=l(15893),E=l(64605),x=l(73592),P=l(70508),B=l(19225),D=l(74629),I=l(5432),A=l(19834),F=l(16727),L=l(20385),N=l(95331),U=l(67896),H=l(4056);let j=["Get_as_much_total_stats_as_possible,_STR_AGI_WIS_and_LUK_combined.","Get_as_much_STR_stat_as_you_can.","Get_as_much_AGI_stat_as_you_can.","Get_as_much_WIS_stat_as_you_can.","Get_as_much_LUK_stat_as_you_can.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_beginner","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_warrior.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_archer.","Get_the_highest_DPS_(number_of_digits)_you_can;_but_on_a_mage.","Get_the_highest_Accuracy_stat_you_can.","Get_the_highest_Defence_stat._Tank_mains;_it's_your_moment!","Get_the_highest_Movement_Speed_you_can.","Get_the_highest_Critical_Chance_%_you_can.","Spawn_as_many_Giant_Mobs_this_week_as_you_can.","Get_the_highest_Max_HP_as_possible.","Get_the_highest_Max_MP_as_possible.","Get_as_many_individual_hits_on_the_DPS_Dummy_as_you_can_within_the_timer.","Get_as_much_Mining_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Choppin_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Fishing_Efficiency_(number_of_digits)_as_you_can.","Get_as_much_Catching_Efficiency_(number_of_digits)_as_you_can."],W=[{effect:"+{,Base_STR",divider:12},{effect:"+{,Base_AGI",divider:12},{effect:"+{,Base_WIS",divider:12},{effect:"+{,Base_LUK",divider:10},{effect:"+{%,Total_DMG",divider:3},{effect:"+{%,Class_EXP",divider:4},{effect:"+{%,Skill_Eff",divider:5}],R=[{effect:"1_in_100000_chance_for_Trophy_per_hr_of_Nothing_AFK",cost:24},{effect:"1.25x_Dungeon_Credits_and_Flurbos_gained",cost:200},{effect:"-30%_Kitchen_Upgrade_Costs",cost:750},{effect:"1.20x_Chance_to_find_Sailing_Artifacts",cost:2500},{effect:"Dirty_Shovel_digs_up_+25%_more_Gold_Nuggets",cost:1e4},{effect:"+100_Star_Talent_Pts",cost:2e4},{effect:"World_6_Bonus..._I_wonder_what_it_will_be...",cost:4e4},{effect:"World_7_Bonus..._I_wonder_what_it_will_be...",cost:6e4}],getIslands=e=>{var o,l,t,i,n,a,s,r,u,d,v,_;let m=null===(o=(null==e?void 0:null===(l=e.accountOptions)||void 0===l?void 0:l[169])||"")||void 0===o?void 0:o.split(""),h=null==e?void 0:null===(i=e.accountOptions)||void 0===i?void 0:null===(t=i[169])||void 0===t?void 0:t.length,g={0:0,1:8,2:32,3:80,4:200,5:500},f={0:0,1:15,2:45,3:100,4:200,5:500},y=[{name:"Trash",description:"Trade_garbage_that_washs_up_each_day_for_items",preUnlockCost:4,baseCost:10},{name:"Rando",description:"Guaranteed_Random_Event_once_a_week",preUnlockCost:12,baseCost:12},{name:"Crystal",description:"Fight_daily_giant_crystal_mobs_that_drop_candy",preUnlockCost:20,baseCost:15},{name:"Seasalt",description:"Catch_legendary_fish_for_crafting_World_6_equips",preUnlockCost:28,baseCost:50},{name:"Shimmer",description:"Do_Weekly_Challenges_for_Shimmer_Upgrades",preUnlockCost:40,baseCost:25},{name:"Fractal",description:"Dump_your_time_candy_here_for..._nothing...?",preUnlockCost:52,baseCost:70}].map((o,l)=>({...o,unlocked:(null==m?void 0:m.indexOf(null===c.number2letter||void 0===c.number2letter?void 0:c.number2letter[l]))!==-1,cost:0===h?o.preUnlockCost+(null==g?void 0:g[h]):o.baseCost+(null==f?void 0:f[h]),...extraIslandDetails(e,l)})),b=null==e?void 0:null===(n=e.accountOptions)||void 0===n?void 0:n[162],S=(0,p.k)(null==e?void 0:e.bribes,"Bottle_Service"),k=(0,w.U7)(null==e?void 0:e.bundles,"bun_p")?30:0,M=null==e?void 0:null===(u=e.quests)||void 0===u?void 0:null===(r=u["Yum-Yum_Desert"])||void 0===r?void 0:null===(s=r.find(e=>{let{name:o}=e;return"Omar_Da_Ogar"===o}))||void 0===s?void 0:null===(a=s.npcQuests)||void 0===a?void 0:a.reduce((e,o)=>{let{completed:l}=o;return e+((null==l?void 0:l.length)>0?1:0)},0),T=null==e?void 0:null===(d=e.accountOptions)||void 0===d?void 0:d[164],C=null===(v=e.accountOptions)||void 0===v?void 0:v[160],O=null===(_=e.accountOptions)||void 0===_?void 0:_[163];return{islandsUnlocked:h,bottles:b,bottlesPerDay:Math.floor(4*(1+(S+(10*T+10*M+k))/100)),trashPerDay:Math.round(3.75*Math.floor(1.01+(.5+(.01+O/5)))),trashPerDaysAfk:0===C?0:Math.round(3*(14>C?.25+C:Math.pow(8*C,.5))*Math.floor(1.01+(.5+(Math.min(C,70)/100+O/5)))),numberOfDaysAfk:C,list:y}},extraIslandDetails=(e,o)=>{var l,t,i,n,a,s,r,u,d,v,_;let m={};if(0===o){let o=null==e?void 0:null===(l=e.accountOptions)||void 0===l?void 0:l[161],n=["data/StampB47","data/StampB32","data/StampA38","data/StampA39","etc/Trash_Currency","etc/Bribe","data/Island1","data/TalentBook1","data/EquipmentNametag6b"],a=["Skelefish Stamp"," Amplestample Stamp","Golden Sixes Stamp","Stat Wallstreet Stamp","+20% Garbage Gain","Unlock New Bribe Set","10% Message Bottle Gain","Filthy Damage Special Talent Book","Trash Tuna Nametag"],s=[20,40,80,300,7*Math.pow(1.4,null==e?void 0:null===(t=e.accountOptions)||void 0===t?void 0:t[163]),135,25*Math.pow(1.5,null==e?void 0:null===(i=e.accountOptions)||void 0===i?void 0:i[164]),450,1500].map((o,l)=>{var t,i;let s=4===l?null==e?void 0:null===(t=e.accountOptions)||void 0===t?void 0:t[163]:6===l?null==e?void 0:null===(i=e.accountOptions)||void 0===i?void 0:i[164]:null;return{cost:Math.round(o),effect:null==n?void 0:n[l],upgrades:s,name:null==a?void 0:a[l]}});m={trash:o,learnMore:!0,shop:s}}else if(1===o)m={learnMore:!0,shop:[{effect:"5% Loot (".concat(null==e?void 0:null===(n=e.accountOptions)||void 0===n?void 0:n[166],")"),cost:Math.round(10*Math.pow(1.5,null==e?void 0:null===(a=e.accountOptions)||void 0===a?void 0:a[166]))},{effect:"3% Double boss (".concat(null==e?void 0:null===(s=e.accountOptions)||void 0===s?void 0:s[167],")"),cost:Math.round(6*Math.pow(1.4,null==e?void 0:null===(r=e.accountOptions)||void 0===r?void 0:r[167]))},{effect:"Star book",cost:200}]};else if(4===o){let o=null==e?void 0:null===(u=e.accountOptions)||void 0===u?void 0:u[183],l=(0,c.notateNumber)(null==e?void 0:null===(d=e.accountOptions)||void 0===d?void 0:d[172]),t=null==e?void 0:null===(v=e.accountOptions)||void 0===v?void 0:v[173],i=null==W?void 0:W.map((o,l)=>{var t,i;let{effect:n,divider:a}=o,s=null==e?void 0:null===(t=e.accountOptions)||void 0===t?void 0:t[174+l];return{effect:null==n?void 0:null===(i=n.replace("{",s))||void 0===i?void 0:i.replace(","," "),bonus:s,cost:1+Math.floor(s/a)}});m={shop:i,currentTrial:j[o],bestDpsEver:l,shimmerCurrency:t,learnMore:!0}}else if(5===o){let o=null==e?void 0:null===(_=e.accountOptions)||void 0===_?void 0:_[184];m={hoursAfk:o,shop:null==R?void 0:R.map(e=>({...e,unlocked:o>(null==e?void 0:e.cost)})),learnMore:!0}}return m};var Z=l(72973),q=l(15265),K=l(8616);let parseData=(e,o,l,t,i)=>{let n,a;try{console.info("%cStart Parsing","color:orange");let s=serializeData(e,o,l,t,i);return n=null==s?void 0:s.accountData,a=null==s?void 0:s.charactersData,console.info("data",{account:n,characters:a}),console.info("%cParsed successfully","color: green"),{account:n,characters:a}}catch(e){console.error("Error while parsing data",e),void 0!==window.gtag&&window.gtag("event","error",{event_category:"error",event_label:"engagement",value:JSON.stringify(e)})}},serializeData=(e,o,l,u,d)=>{var y,j,W,R,z,X,V,Y,Q,J,$,ee,eo,el;let et={},ei=[],en=(0,t.ql)(e,o);et.companions=(0,w.Rf)(l),et.bundles=(0,w.kU)(e),et.serverVars=d,et.accountOptions=(null==e?void 0:e.OptionsListAccount)||(0,c.tryToParse)(null==e?void 0:e.OptLacc),et.bribes=(0,p.t)(e),et.timeAway=(0,c.tryToParse)(null==e?void 0:e.TimeAway)||(null==e?void 0:e.TimeAway),et.alchemy=(0,_.p4)(e,et,en),et.equippedBubbles=(0,_.Tw)(e,null===(y=et.alchemy)||void 0===y?void 0:y.bubbles,en),et.storage=(0,m.cF)(e),et.saltLick=(0,T.U)(e,et.storage),et.dungeons=(0,C.MR)(e,et.accountOptions),et.prayers=(0,g.hn)(e,et.storage),et.cards=(0,i.vm)(e,et),et.gemShopPurchases=getGemShop(e),et.guild=(0,E.Sk)(e,u),et.currencies=(0,w.DE)(e),et.stamps=(0,a.t2)(e,et),et.obols=(0,n.dR)(e),et.looty=(0,w.NQ)(e);let{tasks:ea,tasksDescriptions:es,meritsDescriptions:er}=getTasks(e);et.tasks=ea,et.tasksDescriptions=es,et.meritsDescriptions=er,et.breeding=(0,I.N5)(e,et),et.cooking=(0,O.Tt)(e,et),et.divinity=(0,A.y0)(e,en),et.postOfficeShipments=(0,H.NU)(e),et.sneaking=(0,K.JL)(e,d,en),et.lab=(0,G.Cs)(e,en,et),et.towers=(0,b.d4)(e),et.shrines=(0,r.Xz)(e,et),et.statues=(0,s.Xl)(e,en),et.achievements=(0,S.j)(e),et.lab.connectedPlayers=null===(j=et.lab.connectedPlayers)||void 0===j?void 0:j.map(e=>{var o,l;return{...e,isDivinityConnected:(null==et?void 0:null===(l=et.divinity)||void 0===l?void 0:null===(o=l.linkedDeities)||void 0===o?void 0:o[null==e?void 0:e.playerId])===4||(0,G.p8)(e,4)}}),et.rift=(0,U.wE)(e),et.arcade=(0,M.z)(e,et,d);let eu=(0,G.c9)(et.lab.labBonuses,7);et.stamps=(0,a.Md)(et.stamps,eu),et.alchemy.vials=(0,_.B9)(et),et.equinox=(0,Z.B)(e,et);let ed=(0,G.c9)(et.lab.labBonuses,8),ec=(0,G.pc)(et.lab.jewels,16,ed);et.cooking.meals=(0,O.wR)(et.cooking.meals,ec);let ev=null==en?void 0:en.map(e=>{var o,l,t;let i=null==e?void 0:e.PersonalValuesMap;return{level:null!==(l=null==i?void 0:null===(o=i.StatList)||void 0===o?void 0:o[4])&&void 0!==l?l:0,class:null!==(t=null===f.classes||void 0===f.classes?void 0:f.classes[null==e?void 0:e.CharacterClass])&&void 0!==t?t:""}});et.starSigns=(0,h.kz)(e),et.constellations=(0,h.tp)(e),et.charactersLevels=ev,ei=en.map(o=>(0,t.SD)(o,ev,{...et},e)),et.lab=(0,G.Cs)(e,en,et,ei),et.alchemy.vials=(0,_.B9)(et),W=[1,2,3,4,5],et.finishedWorlds=void 0===W?void 0:W.reduce((e,o)=>({...e,["World".concat(o)]:(0,B.jZ)(ei,o)}),{}),et.statues=(0,s.hE)(et.statues,ei);let e_=null==ei?void 0:ei.map(e=>{let{name:o,skillsInfo:l}=e;return{name:o,skillsInfo:l}});et.totalSkillsLevels=(0,w.B4)(e_),et.construction=(0,b.VR)(e,et),et.atoms=(0,N.nK)(e,et);let em=(0,F.yN)(e,ei,et);et.alchemy.p2w.sigils=(0,_.RG)(et.alchemy.p2w.sigils,em),et.alchemy.liquidCauldrons=(0,_.jd)(et),et.gaming=(0,L.gm)(e,ei,et,d),et.atoms=(0,N.nK)(e,et),et.sailing=(0,F.x0)(e,em,ei,et,d,ev);let ep=(0,w.tS)(e_);ei=ei.map(e=>({...e,skillsInfo:ep[null==e?void 0:e.name]})),et.highscores=getHighscores(e,et),et.shopStock=(0,v.u6)(e),et.forge=getForge(e,et),et.refinery=(0,k.wt)(e,et.storage,et.tasks),et.printer=(0,x.h)(e,ei,et),et.traps=(0,P.aQ)(en),et.quests=(0,B.zz)(ei),et.islands=getIslands(et),et.deathNote=(0,D.WA)(ei,et),et.anvil=ei.map(e=>{let{anvil:o}=e;return o});let eh=parseFloat(null==e?void 0:e.MoneyBANK),eg=null==ei?void 0:ei.reduce((e,o)=>e+parseFloat(null==o?void 0:o.money),0),ef=eh+eg;et.currencies.rawMoney=ef,et.currencies.money=(0,c.getCoinsArray)(ef),et.currencies.gems=null==e?void 0:e.GemsOwned,et.currencies.KeysAll=(0,w.Ix)(null==et?void 0:null===(R=et.currencies)||void 0===R?void 0:R.KeysAll,ei,et),et.currencies.ColosseumTickets=(0,w.cg)(null==et?void 0:null===(z=et.currencies)||void 0===z?void 0:z.ColosseumTickets,ei,et),et.currencies.penPals=null!==(el=null===(X=et.accountOptions)||void 0===X?void 0:X[99])&&void 0!==el?el:0,et.cooking.kitchens=(0,O.vu)(e,ei,et),et.libraryTimes=(0,w.W9)(e,ei,et),et.breeding=(0,I.XM)(e,et),et.divinity.deities=(0,A.wl)(et),ei=null==ei?void 0:ei.map(e=>{let{carryCapBags:o}=e;return e.carryCapBags=null==o?void 0:o.map(o=>{let l=(0,w.HA)(null==o?void 0:o.Class),t=(0,w.z3)(l,e,et);return{...o,capacityPerSlot:null==t?void 0:t.value,breakdown:null==t?void 0:t.breakdown,maxCapacity:(null==t?void 0:t.value)*(null==e?void 0:e.inventorySlots)}}),e.constructionSpeed=(0,t.x6)(e,et),e.constructionExpPerHour=(0,t.NA)(e,et),e}),et.stamps=(0,a.bW)(et,ei),et.shrinesExpBonus=(0,r.n)(ei,et);let ey=Math.floor((null==et?void 0:null===(Q=et.deathNote)||void 0===Q?void 0:null===(Y=Q[0])||void 0===Y?void 0:null===(V=Y.mobs)||void 0===V?void 0:V[0].kills)/1e6),eb=(null===($=et.lab.labBonuses)||void 0===$?void 0:null===(J=$[13])||void 0===J?void 0:J.active)?1.5*ey:0,eS=ey*(null===(eo=et.lab.labBonuses)||void 0===eo?void 0:null===(ee=eo[9])||void 0===ee?void 0:ee.bonusOn);return et.lab.labBonuses=(0,G.ww)(et.lab.labBonuses,eS+eb,9),et.totems=(0,q.Ew)(e),{accountData:et,charactersData:ei}}},25081:function(e,o,l){l.d(o,{gN:function(){return getRawShopItems},u6:function(){return getShops}});var t=l(30925),i=l(70473);let getShops=e=>{let o=(null==e?void 0:e.ShopStock)||(0,t.tryToParse)(null==e?void 0:e.ShopStock);return parseShops(o)},parseShops=e=>e.reduce((e,o,l)=>{var t;let a=null===(t=Object.values(o))||void 0===t?void 0:t.reduce((e,o,t)=>{var a,s,r,u;let d=null==n?void 0:null===(a=n[l])||void 0===a?void 0:a[t],c=parseInt(o)||0;return c>0&&d?[...e,{amount:o,...null===(r=i.shops[l])||void 0===r?void 0:null===(s=r.items)||void 0===s?void 0:s[t],shopName:null===(u=i.shops[l])||void 0===u?void 0:u.name}]:e},[]);return[...e,a]},[]),getRawShopItems=()=>{var e;return null===(e=Object.entries(i.shops))||void 0===e?void 0:e.reduce((e,o)=>{var l;let[t,{items:i}]=o,a=null==i?void 0:null===(l=i.filter((e,o)=>{var l;return null==n?void 0:null===(l=n[t])||void 0===l?void 0:l[o]}))||void 0===l?void 0:l.map(e=>{let{rawName:o}=e;return o});return[...e,...a]},[]).toSimpleObject()},n={0:[3,8,13,14,17,23].toSimpleObject(),1:[2,8,9,13].toSimpleObject(),2:[0,1,2,3,4,5,6,7,8,9,10,18,19].toSimpleObject(),3:[12].toSimpleObject(),4:[0,1,2,8,9,10,19,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject(),7:[0,2,3,4,5,6,7].toSimpleObject()}},70508:function(e,o,l){l.d(o,{aQ:function(){return getTraps},oH:function(){return getTrapsBonuses},q6:function(){return calcTotalCritters}});var t=l(70473),i=l(88054),n=l(30796);let getTraps=e=>parseTraps(e),parseTraps=e=>e.map(e=>{let o=(null==e?void 0:e.PldTraps)||[];return o.reduce((e,o)=>{var l;let[i,,n,a,s,r,u,d]=o;if(-1===i||"-1"===i)return e;let c=t.traps[r].find(e=>e.trapTime===u),v=u-n;return a?[...e,{name:null===(l=t.items[a])||void 0===l?void 0:l.displayName,rawName:a,crittersQuantity:s,trapType:r,trapExp:d,timeLeft:new Date().getTime()+1e3*v,trapData:c}]:e},[])}),calcTotalCritters=(e,o)=>{var l;let{critter:t,exp:i}=o;return null==e?void 0:null===(l=e.traps)||void 0===l?void 0:l.reduce((e,o)=>(o.reduce((o,l)=>{var n,a,s,r;let{crittersQuantity:u,trapExp:d,rawName:c}=l;e={...e,[c]:{critters:(null!==(s=null==e?void 0:null===(n=e[c])||void 0===n?void 0:n.critters)&&void 0!==s?s:0)+u*t,exp:(null!==(r=null==e?void 0:null===(a=e[c])||void 0===a?void 0:a.exp)&&void 0!==r?r:0)+d*i}}},{}),e),{})},getTrapsBonuses=(e,o)=>{let l=null==o?void 0:o.map((l,t)=>calcCrittersBonus({currentCharacterIndex:t,account:e,characters:o,isExp:!1})),t=null==o?void 0:o.map((l,t)=>calcCrittersBonus({currentCharacterIndex:t,account:e,characters:o,isExp:!0}));return{max:{critter:Math.max(...l||[1]),exp:Math.max(...t||[1])},min:{critter:Math.min(...l||[1]),exp:Math.min(...t||[1])}}},calcCrittersBonus=e=>{var o,l,t;let{currentCharacterIndex:a,account:s,characters:r,isExp:u}=e,d=u?0:(0,i.iu)(null==s?void 0:null===(o=s.alchemy)||void 0===o?void 0:o.vials,"TrapOvision");if((0,n.gW)(null==r?void 0:null===(l=r[a])||void 0===l?void 0:l.class,"Hunter")){let e=(0,n.L1)(r,2,"Hunter","EAGLE_EYE",u);d+=u?Math.max(40,Math.min((0,n._X)(null==e?void 0:e.talents,2,"EAGLE_EYE",u),99)):Math.max(50,(0,n._X)(null==e?void 0:e.talents,2,"EAGLE_EYE"))}else{let e=0;for(let o=0;o<(null==r?void 0:r.length);o++)if((0,n.gW)(null==r?void 0:null===(t=r[o])||void 0===t?void 0:t.class,"Hunter")){let o=(0,n.L1)(r,2,"Hunter","EAGLE_EYE",u,!0);e=Math.max(e,(0,n._X)(null==o?void 0:o.talents,2,"EAGLE_EYE",u,!0))}else e=Math.max(e,u?40:50);d+=e}return isNaN(d)?1:d/100}}}]);