(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{51075:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(70593)}])},32705:function(e,l,n){"use strict";var i=n(82729),o=n(85893),t=n(51233),d=n(15861),a=n(66092),r=n(61436),s=n(40929);function c(){let e=(0,i._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return c=function(){return e},e}n(67294);let u=n(61599).Z.img(c());l.Z=e=>{let{eventName:l,mapName:n,date:i}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,o.jsx)(u,{src:"".concat(a.prefix,"etc/").concat(l,".png"),alt:""}),(0,o.jsx)(d.Z,{color:null===a.eventsColors||void 0===a.eventsColors?void 0:a.eventsColors[l],children:(0,a.cleanUnderscore)(l)})]}),(0,o.jsx)(d.Z,{children:(0,a.cleanUnderscore)(n)}),(0,r.Z)(i)?(0,s.Z)(i,"dd/MM/yyyy HH:mm:ss"):null]})}},70593:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return eS}});var i=n(85893),o=n(67294),t=n(80782),d=n(98396),a=n(51233),r=n(15861),s=n(87357),c=n(82729),u=n(66242),v=n(44267),h=n(67720),p=n(66092),m=n(61599),x=n(44358),g=n(69690),j=n(76972),f=n(33913),k=n(83524),y=n(67924),b=n(21351),w=n(65455),Z=n(14802),C=n(2127);let S=(e,l)=>{var n;let{talents:i}=l,{postOffice:o,afkTime:t,cooldowns:d,flatTalents:a}=e,r=Math.max(0,(0,k.xV)(o,"Magician_Starterpack",2)),s=(new Date().getTime()-t)/1e3;return d?null===(n=Object.entries(d||{}))||void 0===n?void 0:n.reduce((e,l)=>{var n,o,t,d;let[c,u]=l;if(!Z.RL[c])return e;let v=null==a?void 0:a.find(e=>{let{talentId:l}=e;return parseInt(c)===l}),h=null===(n=Object.entries((null==i?void 0:null===(t=i.talents)||void 0===t?void 0:null===(o=t.props)||void 0===o?void 0:o.value)||{}))||void 0===n?void 0:n.reduce((e,l)=>{var n,i;let[o,t]=l;return{...e,[null===(i=o.camelToTitleCase())||void 0===i?void 0:null===(n=i.replace(/ /g,"_"))||void 0===n?void 0:n.toUpperCase()]:t}},{});if(!v||!(null==h?void 0:h[null==v?void 0:v.name]))return e;let p=(1-r/100)*u-s,m=p<0?p:new Date().getTime()+1e3*p;return(null==i?void 0:null===(d=i.alwaysShowTalents)||void 0===d?void 0:d.checked)||(0,f.Z)(m)?[...e,{name:null==v?void 0:v.name,skillIndex:null==v?void 0:v.skillIndex,cooldown:m}]:e},[]):[]},T=e=>{if((0,Z.gW)(null==e?void 0:e.class,"Maestro")){var l;return null===(l=Object.entries((null==e?void 0:e.skillsInfo)||{}))||void 0===l?void 0:l.reduce((l,n)=>{let[i,o]=n;if((null==o?void 0:o.index)<10&&"character"!==i){let n=(0,Z._X)(null==e?void 0:e.talents,2,"CRYSTAL_COUNTDOWN",null,null,e.addedLevels,!0),t=(0,b.O4)(null==o?void 0:o.index,null==o?void 0:o.level),d=(1-(null==o?void 0:o.expReq)/t)*100;return[...l,{name:i,...o,crystalCountdown:n,reduction:d,ready:d>0}]}return l},[])}},I=(e,l)=>{var n,i,o,t,d,a,r,s,c,u,v,h,p;let m=(0,C.w$)(),x=null==e?void 0:null===(n=e.tools)||void 0===n?void 0:n.slice(0,6),g=[null==e?void 0:null===(o=e.skillsInfo)||void 0===o?void 0:null===(i=o.mining)||void 0===i?void 0:i.level,null==e?void 0:null===(d=e.skillsInfo)||void 0===d?void 0:null===(t=d.chopping)||void 0===t?void 0:t.level,null==e?void 0:null===(r=e.skillsInfo)||void 0===r?void 0:null===(a=r.fishing)||void 0===a?void 0:a.level,null==e?void 0:null===(c=e.skillsInfo)||void 0===c?void 0:null===(s=c.catching)||void 0===s?void 0:s.level,null==e?void 0:null===(v=e.skillsInfo)||void 0===v?void 0:null===(u=v.trapping)||void 0===u?void 0:u.level,null==e?void 0:null===(p=e.skillsInfo)||void 0===p?void 0:null===(h=p.worship)||void 0===h?void 0:h.level];return null==x?void 0:x.reduce((e,l,n)=>{let i=null==g?void 0:g[n],o=null==m?void 0:m[n],t=null==o?void 0:o.findLast(e=>{let{lvReqToEquip:l}=e;return i>=l});return t&&(null==t?void 0:t.displayName)!==(null==l?void 0:l.name)&&e.push(t),e},[])};var O=n(74721),M=n(94217),P=n(6884),W=n(14581),D=n(30176);function N(){let e=(0,c._)(["\n  width: 30px;\n  height: 30px;\n  object-fit: contain;\n"]);return N=function(){return e},e}let U={anvil:(e,l,n,i,o)=>{var t,d,a,r,s,c,u,v,h,p;let m={};if(null==o?void 0:null===(d=o.anvil)||void 0===d?void 0:null===(t=d.missingHammers)||void 0===t?void 0:t.checked){let i=null==n?void 0:null===(u=n.equippedBubbles)||void 0===u?void 0:u.find(e=>{let{bubbleName:l}=e;return"HAMMER_HAMMER"===l}),{production:o}=(0,w.eW)(null==l?void 0:l[null==n?void 0:n.playerId],l,e),t=null==o?void 0:o.filter(e=>{let{hammers:l}=e;return l>0}),d=null==t?void 0:t.reduce((e,l)=>{let{hammers:n}=l;return e+n},0);m.missingHamemrs=(i?3:2)-d}if((null==o?void 0:null===(r=o.anvil)||void 0===r?void 0:null===(a=r.unspentPoints)||void 0===a?void 0:a.checked)&&(m.unspentPoints=null==n?void 0:null===(h=n.anvil)||void 0===h?void 0:null===(v=h.anvilStats)||void 0===v?void 0:v.availablePoints),null==o?void 0:null===(c=o.anvil)||void 0===c?void 0:null===(s=c.anvilOverdue)||void 0===s?void 0:s.checked){let{anvil:i}=o||{},{stats:t,production:d}=(0,w.eW)(null==l?void 0:l[null==n?void 0:n.playerId],l,e),a=null==d?void 0:null===(p=d.filter(e=>{let{hammers:l}=e;return l>0}))||void 0===p?void 0:p.map(e=>{var l;let i=1e3*(0,w.MH)({...e,stats:t,afkTime:null==n?void 0:n.afkTime});return{date:new Date().getTime()+i,name:null===y.items||void 0===y.items?void 0:null===(l=y.items[null==e?void 0:e.rawName])||void 0===l?void 0:l.displayName,rawName:null==e?void 0:e.rawName}});m.anvilOverdue=null==a?void 0:a.map(e=>{let{date:l,name:n,rawName:i}=e,o=new Date(l-1);return{diff:(0,g.Z)(o,new Date),name:n,rawName:i}}).filter(e=>{let{diff:l}=e;return(null==i?void 0:i.showAlertBeforeFull)?l<=60:l<=0})}return m},worship:(e,l,n,i,o)=>{var t,d,a,r,s,c,u,v,h;let p={};if(!(null==e?void 0:null===(t=e.finishedWorlds)||void 0===t?void 0:t.World2))return p;if(null==o?void 0:null===(a=o.worship)||void 0===a?void 0:null===(d=a.unendingEnergy)||void 0===d?void 0:d.checked){let e=new Date().getTime()+((null==n?void 0:n.afkTime)-i);if((0,g.Z)(new Date,new Date(e))>=5){let l=null==n?void 0:null===(c=n.activePrayers)||void 0===c?void 0:c.find(e=>{let{name:l}=e;return"Unending_Energy"===l}),i=(0,j.Z)(new Date,new Date(e));p.unendingEnergy=l&&i>10}}if(null==o?void 0:null===(s=o.worship)||void 0===s?void 0:null===(r=s.chargeOverdue)||void 0===r?void 0:r.checked){let e=5*(null==n?void 0:null===(u=n.worship)||void 0===u?void 0:u.maxCharge)/100;p.chargeOverdue=(null==n?void 0:null===(v=n.worship)||void 0===v?void 0:v.currentCharge)>=(null==n?void 0:null===(h=n.worship)||void 0===h?void 0:h.maxCharge)-e}return p},traps:(e,l,n,i,o)=>{var t,d,a,r,s,c,u,v,h,p,m,x,g,j,k,y,b;let w={};if(!(null==e?void 0:null===(t=e.finishedWorlds)||void 0===t?void 0:t.World2))return w;if(null==o?void 0:null===(a=o.traps)||void 0===a?void 0:null===(d=a.missingTraps)||void 0===d?void 0:d.checked){let l=null==e?void 0:null===(c=e.traps)||void 0===c?void 0:c[null==n?void 0:n.playerId],i=(null==n?void 0:null===(v=n.tools)||void 0===v?void 0:null===(u=v[4])||void 0===u?void 0:u.rawName)!=="Blank"?null==n?void 0:null===(h=n.tools)||void 0===h?void 0:h[4]:null,o=null==e?void 0:null===(g=e.alchemy)||void 0===g?void 0:null===(x=g.bubbles)||void 0===x?void 0:null===(m=x.quicc)||void 0===m?void 0:null===(p=m.find(e=>{let{bubbleName:l}=e;return"CALL_ME_ASH"===l}))||void 0===p?void 0:p.level,t=i?parseInt(null!==(y=null==i?void 0:null===(k=i.rawName)||void 0===k?void 0:k.charAt((null==i?void 0:null===(j=i.rawName)||void 0===j?void 0:j.length)-1))&&void 0!==y?y:0)+(o>0?1:0):null==l?void 0:l.length;w.missingTraps=(null==l?void 0:l.length)<Math.min(t,8)}return(null==o?void 0:null===(s=o.traps)||void 0===s?void 0:null===(r=s.trapsOverdue)||void 0===r?void 0:r.checked)&&(w.trapsOverdue=null==e?void 0:null===(b=e.traps)||void 0===b?void 0:b[null==n?void 0:n.playerId].some(e=>(0,f.Z)(null==e?void 0:e.timeLeft))),w},alchemy:(e,l,n,i,o)=>{var t,d,a,r;let s={};if(null==o?void 0:null===(d=o.alchemy)||void 0===d?void 0:null===(t=d.bubbles)||void 0===t?void 0:t.checked){let l=null==e?void 0:null===(a=e.accountOptions)||void 0===a?void 0:a[89],i=null===y.randomList||void 0===y.randomList?void 0:y.randomList[53],o=(0,b.bV)(l,i,11);s.missingBubbles=(null==n?void 0:null===(r=n.equippedBubbles)||void 0===r?void 0:r.length)<(o?3:2)}return s},obols:(e,l,n,i,o)=>{var t,d,a,r,s;let c={};return(null==e?void 0:null===(t=e.finishedWorlds)||void 0===t?void 0:t.World1)&&(null==o?void 0:null===(a=o.obols)||void 0===a?void 0:null===(d=a.missingObols)||void 0===d?void 0:d.checked)&&(c.missingObols=null==n?void 0:null===(s=n.obols)||void 0===s?void 0:null===(r=s.list)||void 0===r?void 0:r.filter(e=>{let{rawName:l}=e;return"Blank"===l})),c},postOffice:(e,l,n,i,o)=>{var t,d,a,r,s,c,u;let v={};if(!(null==e?void 0:null===(t=e.finishedWorlds)||void 0===t?void 0:t.World1))return v;if(null==o?void 0:null===(a=o.postOffice)||void 0===a?void 0:null===(d=a.unspentPoints)||void 0===d?void 0:d.checked){let e=parseInt(null==o?void 0:null===(c=o.postOffice)||void 0===c?void 0:null===(s=c.unspentPoints)||void 0===s?void 0:null===(r=s.props)||void 0===r?void 0:r.value);v.unspentPoints=(null==n?void 0:null===(u=n.postOffice)||void 0===u?void 0:u.unspentPoints)>(null!=e?e:0)&&(null==n?void 0:n.postOffice.boxes.some(e=>{let{level:l,maxLevel:n}=e;return l<n}))}return v},starSigns:(e,l,n,i,o)=>{var t,d,a,r;let s={};if(null==o?void 0:null===(d=o.starSigns)||void 0===d?void 0:null===(t=d.missingStarSigns)||void 0===t?void 0:t.checked){let l=null==e?void 0:null===(a=e.starSigns)||void 0===a?void 0:a.reduce((e,l)=>{let{starName:n,unlocked:i}=l;return n.includes("Chronus_Cosmos")&&i?e<2?2:e:n.includes("Hydron_Cosmos")&&i&&e<3?3:e},1);s.missingStarSigns=l-(null==n?void 0:null===(r=n.starSigns)||void 0===r?void 0:r.length)}return s},crystalCountdown:(e,l,n,i,o)=>T(n,o),tools:(e,l,n,i,o)=>I(n,e),talents:(e,l,n,i,o)=>S(n,o),cards:(e,l,n,i,o)=>{var t,d,a,r;let s={};return(null==o?void 0:null===(d=o.cards)||void 0===d?void 0:null===(t=d.cardSet)||void 0===t?void 0:t.checked)&&(s.cardSet=(null==n?void 0:n.level)>=50&&(null==n?void 0:null===(r=n.cards)||void 0===r?void 0:null===(a=r.cardSet)||void 0===a?void 0:a.rawName)==="CardSet0"),s}},_=e=>{let{title:l,iconPath:n,style:o={}}=e;return(0,i.jsx)(x.Z,{title:l,children:(0,i.jsx)(B,{style:o,src:"".concat(p.prefix).concat(n,".png"),alt:""})})},L=e=>{var l,n,t;let{account:d,characters:s,character:c,lastUpdated:u}=e,{name:v,stats:m,afkTime:x,crystalSpawnChance:j,nonConsumeChance:f}=c||{},{cashMulti:k}=(0,o.useMemo)(()=>(0,W.bv)(c,d,s)||{},[c,d]),{dropRate:y}=(0,o.useMemo)(()=>(0,W.VK)(c,d,s)||{},[c,d]),{respawnRate:b}=(0,o.useMemo)(()=>(0,W.P9)(c,d)||{},[c,d]),{afkGains:w}=(0,o.useMemo)(()=>(0,W.WU)(c,s,d),[c,d]),Z=(0,o.useMemo)(()=>(0,D.m)(c,s,d),[c,d]);return(0,i.jsxs)(a.Z,{gap:1,children:[(0,i.jsx)(P.uQ,{title:v,value:"lv. ".concat((null==m?void 0:m.level)||0)}),(0,i.jsx)(P.uQ,{title:"Afk time",value:(()=>{let e=new Date().getTime()+(x-u);return 5>=(0,g.Z)(new Date,new Date(e))})()?(0,i.jsx)(r.Z,{children:"Active"}):(0,i.jsx)(M.Z,{type:"up",date:x,lastUpdated:u})}),(0,i.jsx)(h.Z,{flexItem:!0,sx:{background:"black"}}),(0,i.jsx)(P.uQ,{title:"Damage",value:null===(n=(0,D.C)(Z))||void 0===n?void 0:null===(l=n.at(0))||void 0===l?void 0:l.replace(/\[/g,"M")}),(0,i.jsx)(P.uQ,{title:"Hp",value:(0,p.notateNumber)(null==Z?void 0:Z.maxHp)}),(0,i.jsx)(P.uQ,{title:"Mp",value:(0,p.notateNumber)(null==Z?void 0:Z.maxMp)}),(0,i.jsx)(P.uQ,{title:"Accuracy",value:(0,p.notateNumber)(null==Z?void 0:Z.accuracy)}),(0,i.jsx)(P.uQ,{title:"Movement Speed",value:(0,p.notateNumber)(null==Z?void 0:Z.movementSpeed)}),(0,i.jsx)(h.Z,{flexItem:!0,sx:{background:"black"}}),(0,i.jsx)(P.uQ,{title:"Cash multi",value:"".concat((0,p.notateNumber)(k),"%")}),(0,i.jsx)(P.uQ,{title:"Drop rate",value:"".concat((0,p.notateNumber)(y,"MultiplierInfo"),"x")}),(0,i.jsx)(P.uQ,{title:"Respawn rate",value:"".concat((0,p.notateNumber)(b,"MultiplierInfo"),"%")}),(0,i.jsx)(P.uQ,{title:"Afk gains",value:"".concat((0,p.notateNumber)(100*w,"MultiplierInfo"),"%")}),(0,i.jsx)(P.uQ,{title:"Crystal Chance",value:1/(null==j?void 0:j.value)<100?"".concat(null===(t=(0,p.notateNumber)((null==j?void 0:j.value)*100,"MultiplierInfo"))||void 0===t?void 0:t.replace(".00",""),"%"):"1 in ".concat(Math.floor(1/(null==j?void 0:j.value)))}),(0,i.jsx)(P.uQ,{title:"Non consume chance",value:"".concat((0,p.kFormatter)(f,2),"%")})]})},B=m.Z.img(N());var R=e=>{let{characters:l=[],account:n,lastUpdated:o,trackers:t}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Z,{gap:2,direction:"row",flexWrap:"wrap",children:null==l?void 0:l.map((e,d)=>{var c,m,j,f,k,y,b,w,Z,C,S,T,I,P,W,D,N,R,A,H,E,F,V,Q,q,G,z,X,Y,J;let{name:K,classIndex:$,afkTarget:ee,afkTime:el,postOffice:en}=e,ei=null===(c=Object.entries(t||{}))||void 0===c?void 0:c.reduce((e,l)=>{var n;let[i,o]=l,t=null==o?void 0:null===(n=o.options)||void 0===n?void 0:n.reduce((e,l)=>({...e,[null==l?void 0:l.name]:l}),{});return{...e,[i]:t}},{}),eo=null===(m=Object.keys(ei))||void 0===m?void 0:m.reduce((i,t)=>{var d;return i[t]=(null==U?void 0:null===(d=U[t])||void 0===d?void 0:d.call(U,n,l,e,o,ei))||{},i},{}),et=ee&&"_"!==ee?ee:"Nothing";return(0,i.jsx)(u.Z,{sx:{width:300},children:(0,i.jsxs)(v.Z,{children:[(0,i.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,flexWrap:"wrap",children:[(0,i.jsx)(s.Z,{sx:{display:{sm:"none",md:"block"}},children:(0,i.jsx)("img",{src:"".concat(p.prefix,"data/ClassIcons").concat($,".png"),alt:""})}),(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(r.Z,{children:K}),(()=>{let e=new Date().getTime()+(el-o);return 5>=(0,g.Z)(new Date,new Date(e))})()?(0,i.jsx)(r.Z,{children:"Active"}):(0,i.jsx)(M.Z,{variant:"caption",type:"up",date:el,lastUpdated:o})]}),(0,i.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,style:{marginLeft:"auto"},children:[(0,i.jsx)(x.Z,{title:(0,p.cleanUnderscore)(et),children:(0,i.jsx)(B,{src:"".concat(p.prefix,"afk_targets/").concat(et,".png"),alt:"activity icon"})}),(0,i.jsx)(x.Z,{title:(0,i.jsx)(L,{characters:l,account:n,character:e,lastUpdated:o}),children:(0,i.jsx)(O.Z,{})})]})]}),(0,i.jsx)(h.Z,{sx:{my:1}}),(0,i.jsxs)(a.Z,{direction:"row",gap:1,flexWrap:"wrap",children:[(null==t?void 0:t.worship)&&(null==eo?void 0:null===(j=eo.worship)||void 0===j?void 0:j.unendingEnergy)?(0,i.jsx)(_,{title:"".concat(K," has unending energy prayer and is afk for more than 10 hours"),iconPath:"data/Prayer2"}):null,(null==t?void 0:t.worship)&&(null==eo?void 0:null===(f=eo.worship)||void 0===f?void 0:f.chargeOverdue)?(0,i.jsx)(_,{title:"".concat(K," worship is full"),iconPath:"data/ClassIcons50"}):null,(null==t?void 0:t.traps)&&(null==eo?void 0:null===(k=eo.traps)||void 0===k?void 0:k.trapsOverdue)?(0,i.jsx)(_,{title:"".concat(K," traps are overdue"),iconPath:"data/TrapBoxSet1"}):null,(null==t?void 0:t.traps)&&(null==eo?void 0:null===(y=eo.traps)||void 0===y?void 0:y.missingTraps)?(0,i.jsx)(_,{title:"".concat(K," is missing a trap"),iconPath:"data/ClassIcons48"}):null,(null==t?void 0:t.alchemy)&&(null==eo?void 0:null===(b=eo.alchemy)||void 0===b?void 0:b.missingBubbles)?(0,i.jsx)(_,{title:"".concat(K," is missing an active bubble"),iconPath:"data/aJarB0"}):null,(null==t?void 0:t.cards)&&(null==eo?void 0:null===(w=eo.cards)||void 0===w?void 0:w.cardSet)?(0,i.jsx)(_,{title:"".concat(K," has Blunder hill card set equipped which is for level < 50"),iconPath:"data/CardSet0"}):null,(null==t?void 0:t.obols)&&(null==eo?void 0:null===(C=eo.obols)||void 0===C?void 0:null===(Z=C.missingObols)||void 0===Z?void 0:Z.length)>0?(0,i.jsx)(_,{title:"".concat(K," has ").concat(null==eo?void 0:null===(T=eo.obols)||void 0===T?void 0:null===(S=T.missingObols)||void 0===S?void 0:S.length," empty obol slots"),iconPath:"data/ObolLocked1"}):null,(null==t?void 0:t.postOffice)&&(null==eo?void 0:null===(I=eo.postOffice)||void 0===I?void 0:I.unspentPoints)?(0,i.jsx)(_,{title:"".concat(K," has ").concat(Math.floor(null==en?void 0:en.unspentPoints)," unspent points"),iconPath:"data/UIboxUpg0"}):null,(null==t?void 0:t.anvil)&&(null==eo?void 0:null===(P=eo.anvil)||void 0===P?void 0:P.missingHammers)>0?(0,i.jsx)(_,{title:"".concat(K," is missing ").concat(null==eo?void 0:null===(W=eo.anvil)||void 0===W?void 0:W.missingHammers," hammers"),iconPath:"data/GemP1"}):null,(null==t?void 0:t.anvil)&&(null==eo?void 0:null===(D=eo.anvil)||void 0===D?void 0:D.unspentPoints)>0?(0,i.jsx)(_,{title:"".concat(K," has ").concat(null==eo?void 0:null===(N=eo.anvil)||void 0===N?void 0:N.unspentPoints," unspent points anvil points"),iconPath:"data/ClassIcons43"}):null,(null==t?void 0:t.anvil)&&(null==eo?void 0:null===(A=eo.anvil)||void 0===A?void 0:null===(R=A.anvilOverdue)||void 0===R?void 0:R.length)>0?null==eo?void 0:null===(E=eo.anvil)||void 0===E?void 0:null===(H=E.anvilOverdue)||void 0===H?void 0:H.map(e=>{let{diff:l,name:n,rawName:o}=e;return(0,i.jsx)(_,{title:"".concat((0,p.cleanUnderscore)(n)," ").concat(l<=0?"production is full":"is ".concat(l," minutes away from being full")),iconPath:"data/".concat(o)},"".concat(n,"-").concat(d))}):null,(null==t?void 0:t.starSigns)&&(null==eo?void 0:null===(F=eo.starSigns)||void 0===F?void 0:F.missingStarSigns)>0?(0,i.jsx)(_,{title:"".concat(K," is missing ").concat(null==eo?void 0:null===(V=eo.starSigns)||void 0===V?void 0:V.missingStarSigns," star signs"),iconPath:"data/SignStar1b"}):null,(null==t?void 0:t.talents)&&(null==eo?void 0:null===(Q=eo.talents)||void 0===Q?void 0:Q.length)>0?null==eo?void 0:null===(q=eo.talents)||void 0===q?void 0:q.map((e,l)=>{let{name:n,skillIndex:t,cooldown:d}=e;return(0,i.jsx)(_,{style:{opacity:d>0?.5:1},title:d>0?(0,i.jsx)(M.Z,{type:"countdown",date:d,lastUpdated:o}):"".concat((0,p.cleanUnderscore)((0,p.pascalCase)(n))," is ready"),iconPath:"data/UISkillIcon".concat(t)},t+"-"+l)}):null,(null==t?void 0:null===(G=t.tools)||void 0===G?void 0:G.checked)&&(null==eo?void 0:null===(z=eo.tools)||void 0===z?void 0:z.length)>0?null==eo?void 0:null===(X=eo.tools)||void 0===X?void 0:X.map((l,n)=>{let{rawName:o,displayName:t}=l;return(0,i.jsx)(_,{title:"".concat(null==e?void 0:e.name," can equip ").concat((0,p.cleanUnderscore)((0,p.pascalCase)(t))),iconPath:"data/".concat(o)},"".concat(null==e?void 0:e.name,"-").concat(o,"-").concat(n))}):null,(null==t?void 0:t.crystalCountdown)&&(null==eo?void 0:null===(Y=eo.crystalCountdown)||void 0===Y?void 0:Y.length)>0?null==eo?void 0:null===(J=eo.crystalCountdown)||void 0===J?void 0:J.map((e,l)=>{let{name:n,icon:o,reduction:t,crystalCountdown:a}=e,{showMaxed:r,showNonMaxed:s}=(null==ei?void 0:ei.crystalCountdown)||{};r=null==r?void 0:r.checked,s=null==s?void 0:s.checked;let c=a>0&&t>=a;return(r||!c)&&(s||!r||c)&&(s||r)?(0,i.jsx)(_,{style:{border:"1px solid",borderColor:c?"#66bb6a":t>0?"#d1921e":"",borderRadius:5,opacity:c||t>0?1:.5},title:"Crystal CD for ".concat((0,p.cleanUnderscore)((0,p.pascalCase)(n))," is ").concat(c?"maxed":""," ").concat((0,p.notateNumber)(t,"MultiplierInfo"),"% ").concat(c?"":"(Max: ".concat((0,p.notateNumber)(a,"MultiplierInfo"),")")),iconPath:"data/".concat(o)},o+"-"+l+"-"+d):null}):null]})]})},K)})})})},A=n(24579),H=n(94229),E=n(93946),F=e=>{let{libraryTimes:l,lastUpdated:n}=e,{bookCount:t,next:d,breakpoints:s}=l||{},c=new Date().getTime()+1e3*d,u=(0,p.getRealDateInMs)(c);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,i.jsx)("img",{src:"".concat(p.prefix,"data/Libz.png"),alt:""}),(0,i.jsx)(r.Z,{sx:{fontWeight:"bold",fontSize:18},children:"Library"})]}),(0,i.jsxs)("h4",{children:["Book count: ",t]}),(0,i.jsxs)(a.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,i.jsx)(r.Z,{sx:{width:130},children:"Next book in: "})," ",d>0?(0,i.jsx)(x.Z,{title:"End date: "+u,children:(0,i.jsx)(M.Z,{type:"countdown",lastUpdated:n,date:c})}):(0,i.jsx)(r.Z,{variant:"caption",children:"Wait for game update"})]}),null==s?void 0:s.map((e,l)=>{let{breakpoint:t,time:d}=e,s=new Date().getTime()+1e3*d;return s=(0,p.getRealDateInMs)(s),d>0?(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(h.Z,{sx:{my:1}}),(0,i.jsxs)(a.Z,{direction:"row",gap:1,children:[(0,i.jsxs)(r.Z,{sx:{width:130},children:[0===t?"0 to 20":t," books in: "]})," ",d>0?(0,i.jsx)(x.Z,{title:"End date: "+s,children:(0,i.jsx)(M.Z,{type:"countdown",lastUpdated:n,staticTime:0===t,date:new Date().getTime()+1e3*d})}):(0,i.jsx)(r.Z,{variant:"caption",children:"Wait for game update"})]})]},"book-timer"+l):null})]})},V=n(23795),Q=n(48079),q=n(32705),G=n(15984),z=n(55166),X=n(15719),Y=n(17844),J=n(81426);function K(){let e=(0,c._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return K=function(){return e},e}let $=m.Z.img(K()),ee=e=>{let{tooltipContent:l,icon:n,lastUpdated:o,time:t,timerPlaceholder:d="",forcePlaceholder:s}=e;return(0,i.jsx)(u.Z,{sx:{height:"fit-content"},children:(0,i.jsx)(v.Z,{children:(0,i.jsx)(x.Z,{title:l,children:(0,i.jsxs)(a.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,i.jsx)($,{src:"".concat(p.prefix).concat(n)}),s?(0,i.jsx)(r.Z,{color:"error.light",children:d}):(0,i.jsx)(M.Z,{type:"countdown",date:t,placeholder:d,lastUpdated:o})]})})})})};var el=e=>{var l,n,t,d,s,c,h,m,g,j,f,k,y,w,Z,C,S,T;let{characters:I,account:O,lastUpdated:M}=e,P=(0,b.ai)(null==I?void 0:I[0],O),W=(0,o.useMemo)(()=>(0,b.KB)(O),[I,O,M]),D=(0,o.useMemo)(()=>{var e;return(0,G.IS)(null==O?void 0:null===(e=O.serverVars)||void 0===e?void 0:e.HappyHours)||[]},[O]),N=new Date().getTime()+(3600-((null==O?void 0:null===(l=O.timeAway)||void 0===l?void 0:l.GlobalTime)-(null==O?void 0:null===(n=O.timeAway)||void 0===n?void 0:n.Printer)))*1e3,U=new Date().getTime()+Math.max(0,594e6-(1e3*(null==O?void 0:null===(t=O.timeAway)||void 0===t?void 0:t.GlobalTime)-(null==O?void 0:null===(d=O.companions)||void 0===d?void 0:d.lastFreeClaim))),_=(0,Y._m)(O,"Nitrogen_-_Construction_Trimmer"),L=null==O?void 0:null===(c=O.towers)||void 0===c?void 0:null===(s=c.data)||void 0===s?void 0:s.reduce((e,l)=>{var n,i,o,t,d,a;let r;let s=(null==O?void 0:null===(i=O.lab.jewels)||void 0===i?void 0:null===(n=i.slice(3,7))||void 0===n?void 0:n.every(e=>{let{active:l}=e;return l}))?1:0,c=(null==O?void 0:null===(t=O.lab.jewels)||void 0===t?void 0:null===(o=t[3])||void 0===o?void 0:o.active)?1+s:0,u=(null==l?void 0:l.slot)!==-1&&(null==l?void 0:l.slot)<c+(_?1:0),v=(0,z.ZX)(null==O?void 0:O.towers,null==l?void 0:l.level,null==l?void 0:l.bonusInc,null==l?void 0:l.index);if(u){let e=(3+_/100)*(null==O?void 0:null===(d=O.construction)||void 0===d?void 0:d.totalBuildRate);r=(v-(null==l?void 0:l.progress))/e*36e5}else r=(v-(null==l?void 0:l.progress))/(null==O?void 0:null===(a=O.construction)||void 0===a?void 0:a.totalBuildRate)*36e5;return(null==l?void 0:l.inProgress)&&((null==e?void 0:e.timeLeft)===0||r<(null==e?void 0:e.timeLeft))?{timeLeft:r,icon:"ConTower".concat(null==l?void 0:l.index)}:e},{timeLeft:0,icon:""}),B=null==O?void 0:null===(h=O.traps)||void 0===h?void 0:h.reduce((e,l)=>{let n=null==l?void 0:l.map(e=>{let{timeLeft:l}=e;return l});if(0===n.length)return e;let i=Math.min(...n);return 0===e||i<e?i:e},0),R=(0,X.kV)(I),{bestWizard:A,bestChargeSyphon:H,timeToOverCharge:E}=(0,o.useMemo)(()=>(0,X.Qq)(I),[I]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.Z,{direction:"row",flexWrap:"wrap",gap:2,children:[(0,i.jsxs)(J.Z,{sx:{width:360},container:!0,spacing:1,children:[(0,i.jsx)(J.Z,{xs:6,children:(null==O?void 0:null===(m=O.finishedWorlds)||void 0===m?void 0:m.World2)?(0,i.jsx)(ee,{tooltipContent:"Next printer cycle: "+(0,p.getRealDateInMs)(N),lastUpdated:M,time:N,icon:"data/ConTower0.png"}):null}),(0,i.jsx)(J.Z,{xs:6,children:(null==O?void 0:null===(g=O.finishedWorlds)||void 0===g?void 0:g.World2)&&0!==B?(0,i.jsx)(ee,{tooltipContent:"Closest trap: "+(0,p.getRealDateInMs)(B),lastUpdated:M,time:B,icon:"data/TrapBoxSet1.png"}):null}),(0,i.jsx)(J.Z,{xs:6,children:(null==O?void 0:null===(j=O.finishedWorlds)||void 0===j?void 0:j.World2)&&(null==L?void 0:L.timeLeft)!==0?(0,i.jsx)(ee,{tooltipContent:"Closest building: "+(0,p.getRealDateInMs)(new Date().getTime()+(null==L?void 0:L.timeLeft)),lastUpdated:M,time:new Date().getTime()+(null==L?void 0:L.timeLeft),icon:"data/".concat(null==L?void 0:L.icon,".png")}):null}),(0,i.jsx)(J.Z,{xs:6,children:(null==O?void 0:null===(f=O.finishedWorlds)||void 0===f?void 0:f.World2)&&(null==R?void 0:R.timeLeft)!==0?(0,i.jsx)(ee,{tooltipContent:"Closest full worship - ".concat(null==R?void 0:R.character,": ")+(0,p.getRealDateInMs)(new Date().getTime()+(null==R?void 0:R.timeLeft)),timerPlaceholder:"Full!",forcePlaceholder:!isFinite(null==R?void 0:R.timeLeft),lastUpdated:M,time:new Date().getTime()+(null==R?void 0:R.timeLeft),icon:"data/WorshipSkull3.png"}):null}),(0,i.jsx)(J.Z,{xs:6,children:(0,i.jsx)(ee,{tooltipContent:"Next companion claim: "+(0,p.getRealDateInMs)(U),lastUpdated:M,time:U,icon:"afk_targets/Dog.png",timerPlaceholder:"Go claim!"})}),(0,i.jsx)(J.Z,{xs:6,children:(null==D?void 0:D.length)>0?(0,i.jsx)(ee,{tooltipContent:"Next happy hour: "+(0,p.getRealDateInMs)(null==D?void 0:D[0]),lastUpdated:M,time:null==D?void 0:D[0],icon:"etc/Happy_Hour.png",timerPlaceholder:"Go claim!"}):null}),(0,i.jsx)(J.Z,{xs:6,children:(null==O?void 0:null===(k=O.finishedWorlds)||void 0===k?void 0:k.World2)?(0,i.jsx)(ee,{tooltipContent:"Overflow syphon Charge (".concat((null==A?void 0:null===(y=A.worship)||void 0===y?void 0:y.maxCharge)+H,"): ")+(0,p.getRealDateInMs)(E),lastUpdated:M,time:E,icon:"data/UISkillIcon475.png",timerPlaceholder:"Overflowing charge"}):null}),(0,i.jsx)(J.Z,{xs:6,children:(null==O?void 0:null===(w=O.finishedWorlds)||void 0===w?void 0:w.World2)?(0,i.jsx)(u.Z,{sx:{width:"100%",height:"fit-content"},children:(0,i.jsx)(v.Z,{children:(0,i.jsx)(a.Z,{direction:"row",alignItems:"center",gap:2,children:(0,i.jsx)(x.Z,{title:(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(r.Z,{sx:{fontWeight:"bold"},children:"Giant Mob Chance"}),(0,i.jsxs)(r.Z,{children:["+",null==P?void 0:P.crescentShrineBonus,"% from Crescent shrine"]}),(0,i.jsxs)(r.Z,{children:["+",null==P?void 0:P.giantMobVial,"% from Shaved Ice vial"]}),(null==P?void 0:P.glitterbugPrayer)>0?(0,i.jsxs)(r.Z,{children:["-",null==P?void 0:P.glitterbugPrayer,"% from Glitterbug prayer"]}):null]}),children:(0,i.jsxs)(a.Z,{gap:1,direction:"row",alignItems:"center",children:[(0,i.jsx)($,{src:"".concat(p.prefix,"data/Prayer5.png")}),(0,i.jsxs)(r.Z,{children:["1 in ",(0,p.notateNumber)(Math.floor(1/(null==P?void 0:P.chance)))]})]})})})})}):null})]}),(0,i.jsxs)(a.Z,{gap:1,sx:{width:250},children:[(null==W?void 0:W.length)>0?(0,i.jsx)(u.Z,{sx:{width:"100%",height:"fit-content"},children:(0,i.jsx)(v.Z,{children:(0,i.jsxs)(a.Z,{gap:2,children:[(0,i.jsx)(q.Z,{...null==W?void 0:W[0]}),(0,i.jsx)(V.Z,{underline:"none",href:"https://idleontoolbox.com/account/misc/random-events",children:"See more..."})]})})}):null,(null==O?void 0:null===(Z=O.finishedWorlds)||void 0===Z?void 0:Z.World4)?(0,i.jsx)(u.Z,{sx:{width:"100%",height:"fit-content"},children:(0,i.jsx)(v.Z,{children:(0,i.jsxs)(a.Z,{gap:2,children:[(0,i.jsx)(Q.Z,{...null==O?void 0:null===(S=O.sailing)||void 0===S?void 0:null===(C=S.trades)||void 0===C?void 0:C[0]}),(0,i.jsx)(V.Z,{underline:"none",href:"https://idleontoolbox.com/account/world-5/sailing",children:"See more..."})]})})}):null]}),(null==O?void 0:null===(T=O.finishedWorlds)||void 0===T?void 0:T.World2)?(0,i.jsx)(u.Z,{sx:{width:"fit-content",height:"fit-content"},children:(0,i.jsx)(v.Z,{children:(0,i.jsx)(F,{libraryTimes:null==O?void 0:O.libraryTimes,lastUpdated:M})})}):null]})})},en=n(2962),ei=n(32225),eo=n(13250),et=n(50657),ed=n(37645),ea=n(6514),er=n(50480),es=n(69368),ec=n(57922),eu=n(50135),ev=n(87109),eh=n(50594),ep=n(29217),em=n(45111),ex=n(33458);let eg=e=>{var l;let{config:n,onChange:t,configType:d}=e,[r,c]=(0,o.useState)(null),u=e=>{c(r===e?null:e)};return n&&(null===(l=Object.entries(n))||void 0===l?void 0:l.map((e,l)=>{var n,o;let[c,v]=e;return(0,i.jsxs)(s.Z,{children:[(0,i.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",children:[(0,i.jsx)(er.Z,{control:(0,i.jsx)(es.Z,{name:c,checked:null==v?void 0:v.checked,size:"small"}),onChange:e=>t(e,d),label:null==c?void 0:c.camelToTitleCase()}),(null==v?void 0:null===(n=v.options)||void 0===n?void 0:n.length)>0?(0,i.jsx)(E.Z,{size:"small",onClick:()=>u(c),children:r===c?(0,i.jsx)(ep.Z,{}):(0,i.jsx)(em.Z,{})}):null]}),(0,i.jsx)(ec.Z,{in:r===c,unmountOnExit:!0,children:(0,i.jsx)(a.Z,{sx:{ml:3,mr:3},children:null==v?void 0:null===(o=v.options)||void 0===o?void 0:o.map((e,l)=>(0,i.jsx)(ej,{trackerName:c,option:{...e,optionIndex:l},configType:d,onChange:t},"".concat(null==e?void 0:e.name,"-").concat(l)))})})]},"tracker-".concat(c,"-").concat(l))}))},ej=e=>{var l,n;let{option:o,trackerName:t,onChange:d,configType:s}=e,{type:c,props:u}=o||{};return(0,i.jsxs)(i.Fragment,{children:[(null==o?void 0:o.category)?(0,i.jsx)(r.Z,{variant:"caption",children:null==o?void 0:null===(l=o.category)||void 0===l?void 0:l.camelToTitleCase()}):null,(0,i.jsxs)(a.Z,{direction:"row",children:["array"!==c?(0,i.jsx)(er.Z,{sx:{minWidth:(null==u?void 0:u.type)==="img"?"inherit":100},control:(0,i.jsx)(es.Z,{name:null==o?void 0:o.name,checked:null==o?void 0:o.checked,size:"small"}),onChange:e=>d(e,s,o,t),label:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.Z,{children:null==o?void 0:null===(n=o.name)||void 0===n?void 0:n.camelToTitleCase()})})}):null,"input"===c?(0,i.jsx)(ek,{option:o,trackerName:t,configType:s,onChange:d}):null,"array"===c?(0,i.jsx)(ef,{option:o,configType:s,onChange:d}):null]})]})},ef=e=>{var l;let{option:n,onChange:o,configType:t}=e,{value:d,type:r}=null==n?void 0:n.props;return(0,i.jsx)(a.Z,{direction:"row",flexWrap:"wrap",children:null===(l=Object.keys(d))||void 0===l?void 0:l.map((e,l)=>(0,i.jsx)(er.Z,{onChange:e=>o(e,t,n),control:(0,i.jsx)(es.Z,{name:e,checked:null==d?void 0:d[e],size:"small"}),label:"img"===r?(0,i.jsx)("img",{width:24,height:24,src:"".concat(p.prefix,"data/").concat(e,".png"),alt:""}):e.camelToTitleCase()},"".concat(e,"-").concat(l)))})},ek=e=>{let{option:l,onChange:n,configType:o,name:t,trackerName:d}=e,{label:a,value:r,helperText:s="",maxValue:c,minValue:u=0,endAdornment:v=""}=null==l?void 0:l.props;return(0,i.jsx)(eu.Z,{size:"small",label:a.capitalize(),type:"number",sx:{mt:1,width:150},name:t,value:r,InputProps:{endAdornment:v?(0,i.jsx)(ev.Z,{position:"end",children:v}):null,inputProps:{max:c,min:u,autoComplete:"off"}},onChange:e=>n(e,o,{...l,inputVal:!0},d),helperText:s})};var ey=e=>{let{open:l,onClose:n,config:o,onChange:t}=e,d=(e,l,n,i)=>{var d,a,r,s,c;let u=JSON.parse(JSON.stringify(o)),v=null==e?void 0:null===(d=e.target)||void 0===d?void 0:d.name;if((null==n?void 0:n.type)==="array"){let e=u[l][null==n?void 0:n.name].options[null==n?void 0:n.optionIndex].props.value[v];u[l][null==n?void 0:n.name].options[null==n?void 0:n.optionIndex].props.value[v]=!e}else if((null==n?void 0:n.type)==="input"){if(null==n?void 0:n.inputVal)u[l][i].options[null==n?void 0:n.optionIndex].props.value=null==e?void 0:null===(a=e.target)||void 0===a?void 0:a.value;else{let e=null===(r=u[l][i].options[null==n?void 0:n.optionIndex])||void 0===r?void 0:r.checked;u[l][i].options[null==n?void 0:n.optionIndex].checked=!e}}else if(n){let e=null===(s=u[l][i].options[null==n?void 0:n.optionIndex])||void 0===s?void 0:s.checked;u[l][i].options[null==n?void 0:n.optionIndex].checked=!e}else{let e=null===(c=u[l][v])||void 0===c?void 0:c.checked;u[l][v].checked=!e,u[l][v].options=u[l][v].options.map(l=>{if((null==l?void 0:l.type)==="array"){var n;let i=null===(n=Object.entries(l.props.value))||void 0===n?void 0:n.reduce((l,n)=>{let[i]=n;return{...l,[i]:!e}},{});return{...l,checked:!e,props:{...(null==l?void 0:l.props)||{},value:i}}}return{...l,checked:!e}})}t(u)};return(0,i.jsxs)(et.Z,{open:l,onClose:n,fullWidth:!0,children:[(0,i.jsxs)(ed.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Dashboard configurations",(0,i.jsx)(E.Z,{onClick:n,children:(0,i.jsx)(eh.Z,{})})]}),(0,i.jsx)(ea.Z,{children:(0,i.jsxs)(ex.Z,{tabs:["Account","Character"],children:[(0,i.jsx)(s.Z,{children:(0,i.jsx)(eg,{config:null==o?void 0:o.account,configType:"account",onChange:d})}),(0,i.jsx)(s.Z,{children:(0,i.jsx)(eg,{config:null==o?void 0:o.characters,configType:"characters",onChange:d})})]})})]})},eb=n(56365),ew=n(72378),eZ=n.n(ew);let eC={account:{tasks:{checked:!0,options:[{name:"tasks",type:"array",category:"Worlds",props:{value:[1,2,3,4,5].toSimpleObject()},checked:!0}]},atomCollider:{checked:!0,options:[{name:"stampReducer",type:"input",props:{label:"Threshold",value:90,maxValue:90,minValue:0,endAdornment:"%"},checked:!0}]},arcade:{checked:!0,options:[{name:"balls",checked:!0}]},alchemy:{checked:!0,options:[{name:"bargainTag",checked:!0},{name:"sigils",checked:!0},{name:"liquids",category:"liquids",type:"input",props:{label:"Liquid percent",value:90,maxValue:100,minValue:0},checked:!0},{name:"vials",category:"vials",checked:!0},{name:"subtractGreenStacks",checked:!0}]},cooking:{checked:!0,options:[{name:"spices",checked:!0}]},gaming:{checked:!0,options:[{name:"sprouts",checked:!0},{name:"squirrel",type:"input",props:{label:"Hours threshold",value:1,minValue:1},checked:!0},{name:"shovel",type:"input",props:{label:"Hours threshold",value:1,minValue:1},checked:!0}]},guild:{checked:!0,options:[{name:"daily",checked:!0},{name:"weekly",checked:!0}]},sailing:{checked:!0,options:[{name:"captains",checked:!0},{name:"chests",checked:!0}]},breeding:{checked:!0,options:[{name:"eggs",checked:!0},{name:"shinies",type:"input",props:{label:"Level threshold",value:5},checked:!0}]},printer:{checked:!0,options:[{name:"includeOakAndCopper",category:"atoms",checked:!1},{name:"showAlertWhenFull",checked:!1}]},shops:{checked:!0,options:[{name:"shops",type:"array",props:{value:(0,ei.gN)(),type:"img"},checked:!0}]},construction:{checked:!0,options:[{name:"flags",checked:!0},{name:"buildings",checked:!0},{name:"materials",category:"refinery",checked:!0},{name:"rankUp",checked:!0}]},postOffice:{checked:!0,options:[{name:"postOffice",type:"array",category:"shipments streak",props:{value:[1,2,3,4,5,6].toSimpleObject()},checked:!0}]},equinox:{checked:!0,options:[{name:"bar",checked:!0},{name:"challenges",checked:!0},{name:"foodLust",checked:!0}]},materialTracker:{checked:!0,options:[{name:"applyThresholdFromAbove",checked:!1},{name:"applyThresholdFromBelow",checked:!0}]},etc:{checked:!0,options:[{name:"dungeonTraits",checked:!0},{name:"randomEvents",checked:!0},{name:"gildedStamps",checked:!0},{name:"keys",checked:!0},{name:"miniBosses",type:"input",props:{label:"Bosses threshold",value:1,minValue:1},checked:!0},{name:"weeklyBosses",checked:!0},{name:"killRoy",checked:!0}]}},characters:{cards:{checked:!0,options:[{name:"cardSet",checked:!0}]},anvil:{checked:!0,options:[{name:"unspentPoints",checked:!0},{name:"missingHammers",checked:!0},{name:"anvilOverdue",checked:!0},{name:"showAlertBeforeFull",checked:!0,category:"anvil overdue"}]},worship:{checked:!0,options:[{name:"unendingEnergy",checked:!0},{name:"chargeOverdue",checked:!0}]},traps:{checked:!0,options:[{name:"missingTraps",checked:!0},{name:"trapsOverdue",checked:!0}]},alchemy:{checked:!0,options:[{name:"missingBubbles",checked:!0}]},obols:{checked:!0,options:[{name:"missingObols",checked:!0}]},postOffice:{checked:!0,options:[{name:"unspentPoints",checked:!0,type:"input",props:{label:"Number of boxes",value:1}}]},starSigns:{checked:!0,options:[{name:"missingStarSigns",checked:!0}]},crystalCountdown:{checked:!0,options:[{name:"showMaxed",checked:!0},{name:"showNonMaxed",checked:!1}]},tools:{checked:!0,options:[]},talents:{checked:!0,options:[{name:"talents",type:"array",category:"cooldowns",checked:!0,props:{value:{printerGoBrrr:!0,refineryThrottle:!0,craniumCooking:!0,"itsYourBirthday!":!0,voidTrialRerun:!0,arenaSpirit:!0,tasteTest:!0}}},{category:"Misc",name:"alwaysShowTalents",checked:!1}]}}};var eS=()=>{var e,l,n;let{dispatch:c,state:u}=(0,o.useContext)(t.I),{characters:v,account:h,lastUpdated:m}=u,[x,g]=(0,o.useState)(!1),[j,f]=(0,o.useState)(),k=(0,d.Z)("(min-width: 1600px)",{noSsr:!0}),y=(0,d.Z)("(min-width: 850px)",{noSsr:!0}),b=new Date().getTime()+(null==h?void 0:null===(e=h.timeAway)||void 0===e?void 0:e.ShopRestock)*1e3,w=new Date().getTime()+((null==h?void 0:null===(l=h.timeAway)||void 0===l?void 0:l.ShopRestock)+86400*(null==h?void 0:null===(n=h.accountOptions)||void 0===n?void 0:n[39]))*1e3;return(0,o.useEffect)(()=>{var e,l;f({account:(0,p.removeTrackers)("account",eZ()(null==eC?void 0:eC.account,null==u?void 0:null===(e=u.trackers)||void 0===e?void 0:e.account)),characters:(0,p.removeTrackers)("characters",eZ()(null==eC?void 0:eC.characters,null==u?void 0:null===(l=u.trackers)||void 0===l?void 0:l.characters))})},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(en.PB,{title:"Dashboard | Idleon Toolbox",description:"Provides key information about your account and alerts you when there are unfinished tasks"}),(0,i.jsxs)(a.Z,{direction:"row",gap:2,justifyContent:"space-between",children:[(0,i.jsxs)(a.Z,{sx:{maxWidth:y||k?eb.s:"100%"},children:[(0,i.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:3,children:[(0,i.jsx)(r.Z,{variant:"h2",children:"Dashboard"}),(0,i.jsx)(E.Z,{title:"Configure alerts",onClick:()=>g(!0),children:(0,i.jsx)(H.Z,{})})]}),(0,i.jsxs)(a.Z,{mb:1,mt:"4px",gap:2,direction:"row",flexWrap:"wrap",children:[(0,i.jsx)(P.Ye,{cardSx:{my:0},title:"Daily Reset",children:(0,i.jsx)(M.Z,{variant:"caption",type:"countdown",lastUpdated:m,date:b})}),(0,i.jsx)(P.Ye,{cardSx:{my:0},title:"Weekly Reset",children:(0,i.jsx)(M.Z,{variant:"caption",type:"countdown",lastUpdated:m,date:w})})]}),(0,i.jsxs)(a.Z,{gap:2,children:[(0,i.jsx)(A.Z,{trackers:null==j?void 0:j.account,characters:v,account:h,lastUpdated:m}),(0,i.jsx)(R,{trackers:null==j?void 0:j.characters,characters:v,account:h,lastUpdated:m}),(0,i.jsx)(el,{characters:v,account:h,lastUpdated:m})]})]}),(0,i.jsx)(ey,{onChange:e=>{f(e),c({type:"trackers",data:e})},open:x,onClose:()=>g(!1),config:j}),k||y?(0,i.jsxs)(s.Z,{sx:{backgroundColor:p.isProd?"":"#d73333",width:k?300:y?160:0,height:600},children:[k?(0,i.jsx)(eo.a,{client:"ca-pub-1842647313167572",slot:"2700532291"}):null,y&&!k?(0,i.jsx)(eo.a,{client:"ca-pub-1842647313167572",slot:"8040203474"}):null]}):null]})]})}},32225:function(e,l,n){"use strict";n.d(l,{gN:function(){return a},u6:function(){return t}});var i=n(66092),o=n(67924);let t=e=>d((null==e?void 0:e.ShopStock)||(0,i.tryToParse)(null==e?void 0:e.ShopStock)),d=e=>e.reduce((e,l,n)=>{var i;return[...e,null===(i=Object.values(l))||void 0===i?void 0:i.reduce((e,l,i)=>{var t,d,a,s;let c=null==r?void 0:null===(t=r[n])||void 0===t?void 0:t[i];return(parseInt(l)||0)>0&&c?[...e,{amount:l,...null===(a=o.shops[n])||void 0===a?void 0:null===(d=a.items)||void 0===d?void 0:d[i],shopName:null===(s=o.shops[n])||void 0===s?void 0:s.name}]:e},[])]},[]),a=()=>{var e;return null===(e=Object.entries(o.shops))||void 0===e?void 0:e.reduce((e,l)=>{var n;let[i,{items:o}]=l;return[...e,...null==o?void 0:null===(n=o.filter((e,l)=>{var n;return null==r?void 0:null===(n=r[i])||void 0===n?void 0:n[l]}))||void 0===n?void 0:n.map(e=>{let{rawName:l}=e;return l})]},[]).toSimpleObject()},r={0:[3,8,13,14,17,23].toSimpleObject(),1:[2,8,9,13].toSimpleObject(),2:[0,1,2,3,4,8,9,10,18].toSimpleObject(),3:[12].toSimpleObject(),4:[0,1,2,8,9,10,19,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject()}}},function(e){e.O(0,[5127,1283,5039,6426,176,6366,9774,2888,179],function(){return e(e.s=51075)}),_N_E=e.O()}]);