(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5983],{52965:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboards",function(){return r(95130)}])},68575:function(e,n,r){"use strict";var t=r(85893),l=r(67294),i=r(98396),a=r(11703),o=r(40044);n.Z=e=>{let{tabs:n,children:r,onTabChange:s}=e,[c,d]=(0,l.useState)(0),u=(0,i.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),p=Array.isArray(r)?r:[r];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Z,{centered:!u||u&&n.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:u&&n.length>4?"scrollable":"standard",value:c,onChange:(e,n)=>{d(n),s&&s(n)},children:null==n?void 0:n.map((e,n)=>(0,t.jsx)(o.Z,{label:e},"".concat(e,"-").concat(n)))}),s?r:null==p?void 0:p.map((e,n)=>n===c?e:null)]})}},95130:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return leaderboards}});var t=r(85893),l=r(15861),i=r(51233),a=r(98456),o=r(68575),s=r(82729),c=r(67294),d=r(78462),u=r(97212),p=r(59334),g=r(90629),f=r(87462),v=r(63366),x=r(86010),m=r(94780),h=r(34867),b=r(18719),S=r(13264),j=r(29628),y=r(96682),w=r(39707),C=r(66500);function appendLevel(e){return e?`Level${e}`:""}function isNestedContainer(e){return e.unstable_level>0&&e.container}function createGetSelfSpacing(e){return function(n){return`var(--Grid-${n}Spacing${appendLevel(e.unstable_level)})`}}function createGetParentSpacing(e){return function(n){return 0===e.unstable_level?`var(--Grid-${n}Spacing)`:`var(--Grid-${n}Spacing${appendLevel(e.unstable_level-1)})`}}function getParentColumns(e){return 0===e.unstable_level?"var(--Grid-columns)":`var(--Grid-columns${appendLevel(e.unstable_level-1)})`}let filterBreakpointKeys=(e,n)=>e.filter(e=>n.includes(e)),traverseBreakpoints=(e,n,r)=>{let t=e.keys[0];if(Array.isArray(n))n.forEach((n,t)=>{r((n,r)=>{t<=e.keys.length-1&&(0===t?Object.assign(n,r):n[e.up(e.keys[t])]=r)},n)});else if(n&&"object"==typeof n){let l=Object.keys(n).length>e.keys.length?e.keys:filterBreakpointKeys(e.keys,Object.keys(n));l.forEach(l=>{if(-1!==e.keys.indexOf(l)){let i=n[l];void 0!==i&&r((n,r)=>{t===l?Object.assign(n,r):n[e.up(l)]=r},i)}})}else("number"==typeof n||"string"==typeof n)&&r((e,n)=>{Object.assign(e,n)},n)},generateGridSizeStyles=({theme:e,ownerState:n})=>{let r=createGetSelfSpacing(n),t={};return traverseBreakpoints(e.breakpoints,n.gridSize,(e,l)=>{let i={};!0===l&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===l&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof l&&(i={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${l} / ${getParentColumns(n)}${isNestedContainer(n)?` + ${r("column")}`:""})`}),e(t,i)}),t},generateGridOffsetStyles=({theme:e,ownerState:n})=>{let r={};return traverseBreakpoints(e.breakpoints,n.gridOffset,(e,t)=>{let l={};"auto"===t&&(l={marginLeft:"auto"}),"number"==typeof t&&(l={marginLeft:0===t?"0px":`calc(100% * ${t} / ${getParentColumns(n)})`}),e(r,l)}),r},generateGridColumnsStyles=({theme:e,ownerState:n})=>{if(!n.container)return{};let r=isNestedContainer(n)?{[`--Grid-columns${appendLevel(n.unstable_level)}`]:getParentColumns(n)}:{"--Grid-columns":12};return traverseBreakpoints(e.breakpoints,n.columns,(e,t)=>{e(r,{[`--Grid-columns${appendLevel(n.unstable_level)}`]:t})}),r},generateGridRowSpacingStyles=({theme:e,ownerState:n})=>{if(!n.container)return{};let r=createGetParentSpacing(n),t=isNestedContainer(n)?{[`--Grid-rowSpacing${appendLevel(n.unstable_level)}`]:r("row")}:{};return traverseBreakpoints(e.breakpoints,n.rowSpacing,(r,l)=>{var i;r(t,{[`--Grid-rowSpacing${appendLevel(n.unstable_level)}`]:"string"==typeof l?l:null==(i=e.spacing)?void 0:i.call(e,l)})}),t},generateGridColumnSpacingStyles=({theme:e,ownerState:n})=>{if(!n.container)return{};let r=createGetParentSpacing(n),t=isNestedContainer(n)?{[`--Grid-columnSpacing${appendLevel(n.unstable_level)}`]:r("column")}:{};return traverseBreakpoints(e.breakpoints,n.columnSpacing,(r,l)=>{var i;r(t,{[`--Grid-columnSpacing${appendLevel(n.unstable_level)}`]:"string"==typeof l?l:null==(i=e.spacing)?void 0:i.call(e,l)})}),t},generateGridDirectionStyles=({theme:e,ownerState:n})=>{if(!n.container)return{};let r={};return traverseBreakpoints(e.breakpoints,n.direction,(e,n)=>{e(r,{flexDirection:n})}),r},generateGridStyles=({ownerState:e})=>{let n=createGetSelfSpacing(e),r=createGetParentSpacing(e);return(0,f.Z)({minWidth:0,boxSizing:"border-box"},e.container&&(0,f.Z)({display:"flex",flexWrap:"wrap"},e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},{margin:`calc(${n("row")} / -2) calc(${n("column")} / -2)`},e.disableEqualOverflow&&{margin:`calc(${n("row")} * -1) 0px 0px calc(${n("column")} * -1)`}),(!e.container||isNestedContainer(e))&&(0,f.Z)({padding:`calc(${r("row")} / 2) calc(${r("column")} / 2)`},(e.disableEqualOverflow||e.parentDisableEqualOverflow)&&{padding:`${r("row")} 0px 0px ${r("column")}`}))},generateSizeClassNames=e=>{let n=[];return Object.entries(e).forEach(([e,r])=>{!1!==r&&void 0!==r&&n.push(`grid-${e}-${String(r)}`)}),n},generateSpacingClassNames=(e,n="xs")=>{function isValidSpacing(e){return void 0!==e&&("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e&&e>0)}if(isValidSpacing(e))return[`spacing-${n}-${String(e)}`];if("object"==typeof e&&!Array.isArray(e)){let n=[];return Object.entries(e).forEach(([e,r])=>{isValidSpacing(r)&&n.push(`spacing-${e}-${String(r)}`)}),n}return[]},generateDirectionClasses=e=>void 0===e?[]:"object"==typeof e?Object.entries(e).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(e)}`],G=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],Z=(0,C.Z)(),k=(0,S.Z)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,n)=>n.root});function useThemePropsDefault(e){return(0,j.Z)({props:e,name:"MuiGrid",defaultTheme:Z})}var _=r(90948),$=r(71657);let O=function(e={}){let{createStyledComponent:n=k,useThemeProps:r=useThemePropsDefault,componentName:l="MuiGrid"}=e,i=c.createContext(void 0),useUtilityClasses=(e,n)=>{let{container:r,direction:t,spacing:i,wrap:a,gridSize:o}=e,s={root:["root",r&&"container","wrap"!==a&&`wrap-xs-${String(a)}`,...generateDirectionClasses(t),...generateSizeClassNames(o),...r?generateSpacingClassNames(i,n.breakpoints.keys[0]):[]]};return(0,m.Z)(s,e=>(0,h.Z)(l,e),{})},a=n(generateGridColumnsStyles,generateGridColumnSpacingStyles,generateGridRowSpacingStyles,generateGridSizeStyles,generateGridDirectionStyles,generateGridStyles,generateGridOffsetStyles),o=c.forwardRef(function(e,n){var l,o,s,d,u,p,g,m;let h=(0,y.Z)(),S=r(e),j=(0,w.Z)(S),C=c.useContext(i),{className:Z,children:k,columns:_=12,container:$=!1,component:O="div",direction:N="row",wrap:E="wrap",spacing:L=0,rowSpacing:P=L,columnSpacing:B=L,disableEqualOverflow:T,unstable_level:A=0}=j,M=(0,v.Z)(j,G),D=T;A&&void 0!==T&&(D=e.disableEqualOverflow);let q={},F={},I={};Object.entries(M).forEach(([e,n])=>{void 0!==h.breakpoints.values[e]?q[e]=n:void 0!==h.breakpoints.values[e.replace("Offset","")]?F[e.replace("Offset","")]=n:I[e]=n});let R=null!=(l=e.columns)?l:A?void 0:_,z=null!=(o=e.spacing)?o:A?void 0:L,W=null!=(s=null!=(d=e.rowSpacing)?d:e.spacing)?s:A?void 0:P,V=null!=(u=null!=(p=e.columnSpacing)?p:e.spacing)?u:A?void 0:B,K=(0,f.Z)({},j,{level:A,columns:R,container:$,direction:N,wrap:E,spacing:z,rowSpacing:W,columnSpacing:V,gridSize:q,gridOffset:F,disableEqualOverflow:null!=(g=null!=(m=D)?m:C)&&g,parentDisableEqualOverflow:C}),U=useUtilityClasses(K,h),X=(0,t.jsx)(a,(0,f.Z)({ref:n,as:O,ownerState:K,className:(0,x.Z)(U.root,Z)},I,{children:c.Children.map(k,e=>{if(c.isValidElement(e)&&(0,b.Z)(e,["Grid"])){var n;return c.cloneElement(e,{unstable_level:null!=(n=e.props.unstable_level)?n:A+1})}return e})}));return void 0!==D&&D!==(null!=C&&C)&&(X=(0,t.jsx)(i.Provider,{value:D,children:X})),X});return o.muiName="Grid",o}({createStyledComponent:(0,_.ZP)("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,n)=>n.root}),componentName:"MuiGrid2",useThemeProps:e=>(0,$.Z)({props:e,name:"MuiGrid2"})});var N=r(30925),E=r(87357),L=r(61599);function _templateObject(){let e=(0,s._)(["\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,s._)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  border-radius: 12px;\n  box-shadow: none;\n  height: ","px;\n  order: ",";\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,s._)(["\n  display: flex;\n  padding: 8px;\n  margin: auto auto 0 auto;\n  justify-content: center;\n  border-radius: 12px 12px 0 0;\n  box-shadow: none;\n  width: 100%;\n  background-color: ",";\n  outline: ",";\n  outline-color: ",";\n"]);return _templateObject2=function(){return e},e}let P="#007E85",B="#12141c",TopThree=e=>{let{sectionName:n,topThree:r}=e;return(0,t.jsx)(O,{container:!0,spacing:4,children:r.map((e,a)=>(0,t.jsx)(O,{xs:(null==r?void 0:r.length)===1?12:4,order:0===a?2:1===a?1:3,alignSelf:"flex-end",children:(0,t.jsxs)(A,{height:0===a?125:1===a?115:105,children:[(0,t.jsxs)(i.Z,{sx:{height:"100%"},gap:1,alignItems:"center",justifyContent:"center",direction:"row",children:[(0,t.jsx)(l.Z,{children:a+1}),(0,t.jsx)(E.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)("img",{width:2===a?20:24,height:2===a?20:24,style:{objectFit:"contain"},src:"".concat(N.prefix).concat(0===a?"data/Trophie.png":1===a?"data/G2icon40.png":"data/G2icon39.png")})})]}),(0,t.jsx)(M,{outline:null==e?void 0:e.loggedMainChar,children:(0,t.jsxs)(i.Z,{justifyContent:"center",children:[(0,t.jsx)(l.Z,{textAlign:"center",sx:{mt:"auto"},children:null==e?void 0:e.mainChar}),(0,t.jsx)(l.Z,{textAlign:"center",children:(0,N.notateNumber)(null==e?void 0:e[n])})]})})]})},"top-three-".concat(n,"-").concat(null==e?void 0:e.mainChar)))})},T=(0,L.Z)(E.Z,{shouldForwardProp:e=>"inline"!==e})(_templateObject(),e=>{let{inline:n}=e;return n?"inline-flex":"flex"},e=>{let{bgColor:n}=e;return n||"#ffffff21"}),A=(0,L.Z)(g.Z,{shouldForwardProp:e=>"bgColor"!==e&&"order"!==e&&"inline"!==e})(_templateObject1(),e=>{let{height:n}=e;return n},e=>{let{order:n}=e;return n}),M=(0,L.Z)(g.Z,{shouldForwardProp:e=>"outline"!==e})(_templateObject2(),e=>{let{outline:n}=e;return n?B:"#161826"},e=>{let{outline:n}=e;return n?"3px solid":"none"},P);var Leaderboard=e=>{let{leaderboards:n,loggedMainChar:r}=e;return(0,t.jsx)(O,{sx:{width:"100%",margin:"0 auto"},justifySelf:"center",container:!0,rowSpacing:3,columnSpacing:{lg:4,xl:12},children:Object.entries(n||{}).map((e,n)=>{let[i,a]=e,o,s=a.slice(3,10),c=null==a?void 0:a.toSpliced(10).findIndex(e=>(null==e?void 0:e.mainChar)===r);if(-1!==c)s=(a=null==a?void 0:a.map((e,n)=>n===c?{...e,loggedMainChar:!0,index:c}:e)).slice(3,10);else{let e=null==a?void 0:a.findIndex(e=>(null==e?void 0:e.mainChar)===r),n=null==a?void 0:a[e];-1!==e&&(s=a.slice(3,10).concat([{...n,index:e}]))}o=null==a?void 0:a.toSpliced(3);let g=(null==a?void 0:a.length)===0;return(0,t.jsxs)(O,{xs:12,lg:6,xl:4,children:[(0,t.jsx)(l.Z,{textAlign:"center",variant:"h4",mt:{xs:3,lg:0},mb:{xs:3,lg:1},children:i.camelToTitleCase()}),g?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.Z,{textAlign:"center",mt:5,variant:"h6",children:"Nothing here yet"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(TopThree,{sectionName:i,topThree:o}),(0,t.jsx)(d.Z,{children:s.map((e,n)=>(0,t.jsx)(u.ZP,{sx:{backgroundColor:(null==e?void 0:e.index)?B:"#1a1d2a",border:(null==e?void 0:e.index)?"2px solid":"none",borderColor:(null==e?void 0:e.index)?P:""},secondaryAction:(0,t.jsx)(l.Z,{children:(0,N.notateNumber)(null==e?void 0:e[i])}),children:(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(T,{inline:!0,sx:{mr:2},children:(null==e?void 0:e.index)?null==e?void 0:e.index:n+4})," ",null==e?void 0:e.mainChar]})},"".concat(i,"-").concat(n)))})]})]},"".concat(i,"-").concat(n))})})},D=r(23513),q=r(2962),F=r(94967),leaderboards=()=>{var e,n;let{state:r}=(0,c.useContext)(D.I),s=null==r?void 0:null===(n=r.characters)||void 0===n?void 0:null===(e=n[0])||void 0===e?void 0:e.name,[d,u]=c.useState(),[p,g]=c.useState("");return(0,c.useEffect)(()=>{let getLeaderboards=async()=>{try{let e=await (0,F.RD)();u(e),g("")}catch(e){g("Error has occurred while getting leaderboards")}};getLeaderboards()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q.PB,{title:"Idleon Toolbox | Leaderboards",description:"Leaderboards for Idleon MMO"}),(0,t.jsx)(l.Z,{textAlign:"center",variant:"h1",children:"Leaderboards"}),(0,t.jsx)(l.Z,{textAlign:"center",sx:{fontSize:14},component:"div",variant:"caption",children:"* To participate in the leaderboards, please upload your profile with leaderboard consent."}),d?p?(0,t.jsx)(l.Z,{color:"error.light",textAlign:"center",variant:"h6",children:p}):(0,t.jsxs)(o.Z,{tabs:["General","Tasks","Skills"],children:[(0,t.jsx)(Leaderboard,{leaderboards:null==d?void 0:d.general,loggedMainChar:s}),(0,t.jsx)(Leaderboard,{leaderboards:null==d?void 0:d.tasks,loggedMainChar:s}),(0,t.jsx)(Leaderboard,{leaderboards:null==d?void 0:d.skills,loggedMainChar:s})]}):(0,t.jsx)(i.Z,{alignItems:"center",justifyContent:"center",mt:3,children:(0,t.jsx)(a.Z,{})})]})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=52965)}),_N_E=e.O()}]);