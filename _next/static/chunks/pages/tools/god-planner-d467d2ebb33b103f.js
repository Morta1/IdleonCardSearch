(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4090],{50480:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(63366),l=n(87462),i=n(67294),a=n(86010),o=n(94780),s=n(74423),c=n(15861),d=n(98216),u=n(90948),p=n(71657),m=n(1588),h=n(34867);function getFormControlLabelUtilityClasses(e){return(0,h.Z)("MuiFormControlLabel",e)}let x=(0,m.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var f=n(15704),g=n(85893);let Z=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],useUtilityClasses=e=>{let{classes:t,disabled:n,labelPlacement:r,error:l,required:i}=e,a={root:["root",n&&"disabled",`labelPlacement${(0,d.Z)(r)}`,l&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",l&&"error"]};return(0,o.Z)(a,getFormControlLabelUtilityClasses,t)},v=(0,u.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${x.label}`]:t.label},t.root,t[`labelPlacement${(0,d.Z)(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>(0,l.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${x.disabled}`]:{cursor:"default"}},"start"===t.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===t.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===t.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${x.label}`]:{[`&.${x.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),j=(0,u.ZP)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${x.error}`]:{color:(e.vars||e).palette.error.main}})),b=i.forwardRef(function(e,t){var n,o;let d=(0,p.Z)({props:e,name:"MuiFormControlLabel"}),{className:u,componentsProps:m={},control:h,disabled:x,disableTypography:b,label:y,labelPlacement:C="end",required:w,slotProps:P={}}=d,_=(0,r.Z)(d,Z),T=(0,s.Z)(),k=null!=(n=null!=x?x:h.props.disabled)?n:null==T?void 0:T.disabled,I=null!=w?w:h.props.required,D={disabled:k,required:I};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===h.props[e]&&void 0!==d[e]&&(D[e]=d[e])});let O=(0,f.Z)({props:d,muiFormControl:T,states:["error"]}),W=(0,l.Z)({},d,{disabled:k,labelPlacement:C,required:I,error:O.error}),F=useUtilityClasses(W),S=null!=(o=P.typography)?o:m.typography,N=y;return null==N||N.type===c.Z||b||(N=(0,g.jsx)(c.Z,(0,l.Z)({component:"span"},S,{className:(0,a.Z)(F.label,null==S?void 0:S.className),children:N}))),(0,g.jsxs)(v,(0,l.Z)({className:(0,a.Z)(F.root,u),ownerState:W,ref:t},_,{children:[i.cloneElement(h,D),N,I&&(0,g.jsxs)(j,{ownerState:W,"aria-hidden":!0,className:F.asterisk,children:["â€‰","*"]})]}))});var y=b},20466:function(e,t,n){"use strict";n.d(t,{Z:function(){return getDay}});var r=n(19013),l=n(13882);function getDay(e){return(0,l.Z)(1,arguments),(0,r.Z)(e).getDay()}},33913:function(e,t,n){"use strict";n.d(t,{Z:function(){return isPast}});var r=n(19013),l=n(13882);function isPast(e){return(0,l.Z)(1,arguments),(0,r.Z)(e).getTime()<Date.now()}},49352:function(e,t,n){"use strict";n.d(t,{Z:function(){return isThursday}});var r=n(19013),l=n(13882);function isThursday(e){return(0,l.Z)(1,arguments),4===(0,r.Z)(e).getDay()}},85148:function(e,t,n){"use strict";n.d(t,{Z:function(){return nextThursday}});var r=n(77349),l=n(20466),i=n(13882);function nextThursday(e){return(0,i.Z)(1,arguments),function(e,t){(0,i.Z)(2,arguments);var n=4-(0,l.Z)(e);return n<=0&&(n+=7),(0,r.Z)(e,n)}(e,4)}},23284:function(e,t,n){"use strict";n.d(t,{Z:function(){return previousThursday}});var r=n(13882),l=n(20466),i=n(7069);function previousThursday(e){return(0,r.Z)(1,arguments),function(e,t){(0,r.Z)(2,arguments);var n=(0,l.Z)(e)-4;return n<=0&&(n+=7),(0,i.Z)(e,n)}(e,4)}},28366:function(e,t,n){"use strict";n.d(t,{Z:function(){return startOfToday}});var r=n(69119);function startOfToday(){return(0,r.Z)(Date.now())}},52046:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/god-planner",function(){return n(30973)}])},86736:function(e,t,n){"use strict";n.d(t,{Gr:function(){return MissingData},M5:function(){return x},Wd:function(){return PlayersList},Ye:function(){return CardTitleAndValue},iy:function(){return CardAndBorder},j8:function(){return f},u3:function(){return TalentTooltip},uQ:function(){return TitleAndValue},wD:function(){return CenteredStack}});var r=n(82729),l=n(85893),i=n(67294),a=n(30925),o=n(51233),s=n(15861),c=n(49425),d=n(66242),u=n(44267),p=n(61599),m=n(5072),h=n(54685);function _templateObject(){let e=(0,r._)(["\n  & .MuiBadge-badge {\n    background-color: #d5d5dc;\n    color: rgba(0, 0, 0, 0.87);\n  }\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,r._)(["\n  height: 20px;\n  object-fit: contain;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,r._)(["\n  width: 56px;\n  height: 72px;\n  object-fit: contain;\n  opacity: ",";\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,r._)(["\n  position: absolute;\n  left: 50%;\n  top: -3px;\n  pointer-events: none;\n  transform: translateX(-50%);\n"]);return _templateObject3=function(){return e},e}let x=(0,i.forwardRef)((e,t)=>{let{stat:n,icon:r}=e,{img:i,...c}=e;return(0,l.jsxs)(o.Z,{alignItems:"center",...c,ref:t,style:{position:"relative",width:"fit-content"},children:[(0,l.jsx)("img",{...i,src:"".concat(a.prefix,"data/").concat(r,".png"),alt:""}),(0,l.jsx)(s.Z,{variant:"body1",component:"span",children:n})]})});x.displayName="IconWithText";let TitleAndValue=e=>{let{title:t,value:n,boldTitle:r,titleStyle:i={},valueStyle:a={}}=e;return(0,l.jsxs)(o.Z,{direction:"row",flexWrap:"wrap",alignItems:"center",children:[t?(0,l.jsxs)(s.Z,{style:i,fontWeight:r?"bold":500,component:"span",children:[t,":\xa0"]}):null,(0,l.jsx)(s.Z,{fontSize:15,component:"span",sx:a,children:n})]})},f=(0,p.Z)(c.Z)(_templateObject()),CardAndBorder=e=>{let{cardName:t,stars:n,cardIndex:r,name:i,variant:o,rawName:s,amount:c,nextLevelReq:d}=e,u="cardSet"===o?"".concat(a.prefix,"data/").concat(s,".png"):"".concat(a.prefix,"data/2Cards").concat(r,".png");return(0,l.jsxs)(l.Fragment,{children:[n>0?(0,l.jsx)(v,{src:"".concat(a.prefix,"data/CardEquipBorder").concat(n,".png"),alt:""}):null,(0,l.jsx)(m.Z,{title:(0,l.jsx)(CardTooltip,{...e,cardName:"cardSet"===o?i:t,nextLevelReq:d,amount:c}),children:(0,l.jsx)(Z,{isCardSet:"cardSet"===o,amount:c,src:u,alt:""})})]})},CardTooltip=e=>{let{displayName:t,effect:n,bonus:r,stars:i,showInfo:c,nextLevelReq:d,amount:u}=e,p=r;return c&&(p=(0,h.BZ)({bonus:r,stars:i})),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.Z,{fontWeight:"bold",variant:"h6",children:(0,a.cleanUnderscore)(t)}),(0,l.jsx)(s.Z,{children:(0,a.cleanUnderscore)(n.replace("{",p))}),c?(0,l.jsx)(o.Z,{mt:1,direction:"row",gap:1,flexWrap:"wrap",children:[1,2,3,4,5,6].map((e,n)=>(0,l.jsxs)(o.Z,{alignItems:"center",justifyContent:"space-between",children:[0===n?(0,l.jsx)(s.Z,{children:"Base"}):(0,l.jsx)(g,{src:"".concat(a.prefix,"etc/Star").concat(n,".png"),alt:""}),(0,l.jsx)(s.Z,{children:r*(n+1)})]},"".concat(t,"-").concat(n)))}):null,u>=d?(0,l.jsxs)(o.Z,{children:["You've collected ",(0,a.numberWithCommas)(u)," cards"]}):d>0?(0,l.jsxs)(o.Z,{children:["Progress: ",(0,a.numberWithCommas)(u)," / ",(0,a.numberWithCommas)(d)]}):null]})},g=p.Z.img(_templateObject1()),Z=p.Z.img(_templateObject2(),e=>{let{amount:t,isCardSet:n}=e;return t||n?1:.5}),v=p.Z.img(_templateObject3()),TalentTooltip=e=>{let{level:t,funcX:n,x1:r,x2:i,funcY:c,y1:d,y2:u,description:p,name:m,talentId:h}=e,x=t>0?(0,a.growth)(n,t,r,i):0,f=t>0?(0,a.growth)(c,t,d,u):0;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,l.jsx)("img",{src:"".concat(a.prefix,"data/UISkillIcon").concat(h,".png"),alt:""}),(0,l.jsx)(s.Z,{fontWeight:"bold",variant:"h6",children:(0,a.cleanUnderscore)(m)})]}),(0,l.jsx)(s.Z,{children:(0,a.cleanUnderscore)(p).replace("{",x).replace("}",f)})]})},PlayersList=e=>{let{players:t,characters:n}=e;return(0,l.jsx)(o.Z,{gap:1,direction:"row",children:t.map(e=>{var t;let{index:r}=e;return(0,l.jsx)(m.Z,{title:null==n?void 0:null===(t=n[r])||void 0===t?void 0:t.name,children:(0,l.jsx)("img",{src:"".concat(a.prefix,"data/headBIG.png"),alt:""})},name+"-head-"+r)})})},MissingData=e=>{let{name:t}=e;return(0,l.jsxs)(s.Z,{variant:"h3",children:["Your account is missing data for ",t]})},CardTitleAndValue=e=>{let{variant:t,raised:n,cardSx:r,title:i,value:c,children:p,icon:m}=e;return(0,l.jsx)(d.Z,{variant:t,raised:n,sx:{my:{xs:0,md:3},width:"fit-content",...r},children:(0,l.jsxs)(u.Z,{children:[(0,l.jsx)(s.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:i}),c?m?(0,l.jsxs)(o.Z,{direction:"row",gap:2,children:[(0,l.jsx)("img",{style:{objectFit:"contain"},src:"".concat(a.prefix).concat(m),alt:""}),(0,l.jsx)(s.Z,{children:c})]}):(0,l.jsx)(s.Z,{children:c}):p]})})},CenteredStack=e=>{let{direction:t="row",children:n}=e;return(0,l.jsx)(o.Z,{gap:1,direction:t,alignItems:"center",children:n})}},30973:function(e,t,n){"use strict";n.r(t);var r=n(85893),l=n(67294),i=n(23513),a=n(15861),o=n(50480),s=n(69368),c=n(51233),d=n(66242),u=n(44267),p=n(30925),m=n(88054),h=n(2962),x=n(50594),f=n(93946),g=n(86736),Z=n(5072),v=n(70473);let CharDeityDetails=e=>{let{name:t,bonus:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{sx:{fontWeight:"bold"},children:t}),(0,r.jsx)(a.Z,{children:(0,p.cleanUnderscore)(n)})]})};t.default=()=>{var e;let{dispatch:t,state:n}=(0,l.useContext)(i.I),{characters:j,account:b}=n,[y,C]=(0,l.useState)([]),[w,P]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(null==n?void 0:n.godPlanner)&&C((0,p.tryToParse)(null==n?void 0:n.godPlanner))},[]);let handleClick=e=>{let{charName:n,playerId:r,godName:l}=e,i=[...y],a={charName:n,playerId:r,godName:l},o=null==i?void 0:i.findIndex(e=>(null==e?void 0:e.charName)===n);-1!==o?i.splice(o,1,a):i.push(a),i.sort((e,t)=>(null==e?void 0:e.playerId)-(null==t?void 0:t.playerId)),t({type:"godPlanner",data:i}),C(i)},handleDelete=e=>{let n=[...y].filter((t,n)=>n!==e);t({type:"godPlanner",data:n}),C(n)};return(null==n?void 0:null===(e=n.account)||void 0===e?void 0:e.divinity)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.PB,{title:"Idleon Toolbox | God Planner",description:"Watch all of your character's gods minor bonuses"}),(0,r.jsx)(a.Z,{variant:"h2",mb:3,children:"God Planner"}),(0,r.jsx)(a.Z,{variant:"caption",component:"div",children:"* Click on a god to add it to the build"}),(0,r.jsx)(o.Z,{control:(0,r.jsx)(s.Z,{name:"mini",checked:w,size:"small",onChange:()=>P(!w)}),label:"Apply big p bubble"}),(0,r.jsx)(c.Z,{direction:"row",sx:{gap:{xs:1,sm:2},minHeight:80},my:2,flexWrap:"wrap",children:null==y?void 0:y.map((e,t)=>{let{charName:n,godName:l}=e;return(0,r.jsx)(d.Z,{sx:{overflow:"visible",position:"relative",minWidth:150},children:(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(f.Z,{sx:{position:"absolute",top:0,right:0,transform:"translate(50%, -50%)"},size:"small",onClick:()=>handleDelete(t),children:(0,r.jsx)(x.Z,{})}),(0,r.jsxs)(c.Z,{alignItems:"center",justifyContent:"center",children:[(0,r.jsx)("img",{width:24,height:24,src:"".concat(p.prefix,"data/").concat(l,".png"),alt:""}),(0,r.jsx)(a.Z,{children:n})]},n)]})},n+l+t)})}),(0,r.jsx)(c.Z,{gap:1,sx:{width:"fit-content"},children:null==j?void 0:j.map((e,t)=>{var n,l,i,o;let{classIndex:s,name:h,deityMinorBonus:x=0,divStyle:f,secondLinkedDeityIndex:g,secondDeityMinorBonus:j=0,playerId:y,skillsInfo:C}=e,P=(0,m.om)(null==b?void 0:null===(n=b.alchemy)||void 0===n?void 0:n.bubbles,"kazam","BIG_P",!1),_=null==C?void 0:null===(l=C.divinity)||void 0===l?void 0:l.level;return(0,r.jsx)(d.Z,{children:(0,r.jsx)(u.Z,{children:(0,r.jsxs)(c.Z,{direction:"row",gap:2,alignItems:"center",flexWrap:"wrap",children:[(0,r.jsxs)(c.Z,{sx:{width:130},direction:"column",alignItems:"center",children:[(0,r.jsx)("img",{src:"".concat(p.prefix,"data/ClassIcons").concat(s,".png"),alt:""}),(0,r.jsx)(a.Z,{children:h})]}),null==b?void 0:null===(o=b.divinity)||void 0===o?void 0:null===(i=o.deities)||void 0===i?void 0:i.map((e,n)=>{var l,i,a,o;let{name:s,rawName:m,majorBonus:x,minorBonus:f,blessing:j,blessingMultiplier:C,blessingBonus:T,minorBonusMultiplier:k}=e,I=(null==b?void 0:null===(i=b.divinity)||void 0===i?void 0:null===(l=i.linkedDeities)||void 0===l?void 0:l[t])===n,D=null===v.gods||void 0===v.gods?void 0:null===(a=v.gods[n])||void 0===a?void 0:a.godIndex,O=null===v.gods||void 0===v.gods?void 0:null===(o=v.gods[D])||void 0===o?void 0:o.minorBonusMultiplier,W=_/(60+_)*Math.max(1,w&&P)*O,F=f.replace(/{/g,W.toFixed(2));return(0,r.jsx)(Z.Z,{title:(0,r.jsx)(CharDeityDetails,{name:s,bonus:F}),children:(0,r.jsx)(d.Z,{variant:"outlined",onClick:()=>handleClick({charName:h,playerId:y,godName:m}),sx:{width:80,cursor:"pointer",border:I||g===n?"1px solid #81c784":""},children:(0,r.jsx)(u.Z,{sx:{"&:last-child":{padding:1}},children:(0,r.jsxs)(c.Z,{alignItems:"center",justifyContent:"center",children:[(0,r.jsx)("img",{width:24,height:24,src:"".concat(p.prefix,"data/").concat(m,".png"),alt:""}),W.toFixed(2)]})})})},m)})]})})},h)})})]}):(0,r.jsx)(g.Gr,{name:"divinity"})}}},function(e){e.O(0,[5127,7896,8054,9774,2888,179],function(){return e(e.s=52046)}),_N_E=e.O()}]);