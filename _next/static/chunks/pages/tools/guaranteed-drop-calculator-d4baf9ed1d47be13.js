!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=(new e.Error).stack;l&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[l]="0c8d8f27-4926-44ad-9a9f-262aa651a2a9",e._sentryDebugIdIdentifier="sentry-dbid-0c8d8f27-4926-44ad-9a9f-262aa651a2a9")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{21200:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/guaranteed-drop-calculator",function(){return a(31942)}])},31942:function(e,l,a){"use strict";a.r(l);var t=a(85893),i=a(67294),n=a(12957),r=a(51233),o=a(417),s=a(87918),d=a(23972),u=a(50135),c=a(69417),p=a(65298),h=a(94978);let m=(0,n.D)({trim:!0,limit:250});l.default=()=>{let[e,l]=(0,i.useState)(null),a=(0,i.useMemo)(()=>Object.values(h.monsterDrops).flat().filter(e=>{var l;return(null==e?void 0:e.rawName)!=="COIN"&&!(null==e?void 0:null===(l=e.rawName)||void 0===l?void 0:l.includes("DungCredits"))&&(null==e?void 0:e.chance)>0}),[]),[n,v]=(0,i.useState)({dropRate:"",killsWithMultikill:"",multiKillBonus:""}),[g,f]=(0,i.useState)({}),[x,y]=(0,i.useState)([]),handleChange=e=>{let{target:l}=e,{name:a,value:t}=l,i=t.replace(/,/g,"");f(e=>({...e,[a]:!1})),v(e=>({...e,[a]:(0,p.numberWithCommas)(i)}))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Z,{direction:"row",gap:1,flexWrap:"wrap",alignItems:"center","data-sentry-element":"Stack","data-sentry-source-file":"guaranteed-drop-calculator.jsx",children:[(0,t.jsx)(o.Z,{id:"drop calc",value:e,onChange:(e,a)=>{l(a),f({...g,material:!1})},options:[...a],filterSelectedOptions:!0,filterOptions:m,getOptionLabel:e=>{var l;return(null==e?void 0:e.displayName)?null==e?void 0:null===(l=e.displayName)||void 0===l?void 0:l.replace(/_/g," "):""},sx:{width:300},renderTags:(e,l)=>e.map((e,a)=>{var i;return(0,t.jsx)(s.Z,{icon:(0,t.jsx)("img",{width:24,height:24,src:"".concat(p.prefix,"data/").concat(null==e?void 0:e.rawName,".png"),alt:""}),label:null==e?void 0:null===(i=e.displayName)||void 0===i?void 0:i.replace(/_/g," "),...l({index:a})},a)}),renderOption:(e,l)=>{var a;return l?(0,i.createElement)(r.Z,{...e,key:e.id,sx:{alignItems:"flex-start !important"},children:[(0,t.jsxs)(r.Z,{direction:"row",gap:2,children:[(0,t.jsx)("img",{width:24,height:24,src:"".concat(p.prefix,"data/").concat(null==l?void 0:l.rawName,".png"),alt:""},"img-".concat(e.id)),(0,t.jsxs)(d.Z,{children:[null==l?void 0:null===(a=l.displayName)||void 0===a?void 0:a.replace(/_/g," ")," (1 / ",Math.ceil(1/(null==l?void 0:l.chance)),")"]},"text-".concat(e.id))]}),(0,t.jsx)(d.Z,{variant:"caption",children:(0,p.cleanUnderscore)(null==l?void 0:l.monsterDisplayName)})]}):null},renderInput:e=>(0,t.jsx)(u.Z,{...e,error:null==g?void 0:g.material,label:"Material name",variant:"outlined"}),"data-sentry-element":"Autocomplete","data-sentry-source-file":"guaranteed-drop-calculator.jsx"}),(0,t.jsx)(u.Z,{error:null==g?void 0:g.dropRate,onChange:handleChange,name:"dropRate",value:n.dropRate,label:"Drop rate","data-sentry-element":"TextField","data-sentry-source-file":"guaranteed-drop-calculator.jsx"}),(0,t.jsx)(u.Z,{error:null==g?void 0:g.killsWithMultikill,onChange:handleChange,name:"killsWithMultikill",value:n.killsWithMultikill,label:"Kills with multi kill","data-sentry-element":"TextField","data-sentry-source-file":"guaranteed-drop-calculator.jsx"}),(0,t.jsx)(u.Z,{error:null==g?void 0:g.multiKillBonus,onChange:handleChange,name:"multiKillBonus",value:n.multiKillBonus,label:"Multikill bonus %","data-sentry-element":"TextField","data-sentry-source-file":"guaranteed-drop-calculator.jsx"}),(0,t.jsx)(c.Z,{variant:"contained",onClick:()=>{var l,a,t;let i={};e||(i.material=!0);let r=parseFloat(null===(l=n.dropRate)||void 0===l?void 0:l.replace(/,/g,"")),o=parseFloat(null===(a=n.killsWithMultikill)||void 0===a?void 0:a.replace(/,/g,"")),s=parseFloat(null===(t=n.multiKillBonus)||void 0===t?void 0:t.replace(/,/g,""));if((isNaN(r)||""===n.dropRate)&&(i.dropRate=!0),(isNaN(o)||""===n.killsWithMultikill)&&(i.killsWithMultikill=!0),(isNaN(s)||""===n.multiKillBonus)&&(i.multiKillBonus=!0),(null==i?void 0:i.material)||i.dropRate||i.killsWithMultikill||i.multiKillBonus){f(i);return}let d=Math.round(o/(1+s/100))*parseFloat(null==e?void 0:e.chance)*r;if(!isNaN(d)){let e=[2,2.51,3.51,4.51,5.51,6.51,7.51,8.51,9.51];y([2,3,4,5,6,7,8,9,10].map((l,a)=>({breakpoint:l,hours:e[a]/d})))}},"data-sentry-element":"Button","data-sentry-source-file":"guaranteed-drop-calculator.jsx",children:"Run"})]}),(0,t.jsx)(d.Z,{variant:"caption","data-sentry-element":"Typography","data-sentry-source-file":"guaranteed-drop-calculator.jsx",children:"* This does not include values from the 2x kills lab bonus or the god bonus in W5 (divide the kills input by 4 if both bonuses apply), kill-per-kill talents, prayers, or bubbles."}),(null==x?void 0:x.length)>0?(0,t.jsxs)(r.Z,{mt:2,children:[(0,t.jsx)(d.Z,{variant:"h6",children:"Results"}),x.map(e=>{let{breakpoint:l,hours:a}=e;return(0,t.jsx)(r.Z,{children:(0,t.jsxs)(d.Z,{children:["x",l," drop in ",(0,p.notateNumber)(a,"MultiplierInfo")," hours"]})},"result-"+l)})]}):null,"    "]})}}},function(e){e.O(0,[417,9774,2888,179],function(){return e(e.s=21200)}),_N_E=e.O()}]);