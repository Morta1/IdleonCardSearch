(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5053],{8364:function(e,l,r){"use strict";var t=r(64836);l.Z=void 0;var n=t(r(64938)),a=r(85893),i=(0,n.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");l.Z=i},77957:function(e,l,r){"use strict";var t=r(64836);l.Z=void 0;var n=t(r(64938)),a=r(85893),i=(0,n.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");l.Z=i},74721:function(e,l,r){"use strict";var t=r(64836);l.Z=void 0;var n=t(r(64938)),a=r(85893),i=(0,n.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");l.Z=i},50480:function(e,l,r){"use strict";r.d(l,{Z:function(){return j}});var t=r(63366),n=r(87462),a=r(67294),i=r(86010),o=r(94780),s=r(74423),d=r(15861),u=r(98216),c=r(90948),p=r(71657),h=r(1588),m=r(34867);function getFormControlLabelUtilityClasses(e){return(0,m.Z)("MuiFormControlLabel",e)}let v=(0,h.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var x=r(15704),b=r(85893);let g=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],useUtilityClasses=e=>{let{classes:l,disabled:r,labelPlacement:t,error:n,required:a}=e,i={root:["root",r&&"disabled",`labelPlacement${(0,u.Z)(t)}`,n&&"error",a&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",n&&"error"]};return(0,o.Z)(i,getFormControlLabelUtilityClasses,l)},Z=(0,c.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,l)=>{let{ownerState:r}=e;return[{[`& .${v.label}`]:l.label},l.root,l[`labelPlacement${(0,u.Z)(r.labelPlacement)}`]]}})(({theme:e,ownerState:l})=>(0,n.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${v.disabled}`]:{cursor:"default"}},"start"===l.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===l.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===l.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${v.label}`]:{[`&.${v.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),w=(0,c.ZP)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,l)=>l.asterisk})(({theme:e})=>({[`&.${v.error}`]:{color:(e.vars||e).palette.error.main}})),f=a.forwardRef(function(e,l){var r,o;let u=(0,p.Z)({props:e,name:"MuiFormControlLabel"}),{className:c,componentsProps:h={},control:m,disabled:v,disableTypography:f,label:j,labelPlacement:y="end",required:C,slotProps:k={}}=u,N=(0,t.Z)(u,g),L=(0,s.Z)(),S=null!=(r=null!=v?v:m.props.disabled)?r:null==L?void 0:L.disabled,B=null!=C?C:m.props.required,P={disabled:S,required:B};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===m.props[e]&&void 0!==u[e]&&(P[e]=u[e])});let E=(0,x.Z)({props:u,muiFormControl:L,states:["error"]}),O=(0,n.Z)({},u,{disabled:S,labelPlacement:y,required:B,error:E.error}),I=useUtilityClasses(O),M=null!=(o=k.typography)?o:h.typography,_=j;return null==_||_.type===d.Z||f||(_=(0,b.jsx)(d.Z,(0,n.Z)({component:"span"},M,{className:(0,i.Z)(I.label,null==M?void 0:M.className),children:_}))),(0,b.jsxs)(Z,(0,n.Z)({className:(0,i.Z)(I.root,c),ownerState:O,ref:l},N,{children:[a.cloneElement(m,P),_,B&&(0,b.jsxs)(w,{ownerState:O,"aria-hidden":!0,className:I.asterisk,children:["â€‰","*"]})]}))});var j=f},50292:function(e,l,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/material-tracker",function(){return r(84534)}])},84534:function(e,l,r){"use strict";r.r(l);var t=r(85893),n=r(67294),a=r(21785),i=r(98396),o=r(51233),s=r(417),d=r(87918),u=r(15861),c=r(50135),p=r(50480),h=r(69368),m=r(78462),v=r(97212),x=r(66242),b=r(44267),g=r(30925),Z=r(70473),w=r(83321),f=r(74721),j=r(2511),y=r(88344),C=r(21480),k=r(2962),N=r(8364),L=r(93946),S=r(77957),B=r(87357);let P=(0,a.D)({trim:!0,limit:250});l.default=()=>{var e;let{state:l}=(0,n.useContext)(C.I),r=(0,i.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),[a,E]=(0,n.useState)([]),[O,I]=(0,n.useState)(!1),[M,_]=(0,n.useState)({lowerBound:"",upperBound:""}),[z,F]=(0,n.useState)(""),[R,T]=(0,n.useState)({}),[W,D]=(0,n.useState)(JSON.parse(localStorage.getItem("material-tracker"))||{}),U=(0,n.useMemo)(()=>Z.itemsArray.filter(e=>{let{itemType:l,typeGen:r,displayName:t}=e;return"ERROR"!==t&&"Blank"!==t&&"Filler"!==t&&"DONTFILL"!==t&&"FILLER"!==t&&"Equip"!==l}),[]),$=(0,n.useMemo)(()=>(0,y.Nx)(null==l?void 0:l.characters,null==l?void 0:l.account),[null==l?void 0:l.characters,null==l?void 0:l.account]),[q,A]=(0,n.useState)({material:!1,lowerBound:!1,upperBound:!1}),handleDeleteTracker=e=>{let l={...W};delete l[e],D(l),T({}),localStorage.setItem("material-tracker",JSON.stringify(l))},handleEdit=e=>{let{lowerBound:l,upperBound:r,note:t}=null==W?void 0:W[e],n=null==U?void 0:U.find(l=>{let{rawName:r}=l;return r===e}),i=null==a?void 0:a.find(l=>{let{rawName:r}=l;return r===e});if(i)return;E([...a,n]);let o=l.toString().replace(/,/g,""),s=r.toString().replace(/,/g,"");_({lowerBound:(0,g.numberWithCommas)(o||""),upperBound:(0,g.numberWithCommas)(s||"")}),F(t)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.PB,{title:"Material Tracker | Idleon Toolbox",description:"Add a material, set your own threshold and keep track of your inventory."}),(0,t.jsx)(o.Z,{mb:3,direction:"row",alignItems:"center",gap:2,flexWrap:"wrap",children:(0,t.jsx)(s.Z,{id:"material tracker",value:a,onChange:(e,l)=>{E(l),A({...q,material:!1})},multiple:!0,options:[...U],filterSelectedOptions:!0,disableCloseOnSelect:!0,filterOptions:P,getOptionLabel:e=>{var l;return(null==e?void 0:e.displayName)?null==e?void 0:null===(l=e.displayName)||void 0===l?void 0:l.replace(/_/g," "):""},sx:{width:r?"100%":600,flexShrink:1},renderTags:(e,l)=>e.map((e,r)=>{var n;return(0,t.jsx)(d.Z,{icon:(0,t.jsx)("img",{width:24,height:24,src:"".concat(g.prefix,"data/").concat(null==e?void 0:e.rawName,".png"),alt:""}),label:null==e?void 0:null===(n=e.displayName)||void 0===n?void 0:n.replace(/_/g," "),...l({index:r})},r)}),renderOption:(e,l)=>{var r;return l?(0,n.createElement)(o.Z,{...e,key:e.id,gap:2,direction:"row",children:[(0,t.jsx)("img",{width:24,height:24,src:"".concat(g.prefix,"data/").concat(null==l?void 0:l.rawName,".png"),alt:""},"img-".concat(e.id)),(0,t.jsx)(u.Z,{children:null==l?void 0:null===(r=l.displayName)||void 0===r?void 0:r.replace(/_/g," ")},"text-".concat(e.id))]}):null},renderInput:e=>(0,t.jsx)(c.Z,{...e,error:null==q?void 0:q.material,label:"Material name",variant:"outlined"})})}),(0,t.jsxs)(o.Z,{justifyContent:r?"space-between":"flex-start",direction:"row",gap:3,alignItems:"center",flexWrap:"wrap",children:[(0,t.jsx)(c.Z,{error:null==q?void 0:q.lowerBound,value:null==M?void 0:M.lowerBound,onChange:e=>{let{target:l}=e,r=l.value.replace(/,/g,"");_({...M,lowerBound:(0,g.numberWithCommas)(r)}),A({...q,lowerBound:!1})},label:"Lower bound"}),(0,t.jsx)(c.Z,{error:null==q?void 0:q.upperBound,value:null==M?void 0:M.upperBound,onChange:e=>{let{target:l}=e,r=l.value.replace(/,/g,"");_({...M,upperBound:(0,g.numberWithCommas)(r)}),A({...q,upperBound:!1})},label:"Upper bound"}),(0,t.jsx)(c.Z,{value:z,onChange:e=>{let{target:l}=e;return F(l.value)},label:"Note"})]}),(0,t.jsxs)(o.Z,{mt:2,gap:1,children:[(0,t.jsx)(p.Z,{sx:{width:"fit-content"},control:(0,t.jsx)(h.Z,{checked:O,onChange:()=>I(!O)}),label:"Show an alert when value is near the bounds"}),(0,t.jsx)(w.Z,{onClick:()=>{var e,l;let r={};0===a.length&&(r.material=!0);let t=null==M?void 0:null===(e=M.lowerBound)||void 0===e?void 0:e.replace(/,/g,""),n=null==M?void 0:null===(l=M.upperBound)||void 0===l?void 0:l.replace(/,/g,"");if(t===n&&(r.lowerBound=!0,r.upperBound=!0),(null==r?void 0:r.material)||(null==r?void 0:r.lowerBound)||(null==r?void 0:r.upperBound)){A(r);return}let i={...W};a.forEach(e=>{i[null==e?void 0:e.rawName]={item:e,lowerBound:t?parseInt(t):"",upperBound:n?parseInt(n):"",includeNearly:O,note:z}}),D(i),localStorage.setItem("material-tracker",JSON.stringify(i)),E([]),_({lowerBound:"",upperBound:""}),F("")},sx:{height:"fit-content",width:"fit-content"},variant:"contained",children:"Add tracker"})]}),(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(u.Z,{mt:2,variant:"caption",children:"Conditions:"}),(0,t.jsxs)(m.Z,{dense:!0,children:[(0,t.jsx)(v.ZP,{children:(0,t.jsx)(u.Z,{variant:"caption",children:"Only lower bound set - alert when the item is below the bound"})}),(0,t.jsx)(v.ZP,{children:(0,t.jsx)(u.Z,{variant:"caption",children:"Only upper bound set - alert when the item is above the bound"})}),(0,t.jsx)(v.ZP,{children:(0,t.jsx)(u.Z,{variant:"caption",children:"Upper > Lower - alert when the item is outside bounds"})}),(0,t.jsx)(v.ZP,{children:(0,t.jsx)(u.Z,{variant:"caption",children:"Upper < Lower - alert when the item is inside bounds"})})]}),(0,t.jsx)(u.Z,{variant:"caption",mt:2,children:"* Exceeding the set bounds will trigger an alert in the dashboard"}),(0,t.jsx)(u.Z,{variant:"caption",children:"* Leaving the bounds inputs blank will always show the material in the dashboard"})]}),(0,t.jsx)(o.Z,{mt:3,direction:r?"column":"row",gap:1,flexWrap:"wrap",children:null===(e=Object.values(W))||void 0===e?void 0:e.map((e,l)=>{let{item:n,lowerBound:a,upperBound:i,note:s}=e,{amount:d}=(0,y.AN)($,null==n?void 0:n.displayName);return(0,t.jsxs)(o.Z,{onMouseEnter:()=>T({[l]:!0}),onMouseLeave:()=>T({[l]:!1}),children:[(0,t.jsx)(x.Z,{sx:{width:r?"100%":220},children:(0,t.jsxs)(b.Z,{children:[(0,t.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:r?2:1,flexWrap:"wrap",sx:{position:"relative"},children:[(0,t.jsx)("img",{style:{marginLeft:-8},width:48,height:48,src:"".concat(g.prefix,"data/").concat(null==n?void 0:n.rawName,".png"),alt:""}),(0,t.jsxs)(o.Z,{children:[(0,t.jsxs)(o.Z,{direction:"row",gap:2,children:[s&&r?(0,t.jsx)(j.Z,{title:s,children:(0,t.jsx)(f.Z,{})}):null,(0,t.jsx)(u.Z,{sx:{width:s?80:120,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:(0,g.cleanUnderscore)(null==n?void 0:n.displayName)}),s&&!r?(0,t.jsx)(j.Z,{title:s,children:(0,t.jsx)(f.Z,{})}):null]}),(0,t.jsxs)(u.Z,{sx:{fontSize:14},children:["Owned: ",(0,g.notateNumber)(d)]})]})]}),(0,t.jsxs)(o.Z,{sx:{width:"100%"},direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,t.jsx)(u.Z,{sx:{fontWeight:500,fontSize:14},color:"text.secondary",children:a?(0,g.notateNumber)(a):"X"}),(0,t.jsx)(B.Z,{sx:{color:"text.secondary"},children:"~"}),(0,t.jsx)(u.Z,{sx:{fontWeight:500,fontSize:14},color:"text.secondary",children:i?(0,g.notateNumber)(i):"X"})]})]})}),(0,t.jsx)(o.Z,{sx:{minHeight:34,mt:1},direction:"row",justifyContent:"center",children:(null==R?void 0:R[l])?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L.Z,{size:"small",onClick:()=>handleDeleteTracker(null==n?void 0:n.rawName),children:(0,t.jsx)(N.Z,{})}),(0,t.jsx)(L.Z,{size:"small",onClick:()=>handleEdit(null==n?void 0:n.rawName),children:(0,t.jsx)(S.Z,{})})]}):null})]},"tracked-item-".concat(l))})})]})}}},function(e){e.O(0,[417,9774,2888,179],function(){return e(e.s=50292)}),_N_E=e.O()}]);