(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2731],{65539:function(n,e,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/item-planner",function(){return l(16300)}])},16300:function(n,e,l){"use strict";l.r(e),l.d(e,{default:function(){return ne}});var i=l(82729),t=l(85893),o=l(67294),r=l(67924),a=l(21785),u=l(15861),d=l(51233),s=l(50135),c=l(87109),v=l(94054),m=l(40476),p=l(72890),x=l(50480),h=l(36872),f=l(67358),j=l(38895),y=l(22797),g=l(417),w=l(49425),Z=l(69368),N=l(80782),b=l(66092),C=l(83321),Q=l(2127),I=l(93946),A=l(23508),k=l(94895),T=l(34282),E=l(96540),_=l(8364),S=l(61599),U=l(44358),O=l(66242),q=l(44267);function F(){let n=(0,i._)(["\n  width: 40px;\n"]);return F=function(){return n},n}let W=S.Z.img(F()),M=n=>{let{itemName:e,owners:l}=n;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{fontWeight:"bold",variant:"h5",children:(0,b.cleanUnderscore)(e)}),(0,t.jsx)(d.Z,{children:(0,t.jsx)(d.Z,{direction:"row",children:(null==l?void 0:l.length)>0?null==l?void 0:l.map((n,e)=>(0,t.jsx)("div",{children:(0,t.jsxs)(u.Z,{children:[n,"\xa0"]})},e+""+n)):(0,t.jsx)(u.Z,{children:"None"})})})]})};var P=n=>{var e;let{account:l,inventoryItems:i,itemsList:a=[],copies:s=1,itemDisplay:c}=n,v=(n,e)=>null==n?void 0:n.reduce((n,t)=>{var o,a,u;let d,s;if((null==t?void 0:t.itemName)==="Dungeon_Credits_Flurbo_Edition")d=null!==(a=null==l?void 0:null===(o=l.dungeons)||void 0===o?void 0:o.flurbos)&&void 0!==a?a:0,s=["account"];else{let n=(0,Q.AN)(i,null==t?void 0:t.itemName);d=null==n?void 0:n.amount,s=null==n?void 0:n.owner}if("0"===e){let e=(null==t?void 0:t.itemQuantity)-d;return(null==t?void 0:t.type)==="Equip"&&e!==(null==t?void 0:t.itemQuantity)?((null===(u=(0,Q.F6)(r.crafts[null==t?void 0:t.itemName]))||void 0===u?void 0:u.map(n=>{let{amount:l,owner:t}=(0,Q.AN)(i,null==n?void 0:n.itemName);return{...n,baseQuantity:null==n?void 0:n.itemQuantity,itemQuantity:(null==n?void 0:n.itemQuantity)*e,quantityOwned:l,owner:t}})).forEach(l=>{var i,t;let o=null==n?void 0:null===(i=n[null==l?void 0:l.subType])||void 0===i?void 0:i.find(n=>(null==n?void 0:n.itemName)===(null==l?void 0:l.itemName)),r=null==n?void 0:null===(t=n[null==l?void 0:l.subType])||void 0===t?void 0:t.filter(n=>(null==n?void 0:n.itemName)!==(null==l?void 0:l.itemName));o&&e>0&&(null==o?void 0:o.itemQuantity)-d>(null==o?void 0:o.quantityOwned)&&(r=[...r||[],{...o,itemQuantity:(null==o?void 0:o.itemQuantity)-d}]),n={...n,[null==l?void 0:l.subType]:r}}),e>0&&(n={...n,[null==t?void 0:t.subType]:[...(null==n?void 0:n[null==t?void 0:t.subType])||[],{...t,quantityOwned:0,owner:s,itemQuantity:e}]}),n):d>=(null==t?void 0:t.itemQuantity)?n:{...n,[null==t?void 0:t.subType]:[...(null==n?void 0:n[null==t?void 0:t.subType])||[],{...t,owner:s,quantityOwned:d}]}}return"1"!==e?n:{...n,[null==t?void 0:t.subType]:[...(null==n?void 0:n[null==t?void 0:t.subType])||[],{...t,quantityOwned:d,owner:s}]}},{}),m=(0,o.useMemo)(()=>v(a,c),[a,c,i,l]);return(0,t.jsx)(d.Z,{flexWrap:"wrap",direction:"row",gap:4,children:null===(e=Object.entries(m))||void 0===e?void 0:e.map((n,e)=>{let[l,i]=n;return"0"!==c||(null==i?void 0:i.length)>0?(0,t.jsx)(O.Z,{variant:"outlined",children:(0,t.jsxs)(q.Z,{children:[(0,t.jsx)("span",{className:"title",children:(0,b.cleanUnderscore)((0,b.pascalCase)(l))}),(0,t.jsx)(d.Z,{flexWrap:"wrap",direction:"row",gap:3,children:null==i?void 0:i.map((n,e)=>{let{itemName:l,itemQuantity:i,rawName:o,type:r,quantityOwned:a,owner:v}=n;return(0,t.jsxs)(d.Z,{gap:1,alignItems:"center",children:[(0,t.jsx)(U.Z,{title:(0,t.jsx)(M,{itemName:l,owners:v}),children:(0,t.jsx)(W,{src:"".concat(b.prefix,"data/").concat(o,".png"),alt:""})}),(0,t.jsxs)(d.Z,{direction:"row",children:[(0,t.jsx)(U.Z,{title:a>=1e3?(0,b.numberWithCommas)(a):"",children:(0,t.jsx)(u.Z,{color:a>=("0"===c?parseInt(i):parseInt(i)*s)?"success.light":"",children:(0,b.notateNumber)(a)})}),(0,t.jsx)(U.Z,{title:i>=1e3?(0,b.numberWithCommas)(i):"",children:(0,t.jsxs)(u.Z,{color:a>=("0"===c?parseInt(i):parseInt(i)*s)?"success.light":"",children:["/","0"===c?(0,b.notateNumber)(parseInt(i)):(0,b.notateNumber)(parseInt(i)*s,2)]})})]})]},l+""+e)})})]})},l+""+e):null})})},L=l(2962),z=l(14689),H=l(73397);function R(){let n=(0,i._)(["\n  width: 50px;\n"]);return R=function(){return n},n}function B(){let n=(0,i._)(["\n  .item-wrapper {\n    width: 105px;\n    height: 102px;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .title {\n    font-size: 20px;\n    font-weight: bold;\n    display: inline-block;\n    margin-bottom: 10px;\n  }\n\n  .preview {\n    min-height: 77px;\n    min-width: 77px;\n  }\n\n  .controls {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    flex-wrap: wrap;\n    @media (max-width: 800px) {\n      padding: 10px;\n    }\n  }\n\n  .items-wrapper {\n    margin-top: 15px;\n\n    .items {\n      margin-top: 10px;\n      display: flex;\n      flex-wrap: wrap;\n      gap: 15px;\n    }\n  }\n\n  .content {\n    margin-top: 25px;\n    display: grid;\n    grid-template-columns: 1fr 3fr;\n    column-gap: 50px;\n  }\n\n  .crafts-container {\n    margin-top: 15px;\n  }\n"]);return B=function(){return n},n}function D(){let n=(0,i._)(["\n  ","\n  && label.Mui-focused {\n    color: rgba(255, 255, 255, 0.7);\n  }\n"]);return D=function(){return n},n}function J(){let n=(0,i._)(["\n  && {\n    color: white;\n  }\n"]);return J=function(){return n},n}let X=(0,a.D)({trim:!0}),K={rawName:"EquipmentTransparent108"},V=n=>{let{name:e,items:l}=n;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{fontWeight:"bold",variant:"h5",children:(0,b.cleanUnderscore)(e)}),(0,t.jsx)(d.Z,{direction:"row",gap:1,flexWrap:"wrap",children:null==l?void 0:l.map((n,e)=>{let{rawName:l,itemQuantity:i}=n;return(0,t.jsxs)(d.Z,{alignItems:"center",children:[(0,t.jsx)(Y,{src:"".concat(b.prefix,"data/").concat(l,".png"),alt:""}),(0,t.jsx)(u.Z,{children:i})]},l+""+e)})})]})},Y=S.Z.img(R()),$=S.Z.div(B()),G=(0,S.Z)(s.Z)(D(),n=>{let{width:e}=n;return e?"width:".concat(e,";"):""}),nn=(0,S.Z)(Z.Z)(J());var ne=n=>{var e,l;let{}=n,{state:i,lastUpdated:a,dispatch:Z}=(0,o.useContext)(N.I),{planner:S={sections:[]}}=i,[O]=(0,o.useState)(Object.keys(r.crafts)),[q,F]=(0,o.useState)({0:""}),[W,M]=(0,o.useState)([]),[R,B]=(0,o.useState)([K]),[D,J]=(0,o.useState)("0"),[Y,ne]=(0,o.useState)(!1),[nl,ni]=(0,o.useState)(1),[nt,no]=(0,o.useState)({}),[nr,na]=(0,o.useState)(),nu=(0,o.useMemo)(()=>(0,Q.tP)(null==i?void 0:i.characters,Y),[Y]),nd=(0,o.useMemo)(()=>(0,Q.Nx)(null==i?void 0:i.characters,null==i?void 0:i.account),[null==i?void 0:i.characters,null==i?void 0:i.account]),ns=(0,o.useRef)();(0,o.useEffect)(()=>{var n;(null==i?void 0:i.characters)||(null==i?void 0:i.account)?M(Y?[...nd||[],...nu||[]]:nd):M(r.itemsArray),B(null==S?void 0:null===(n=S.sections)||void 0===n?void 0:n.map(()=>K))},[i,a,Y]);let nc=async n=>{let e=n.target.files[0];if(!e||(null==e?void 0:e.type)!=="application/json"){console.error("File isn't a json file");return}let l=await e.text();l&&(null==(l=(0,b.tryToParse)(l))?void 0:l.sections)&&Z({type:"planner",data:{sections:null==l?void 0:l.sections}})},nv=(n,e)=>{let l=R.map((l,i)=>i===e?n?r.crafts[n]:K:l);F({...q,["".concat(e)]:n}),B(l)},nm=(n,e,l,i)=>{var t;let o;if((null==e?void 0:e.itemQuantity)===0&&l>0)return;let a=null==S?void 0:null===(t=S.sections)||void 0===t?void 0:t[n],u=r.crafts[null==e?void 0:e.itemName];if(u){o=nh(null==a?void 0:a.items,u,!1,!1,l,i);let t=Array.isArray(e)?e:(0,Q.F6)(e);Z({type:"planner",data:{sections:nx(n,{materials:null==t?void 0:t.reduce((n,e)=>nh(n,e,!0,!1,l,i),null==a?void 0:a.materials),items:o,name:null==a?void 0:a.name})}})}},np=(n,e,l)=>{if((null==e?void 0:e.rawName)!==K.rawName){var i;let t;let o=null==S?void 0:null===(i=S.sections)||void 0===i?void 0:i[n];t=nh(null==o?void 0:o.items,e,!1,!0,l);let a=Array.isArray(r.crafts[null==e?void 0:e.itemName])?r.crafts[null==e?void 0:e.itemName]:(0,Q.F6)(r.crafts[null==e?void 0:e.itemName]);Z({type:"planner",data:{sections:nx(n,{materials:null==a?void 0:a.reduce((n,e)=>nh(n,e,!0,!0,l),null==o?void 0:o.materials),items:t,name:null==o?void 0:o.name})}}),F({...q,[n]:""}),ni(1)}},nx=(n,e)=>{var l;return null==S?void 0:null===(l=S.sections)||void 0===l?void 0:l.map((l,i)=>n===i?e:l)},nh=function(n,e,l){let i=!(arguments.length>3)||void 0===arguments[3]||arguments[3],t=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,r=null==n?void 0:n.find(n=>(null==e?void 0:e.itemName)===(null==n?void 0:n.itemName));return r?null==n?void 0:n.reduce((n,l)=>{if((null==e?void 0:e.itemName)!==(null==l?void 0:l.itemName))return[...n,l];let a=t?t*(null==e?void 0:e.itemQuantity):null==l?void 0:l.itemQuantity;return!i&&(null==r?void 0:r.itemQuantity)-a<=0&&o?n:[...n,{...r,itemQuantity:i?(null==r?void 0:r.itemQuantity)+a:(null==r?void 0:r.itemQuantity)-a,itemCount:parseFloat(t)}]},[]):i?[...n||[],{...e,itemQuantity:(null==e?void 0:e.itemQuantity)*t,itemCount:parseFloat(t)}]:n},nf=n=>{let e=S.sections.filter((e,l)=>l!==n);F({...q,[n]:""}),Z({type:"planner",data:{sections:e}})};return(0,t.jsxs)($,{children:[(0,t.jsx)(L.PB,{title:"Item Planner | Idleon Toolbox",description:"Useful tool to keep track of your crafting projects by tracking existing and missing materials"}),(null==i?void 0:i.characters)||(null==i?void 0:i.account)?null:(0,t.jsx)(u.Z,{component:"div",sx:{mb:2},variant:"caption",children:"* This tool will work better if you're logged in"}),(0,t.jsxs)(d.Z,{direction:"row",gap:5,flexWrap:"wrap",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Z,{direction:"row",alignItems:"center",children:(0,t.jsx)(s.Z,{sx:{mt:1},label:"Section name",placeholder:"Enter section name",onChange:n=>na(n.target.value),InputProps:{endAdornment:(0,t.jsx)(c.Z,{position:"end",children:(0,t.jsx)(I.Z,{onClick:()=>{Z({type:"planner",data:{sections:[...(null==S?void 0:S.sections)||[],{items:[],materials:[],name:nr||"section-".concat(Math.floor(100*Math.random()))}]}})},children:(0,t.jsx)(E.Z,{})})})}})}),(0,t.jsx)(U.Z,{title:"This will reset all sections and items",children:(0,t.jsxs)(C.Z,{sx:{mt:1},onClick:()=>{F({0:""}),B([K]),Z({type:"planner",data:{sections:[]}})},children:[(0,t.jsx)(T.Z,{})," Reset all sections"]})})]}),(0,t.jsxs)(d.Z,{sx:{pl:1,mt:1},children:[(0,t.jsxs)(v.Z,{children:[(0,t.jsx)(m.Z,{id:"demo-radio-buttons-group-label",children:"Display"}),(0,t.jsxs)(p.Z,{row:!0,"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"0",name:"radio-buttons-group",onChange:n=>J(n.target.value),children:[(0,t.jsx)(x.Z,{value:"0",control:(0,t.jsx)(h.Z,{}),label:"Show Missing Items"}),(0,t.jsx)(x.Z,{value:"1",control:(0,t.jsx)(h.Z,{}),label:"Show All Items"})]})]}),(0,t.jsx)(x.Z,{control:(0,t.jsx)(nn,{checked:Y,onChange:()=>ne(!Y),name:"Include Equipped Items",color:"default"}),label:"Include Equipped Items"})]}),(0,t.jsxs)(d.Z,{gap:1,sx:{ml:"auto"},alignItems:"center",justifyContent:"center",direction:"row",children:[(0,t.jsx)(U.Z,{title:"Export all sections",children:(0,t.jsxs)(C.Z,{onClick:()=>{var n;let e=localStorage.getItem("planner");e&&(null==S?void 0:null===(n=S.sections)||void 0===n?void 0:n.length)!==0&&(0,b.downloadFile)(e,"it-item-planner.json")},children:[(0,t.jsx)(z.Z,{sx:{mr:1}}),"Export"]})}),(0,t.jsx)(U.Z,{title:"Import (this will override your sections)",children:(0,t.jsxs)(C.Z,{onClick:()=>{ns.current.click()},children:[(0,t.jsx)(H.Z,{sx:{mr:1}}),"Import"]})}),(0,t.jsx)("input",{type:"file",id:"file",ref:ns,style:{display:"none"},accept:".json",onChange:nc})]})]}),(0,t.jsx)(d.Z,{sx:{mt:2},children:(null==S?void 0:null===(e=S.sections)||void 0===e?void 0:e.length)>0?null==S?void 0:null===(l=S.sections)||void 0===l?void 0:l.map((n,e)=>{var l;let{items:a,materials:s,name:c}=n;return(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(j.Z,{expandIcon:(0,t.jsx)(A.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,t.jsx)(u.Z,{children:c||"Accordion-".concat(e)})}),(0,t.jsxs)(y.Z,{children:[(0,t.jsxs)(C.Z,{onClick:()=>nf(e),children:[(0,t.jsx)(k.Z,{})," Remove Section"]}),(0,t.jsxs)("div",{className:"controls",children:[(0,t.jsx)("div",{className:"preview",children:(null==R?void 0:R[e])?(0,t.jsx)("img",{src:"".concat(b.prefix,"data/").concat(null==R?void 0:null===(l=R[e])||void 0===l?void 0:l.rawName,".png"),alt:""}):null}),(0,t.jsx)(g.Z,{id:"item-locator",value:null==q?void 0:q[e],onChange:(n,l)=>nv(l,e),autoComplete:!0,options:[null==q?void 0:q[e],...O],filterSelectedOptions:!0,filterOptions:X,getOptionLabel:n=>n?null==n?void 0:n.replace(/_/g," "):"",renderOption:(n,e)=>{var l;return e?(0,t.jsxs)(d.Z,{...n,gap:2,direction:"row",children:[(0,t.jsx)("img",{width:24,height:24,src:"".concat(b.prefix,"data/").concat(null===r.crafts||void 0===r.crafts?void 0:null===(l=r.crafts[e])||void 0===l?void 0:l.rawName,".png"),alt:""}),null==e?void 0:e.replace(/_/g," ")]}):(0,o.createElement)("span",{...n,style:{height:0},key:"empty"})},style:{width:300},renderInput:n=>(0,t.jsx)(G,{...n,label:"Item Name",variant:"outlined"})}),(0,t.jsx)(G,{value:nl,width:"100px",inputProps:{min:1},onChange:n=>{var e;return ni(null==n?void 0:null===(e=n.target)||void 0===e?void 0:e.value)},type:"number",label:"Item Count",variant:"outlined"}),(0,t.jsx)(C.Z,{color:"primary",variant:"contained",onClick:()=>np(e,null==R?void 0:R[e],nl),title:"Add Item",children:"Add"})]}),(0,t.jsxs)("div",{className:"content",children:[(0,t.jsxs)("div",{className:"items-wrapper",children:[(0,t.jsx)("span",{className:"title",children:"Tracked Items"}),(0,t.jsx)("div",{className:"items",children:null==a?void 0:a.map((n,l)=>(0,t.jsxs)("div",{className:"item-wrapper",onMouseEnter:()=>no({...nt,["".concat(e,"-").concat(l)]:!0}),onMouseLeave:()=>no({...nt,["".concat(e,"-").concat(l)]:!1}),children:[(0,t.jsx)(w.Z,{badgeContent:(0,b.numberWithCommas)(null==n?void 0:n.itemQuantity),max:1e4,anchorOrigin:{vertical:"top",horizontal:"right"},color:"primary",children:(0,t.jsx)(U.Z,{title:(0,t.jsx)(V,{name:null==n?void 0:n.itemName,items:(0,Q.F6)(n)}),children:(0,t.jsx)("img",{src:"".concat(b.prefix,"data/").concat(null==n?void 0:n.rawName,".png"),alt:""},(null==n?void 0:n.rawName)+" "+l)})}),(null==nt?void 0:nt["".concat(e,"-").concat(l)])?(0,t.jsxs)("div",{className:"buttons",children:[(0,t.jsx)(I.Z,{type:"bottom",size:"small",onClick:()=>np(e,{...n,itemQuantity:1},1),children:(0,t.jsx)(E.Z,{})}),(0,t.jsx)(I.Z,{type:"bottom",size:"small",onClick:()=>nm(e,n,1),children:(0,t.jsx)(k.Z,{})}),(0,t.jsx)(I.Z,{size:"small",onClick:()=>nm(e,n,null==n?void 0:n.itemQuantity,!0),children:(0,t.jsx)(_.Z,{})})]}):null]},e+""+(null==n?void 0:n.itemName)+l))})]}),(0,t.jsxs)("div",{className:"crafts-container",children:[(0,t.jsx)("span",{className:"title",children:"Required Materials"}),(null==W?void 0:W.length)>0?(0,t.jsx)(P,{itemsList:s,account:null==i?void 0:i.account,inventoryItems:W,itemDisplay:D}):null]})]})]})]},"accordion-".concat(e))}):(0,t.jsx)(u.Z,{sx:{mt:3},variant:"h3",children:"Please add a section"})})]})}},2127:function(n,e,l){"use strict";l.d(e,{AN:function(){return v},F6:function(){return c},Nx:function(){return p},QU:function(){return d},ju:function(){return o},t8:function(){return t},tP:function(){return m},tT:function(){return u},w$:function(){return x},wA:function(){return s},zi:function(){return r}});var i=l(67924);let t=(n,e)=>{var l;return n&&e?null===(l=Object.keys(e))||void 0===l?void 0:l.reduce((l,i)=>{if("UQ1txt"===i||"UQ2txt"===i)return{...l,[i]:(null==n?void 0:n[i])||(null==e?void 0:e[i])};let t=null==n?void 0:n[i],o=null==e?void 0:e[i],r=t;return isNaN(o)||o<0?{...l,[i]:o}:(r=(t||0)+((null==e?void 0:e.UQ1txt)&&(null==n?void 0:n.Type)!=="KEYCHAIN"&&(null==n?void 0:n.UQ1txt)!==(null==e?void 0:e.UQ1txt)?0:o),{...l,[i]:parseFloat(r)})},{}):{}},o=function(n,e,l){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return null==n?void 0:n.reduce((n,t)=>{if(l)e===(i?null==t?void 0:t.rawName:null==t?void 0:t.name)&&(n+=null==t?void 0:t.amount);else{var o,r;(i?null==t?void 0:null===(o=t.rawName)||void 0===o?void 0:o.includes(e):null==t?void 0:null===(r=t.name)||void 0===r?void 0:r.includes(e))&&(n+=null==t?void 0:t.amount)}return n},0)},r=function(n,e,l){var t,o,r,u,d,s,c,v,m,p,x,h;let f=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{equipment:j,tools:y}=n||{},g=null!==(p=null==l?void 0:null===(r=l.lab)||void 0===r?void 0:null===(o=r.playersChips)||void 0===o?void 0:null===(t=o[null==n?void 0:n.playerId])||void 0===t?void 0:t.find(n=>16===n.index))&&void 0!==p?p:0,w=null!==(x=null==l?void 0:null===(s=l.lab)||void 0===s?void 0:null===(d=s.playersChips)||void 0===d?void 0:null===(u=d[null==n?void 0:n.playerId])||void 0===u?void 0:u.find(n=>17===n.index))&&void 0!==x?x:0,Z=null!==(h=null==l?void 0:null===(m=l.lab)||void 0===m?void 0:null===(v=m.playersChips)||void 0===v?void 0:null===(c=v[null==n?void 0:n.playerId])||void 0===c?void 0:c.find(n=>18===n.index))&&void 0!==h?h:0,N=f?y:j;return isNaN(e)?null==N?void 0:N.reduce((n,l)=>n+a(l,e),0):null==N?void 0:N.reduce((n,l,t)=>{var o;return n+a(l,null===i.bonuses||void 0===i.bonuses?void 0:null===(o=i.bonuses.etcBonuses)||void 0===o?void 0:o[e])*(3===t&&Z||10===t&&g||9===t&&w?2:1)},0)},a=(n,e)=>{let l=(null==n?void 0:n.UQ1txt)===e?null==n?void 0:n.UQ1val:0,i=(null==n?void 0:n.UQ2txt)===e?null==n?void 0:n.UQ2val:0;return(null==n?void 0:n[e])?null==n?void 0:n[e]:l+i},u=(n,e,l)=>Array.from(Object.values(n)).reduce((n,o,r)=>{var a;let u=t(null===i.items||void 0===i.items?void 0:i.items[o],null==e?void 0:e[r]),d="",s={...null===i.items||void 0===i.items?void 0:i.items[o],...u};return(null==s?void 0:s.UQ1txt)&&(d+=null==s?void 0:s.UQ1txt),(null==s?void 0:s.UQ2txt)&&(d+=" ".concat(null==s?void 0:s.UQ2txt)),o?[...n,{name:null===i.items||void 0===i.items?void 0:null===(a=i.items[o])||void 0===a?void 0:a.displayName,rawName:o,owner:l,..."Blank"===o?{}:{...null===i.items||void 0===i.items?void 0:i.items[o],...u},misc:d}]:n},[]),d=(n,e)=>e?n.reduce((n,l)=>{let{name:i,owner:t,amount:o}=l;if(i===e){var r;return null!=n&&n[t]?{...n,[t]:{amount:(null==n?void 0:null===(r=n[t])||void 0===r?void 0:r.amount)+1}}:{...n,[t]:{amount:o}}}return n},{}):{},s=(n,e)=>{if(!e)return{};let l=n.filter(n=>{var l,i;let{misc:t,description:o}=n;return(null==o?void 0:null===(l=o.toLowerCase())||void 0===l?void 0:l.includes(null==e?void 0:e.toLowerCase()))||(null==t?void 0:null===(i=t.toLowerCase())||void 0===i?void 0:i.includes(null==e?void 0:e.toLowerCase()))},[]);return null==l?void 0:l.reduce((n,e)=>{let l=null==n?void 0:n.findIndex(n=>(null==n?void 0:n.rawName)===(null==e?void 0:e.rawName)),i=null==n?void 0:n[l];if(i){var t;let o=(null==i?void 0:null===(t=i.owners)||void 0===t?void 0:t.includes(null==e?void 0:e.owner))?null==i?void 0:i.owners:[...null==i?void 0:i.owners,null==e?void 0:e.owner];(null==i?void 0:i.misc)===(null==e?void 0:e.misc)&&(null==n||n.splice(l,1)),n=[...n,{...e,owners:o}]}else n=[...n,{...e,owners:[null==e?void 0:e.owner]}];return n},[])},c=n=>{if(!n)return[];let e={},l=JSON.parse(JSON.stringify(n)),i=(n,l)=>null==n?void 0:n.reduce((n,t)=>(n.push(t),t.materials&&(n=n.concat(i(null==t?void 0:t.materials,l)),t.materials=[]),e[null==t?void 0:t.itemName]?e[null==t?void 0:t.itemName].itemQuantity+=null==t?void 0:t.itemQuantity:e[null==t?void 0:t.itemName]=t,n),[]);return i(null==l?void 0:l.materials,e),Object.values(e)},v=(n,e)=>{var l;return null===(l=Object.entries(d(n,e)))||void 0===l?void 0:l.reduce((n,e)=>{let[l,{amount:i}]=e;return{amount:(null==n?void 0:n.amount)+i,owner:[...null==n?void 0:n.owner,l]}},{amount:0,owner:[]})},m=(n,e)=>e?null==n?void 0:n.reduce((n,e)=>{let{tools:l,equipment:i,food:t}=e;return[...n,...l,...i,...t]},[]).filter(n=>{let{rawName:e}=n;return"Blank"!==e}).map(n=>(null==n?void 0:n.amount)?n:{...n,amount:1}):[],p=(n,e)=>[...(null==n?void 0:n.reduce((n,e)=>{let{inventory:l=[]}=e;return[...n,...l]},[]))||[],...(null==e?void 0:e.storage)||[]],x=()=>{var n,e,l,t,o;let r=null===i.itemsArray||void 0===i.itemsArray?void 0:null===(n=i.itemsArray.filter(n=>{let{rawName:e}=n;return null==e?void 0:e.match(/EquipmentTools[0-9]+/)}))||void 0===n?void 0:n.filter(n=>{let{rawName:e}=n;return"EquipmentTools13"!==e&&"EquipmentTools10"!==e}),a=null===i.itemsArray||void 0===i.itemsArray?void 0:null===(e=i.itemsArray.filter(n=>{let{rawName:e}=n;return null==e?void 0:e.match(/EquipmentToolsHatchet[0-9]+/)}))||void 0===e?void 0:e.filter(n=>{let{rawName:e}=n;return"EquipmentToolsHatchet0"!==e&&"EquipmentToolsHatchet3"!==e&&"EquipmentToolsHatchet11"!==e&&"EquipmentToolsHatchet10"!==e}),u=null===i.itemsArray||void 0===i.itemsArray?void 0:null===(l=i.itemsArray.filter(n=>{let{rawName:e}=n;return null==e?void 0:e.match(/FishingRod[0-9]+/)}))||void 0===l?void 0:l.filter(n=>{let{rawName:e}=n;return"FishingRod1"!==e});return[r,a,u,null===i.itemsArray||void 0===i.itemsArray?void 0:null===(t=i.itemsArray.filter(n=>{let{rawName:e}=n;return null==e?void 0:e.match(/CatchingNet[0-9]+/)}))||void 0===t?void 0:t.filter(n=>{let{rawName:e}=n;return"CatchingNet1"!==e}),null===i.itemsArray||void 0===i.itemsArray?void 0:i.itemsArray.filter(n=>{let{rawName:e}=n;return null==e?void 0:e.match(/TrapBoxSet[0-9]+/)}),null===i.itemsArray||void 0===i.itemsArray?void 0:null===(o=i.itemsArray.filter(n=>{let{rawName:e}=n;return null==e?void 0:e.match(/WorshipSkull[0-9]+/)}))||void 0===o?void 0:o.filter(n=>{let{rawName:e}=n;return"WorshipSkull8"!==e})]}}},function(n){n.O(0,[417,9584,8165,9774,2888,179],function(){return n(n.s=65539)}),_N_E=n.O()}]);