(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{51075:function(l,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return i(9133)}])},44490:function(l,e,i){"use strict";var n=i(82729),o=i(85893),t=i(51233),d=i(15861),u=i(30925),a=i(40929),r=i(61436);i(67294);var v=i(61599);function _templateObject(){let l=(0,n._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return _templateObject=function(){return l},l}let s=v.Z.img(_templateObject());e.Z=l=>{let{eventName:e,mapName:i,date:n}=l;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,o.jsx)(s,{src:"".concat(u.prefix,"etc/").concat(e,".png"),alt:""}),(0,o.jsx)(d.Z,{color:null===u.eventsColors||void 0===u.eventsColors?void 0:u.eventsColors[e],children:(0,u.cleanUnderscore)(e)})]}),(0,o.jsx)(d.Z,{children:(0,u.cleanUnderscore)(i)}),(0,r.Z)(n)?(0,a.Z)(n,"dd/MM/yyyy HH:mm:ss"):null]})}},16372:function(l,e,i){"use strict";var n=i(85893),o=i(51233),t=i(40929),d=i(61436),u=i(30925),a=i(30622);e.Z=l=>{let{rawName:e,date:i,lootItemCost:r,moneyValue:v}=l;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,children:(0,d.Z)(new Date(i))?(0,t.Z)(new Date(i),"dd/MM/yyyy HH:mm:ss"):null}),(0,n.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:1,justifyContent:"center",children:[(0,n.jsxs)(o.Z,{direction:"row",gap:1,children:[(0,n.jsx)("img",{src:"".concat(u.prefix,"data/").concat(e,".png"),alt:""}),(0,u.notateNumber)(r)]}),(0,n.jsx)(a.Z,{}),(0,n.jsxs)(o.Z,{direction:"row",gap:1,children:[(0,n.jsx)("img",{src:"".concat(u.prefix,"data/SailT0.png"),alt:""}),(0,u.notateNumber)(v)]})]})]})}},68575:function(l,e,i){"use strict";var n=i(85893),o=i(67294),t=i(98396),d=i(11703),u=i(40044);e.Z=l=>{let{tabs:e,children:i,onTabChange:a}=l,[r,v]=(0,o.useState)(0),s=(0,t.Z)(l=>l.breakpoints.down("md"),{noSsr:!0}),c=Array.isArray(i)?i:[i];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{centered:!s||s&&e.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:s&&e.length>4?"scrollable":"standard",value:r,onChange:(l,e)=>{v(e),a&&a(e)},children:null==e?void 0:e.map((l,e)=>(0,n.jsx)(u.Z,{label:l},"".concat(l,"-").concat(e)))}),a?i:null==c?void 0:c.map((l,e)=>e===r?l:null)]})}},9133:function(l,e,i){"use strict";i.r(e),i.d(e,{default:function(){return dashboard}});var n=i(85893),o=i(67294),t=i(23513),d=i(98396),u=i(51233),a=i(15861),r=i(87357),v=i(82729),s=i(66242),c=i(44267),h=i(67720),p=i(30925),m=i(61599),g=i(5072),f=i(76972),x=i(69690),j=i(33913),k=i(4056),b=i(70473),y=i(10924),w=i(33739),Z=i(30796),C=i(88344);let isTalentReady=(l,e)=>{var i;let{talents:n}=e,{postOffice:o,afkTime:t,cooldowns:d,flatTalents:u}=l,a=(0,k.xV)(o,"Magician_Starterpack",2),r=Math.max(0,a),v=(new Date().getTime()-t)/1e3;return d?null===(i=Object.entries(d||{}))||void 0===i?void 0:i.reduce((l,e)=>{var i,o,t;let[d,a]=e;if(!Z.RL[d])return l;let s=null==u?void 0:u.find(l=>{let{talentId:e}=l;return parseInt(d)===e}),c=null===(i=Object.entries((null==n?void 0:null===(t=n.talents)||void 0===t?void 0:null===(o=t.props)||void 0===o?void 0:o.value)||{}))||void 0===i?void 0:i.reduce((l,e)=>{var i,n;let[o,t]=e;return{...l,[null===(n=o.camelToTitleCase())||void 0===n?void 0:null===(i=n.replace(/ /g,"_"))||void 0===i?void 0:i.toUpperCase()]:t}},{});if(!s||!(null==c?void 0:c[null==s?void 0:s.name]))return l;let h=(1-r/100)*a-v,p=h<0?h:new Date().getTime()+1e3*h;return(0,j.Z)(p)?[...l,{name:null==s?void 0:s.name,skillIndex:null==s?void 0:s.skillIndex}]:l},[]):[]},crystalCooldownSkillsReady=l=>{if((0,Z.gW)(null==l?void 0:l.class,"Maestro")){var e;return null===(e=Object.entries((null==l?void 0:l.skillsInfo)||{}))||void 0===e?void 0:e.reduce((e,i)=>{let[n,o]=i;if((null==o?void 0:o.index)<10&&"character"!==n){let i=(0,Z._X)(null==l?void 0:l.talents,2,"CRYSTAL_COUNTDOWN"),t=(0,y.O4)(null==o?void 0:o.index,null==o?void 0:o.level),d=100*(1-Math.max((1-i/100)*t,.98*(null==o?void 0:o.expReq))/t);return[...e,{name:n,...o,crystalCountdown:i,reduction:d,ready:i>0&&d===i}]}return e},[])}},hasAvailableToolUpgrade=(l,e)=>{var i,n,o,t,d,u,a,r,v,s,c,h,p;let m=(0,C.w$)(),g=null==l?void 0:null===(i=l.tools)||void 0===i?void 0:i.slice(0,6),f=[null==l?void 0:null===(o=l.skillsInfo)||void 0===o?void 0:null===(n=o.mining)||void 0===n?void 0:n.level,null==l?void 0:null===(d=l.skillsInfo)||void 0===d?void 0:null===(t=d.chopping)||void 0===t?void 0:t.level,null==l?void 0:null===(a=l.skillsInfo)||void 0===a?void 0:null===(u=a.fishing)||void 0===u?void 0:u.level,null==l?void 0:null===(v=l.skillsInfo)||void 0===v?void 0:null===(r=v.catching)||void 0===r?void 0:r.level,null==l?void 0:null===(c=l.skillsInfo)||void 0===c?void 0:null===(s=c.trapping)||void 0===s?void 0:s.level,null==l?void 0:null===(p=l.skillsInfo)||void 0===p?void 0:null===(h=p.worship)||void 0===h?void 0:h.level];return null==g?void 0:g.reduce((l,e,i)=>{let n=null==f?void 0:f[i],o=null==m?void 0:m[i],t=null==o?void 0:o.findLast(l=>{let{lvReqToEquip:e}=l;return n>=e});return t&&(null==t?void 0:t.displayName)!==(null==e?void 0:e.name)&&l.push(t),l},[])};var A=i(74721),O=i(9137),S=i(86736),_=i(56552),T=i(72339);function _templateObject(){let l=(0,v._)(["\n  width: 30px;\n  height: 30px;\n  object-fit: contain;\n"]);return _templateObject=function(){return l},l}let I={anvil:(l,e,i,n,o)=>{var t,d,u,a,r,v;let s={};if(null==o?void 0:null===(d=o.anvil)||void 0===d?void 0:null===(t=d.missingHammers)||void 0===t?void 0:t.checked){let n=null==i?void 0:null===(r=i.equippedBubbles)||void 0===r?void 0:r.find(l=>{let{bubbleName:e}=l;return"HAMMER_HAMMER"===e}),{production:o}=(0,w.eW)(null==e?void 0:e[null==i?void 0:i.playerId],e,l),t=null==o?void 0:o.filter(l=>{let{hammers:e}=l;return e>0}),d=null==t?void 0:t.reduce((l,e)=>{let{hammers:i}=e;return l+i},0);s.missingHamemrs=(n?3:2)-d}if(null==o?void 0:null===(a=o.anvil)||void 0===a?void 0:null===(u=a.anvilOverdue)||void 0===u?void 0:u.checked){let{anvil:n}=o||{},{stats:t,production:d}=(0,w.eW)(null==e?void 0:e[null==i?void 0:i.playerId],e,l),u=null==d?void 0:null===(v=d.filter(l=>{let{hammers:e}=l;return e>0}))||void 0===v?void 0:v.map(l=>{var e;let n=1e3*(0,w.MH)({...l,stats:t,afkTime:null==i?void 0:i.afkTime});return{date:new Date().getTime()+n,name:null===b.items||void 0===b.items?void 0:null===(e=b.items[null==l?void 0:l.rawName])||void 0===e?void 0:e.displayName,rawName:null==l?void 0:l.rawName}});s.anvilOverdue=null==u?void 0:u.map(l=>{let{date:e,name:i,rawName:n}=l,o=new Date(e-1);return{diff:(0,x.Z)(o,new Date),name:i,rawName:n}}).filter(l=>{let{diff:e}=l;return(null==n?void 0:n.showAlertBeforeFull)?e<=60:e<=0})}return s},worship:(l,e,i,n,o)=>{var t,d,u,a,r,v,s,c,h;let p={};if(!(null==l?void 0:null===(t=l.finishedWorlds)||void 0===t?void 0:t.World2))return p;if(null==o?void 0:null===(u=o.worship)||void 0===u?void 0:null===(d=u.unendingEnergy)||void 0===d?void 0:d.checked){let l=new Date().getTime()+((null==i?void 0:i.afkTime)-n),e=(0,x.Z)(new Date,new Date(l));if(e>=5){let e=null==i?void 0:null===(v=i.activePrayers)||void 0===v?void 0:v.find(l=>{let{name:e}=l;return"Unending_Energy"===e}),n=(0,f.Z)(new Date,new Date(l));p.unendingEnergy=e&&n>10}}if(null==o?void 0:null===(r=o.worship)||void 0===r?void 0:null===(a=r.chargeOverdue)||void 0===a?void 0:a.checked){let l=5*(null==i?void 0:null===(s=i.worship)||void 0===s?void 0:s.maxCharge)/100;p.chargeOverdue=(null==i?void 0:null===(c=i.worship)||void 0===c?void 0:c.currentCharge)>=(null==i?void 0:null===(h=i.worship)||void 0===h?void 0:h.maxCharge)-l}return p},traps:(l,e,i,n,o)=>{var t,d,u,a,r,v,s,c,h,p,m,g,f,x,k,b,y;let w={};if(!(null==l?void 0:null===(t=l.finishedWorlds)||void 0===t?void 0:t.World2))return w;if(null==o?void 0:null===(u=o.traps)||void 0===u?void 0:null===(d=u.missingTraps)||void 0===d?void 0:d.checked){let e=null==l?void 0:null===(v=l.traps)||void 0===v?void 0:v[null==i?void 0:i.playerId],n=(null==i?void 0:null===(c=i.tools)||void 0===c?void 0:null===(s=c[4])||void 0===s?void 0:s.rawName)!=="Blank"?null==i?void 0:null===(h=i.tools)||void 0===h?void 0:h[4]:null,o=null==l?void 0:null===(f=l.alchemy)||void 0===f?void 0:null===(g=f.bubbles)||void 0===g?void 0:null===(m=g.quicc)||void 0===m?void 0:null===(p=m.find(l=>{let{bubbleName:e}=l;return"CALL_ME_ASH"===e}))||void 0===p?void 0:p.level,t=n?parseInt(null!==(b=null==n?void 0:null===(k=n.rawName)||void 0===k?void 0:k.charAt((null==n?void 0:null===(x=n.rawName)||void 0===x?void 0:x.length)-1))&&void 0!==b?b:0)+(o>0?1:0):null==e?void 0:e.length;w.missingTraps=(null==e?void 0:e.length)<Math.min(t,8)}return(null==o?void 0:null===(r=o.traps)||void 0===r?void 0:null===(a=r.trapsOverdue)||void 0===a?void 0:a.checked)&&(w.trapsOverdue=null==l?void 0:null===(y=l.traps)||void 0===y?void 0:y[null==i?void 0:i.playerId].some(l=>(0,j.Z)(null==l?void 0:l.timeLeft))),w},alchemy:(l,e,i,n,o)=>{var t,d,u,a;let r={};if(null==o?void 0:null===(d=o.alchemy)||void 0===d?void 0:null===(t=d.bubbles)||void 0===t?void 0:t.checked){let e=null==l?void 0:null===(u=l.accountOptions)||void 0===u?void 0:u[89],n=null===b.randomList||void 0===b.randomList?void 0:b.randomList[53],o=(0,y.bV)(e,n,11);r.missingBubbles=(null==i?void 0:null===(a=i.equippedBubbles)||void 0===a?void 0:a.length)<(o?3:2)}return r},obols:(l,e,i,n,o)=>{var t,d,u,a,r;let v={};return(null==l?void 0:null===(t=l.finishedWorlds)||void 0===t?void 0:t.World1)&&(null==o?void 0:null===(u=o.obols)||void 0===u?void 0:null===(d=u.missingObols)||void 0===d?void 0:d.checked)&&(v.missingObols=null==i?void 0:null===(r=i.obols)||void 0===r?void 0:null===(a=r.list)||void 0===a?void 0:a.filter(l=>{let{rawName:e}=l;return"Blank"===e})),v},postOffice:(l,e,i,n,o)=>{var t,d,u,a,r,v,s;let c={};if(!(null==l?void 0:null===(t=l.finishedWorlds)||void 0===t?void 0:t.World1))return c;if(null==o?void 0:null===(u=o.postOffice)||void 0===u?void 0:null===(d=u.unspentPoints)||void 0===d?void 0:d.checked){let l=parseInt(null==o?void 0:null===(v=o.postOffice)||void 0===v?void 0:null===(r=v.unspentPoints)||void 0===r?void 0:null===(a=r.props)||void 0===a?void 0:a.value);c.unspentPoints=(null==i?void 0:null===(s=i.postOffice)||void 0===s?void 0:s.unspentPoints)>(null!=l?l:0)&&(null==i?void 0:i.postOffice.boxes.some(l=>{let{level:e,maxLevel:i}=l;return e<i}))}return c},starSigns:(l,e,i,n,o)=>{var t,d,u,a;let r={};if(null==o?void 0:null===(d=o.starSigns)||void 0===d?void 0:null===(t=d.missingStarSigns)||void 0===t?void 0:t.checked){let e=null==l?void 0:null===(u=l.starSigns)||void 0===u?void 0:u.reduce((l,e)=>{let{starName:i,unlocked:n}=e;return i.includes("Chronus_Cosmos")&&n?l<2?2:l:i.includes("Hydron_Cosmos")&&n&&l<3?3:l},1);r.missingStarSigns=e-(null==i?void 0:null===(a=i.starSigns)||void 0===a?void 0:a.length)}return r},crystalCountdown:(l,e,i,n,o)=>crystalCooldownSkillsReady(i,o),tools:(l,e,i,n,o)=>hasAvailableToolUpgrade(i,l),talents:(l,e,i,n,o)=>isTalentReady(i,o)},Alert=l=>{let{title:e,iconPath:i,style:o={}}=l;return(0,n.jsx)(g.Z,{title:e,children:(0,n.jsx)(P,{style:o,src:"".concat(p.prefix).concat(i,".png"),alt:""})})},CharacterInfo=l=>{var e,i,t;let{account:d,characters:a,character:r,lastUpdated:v}=l,{name:s,stats:c,afkTime:m,crystalSpawnChance:g,nonConsumeChance:f}=r||{},{cashMulti:x}=(0,o.useMemo)(()=>(0,_.bv)(r,d,a)||{},[r,d]),{dropRate:j}=(0,o.useMemo)(()=>(0,_.VK)(r,d,a)||{},[r,d]),{respawnRate:k}=(0,o.useMemo)(()=>(0,_.P9)(r,d)||{},[r,d]),{afkGains:b}=(0,o.useMemo)(()=>(0,_.WU)(r,a,d),[r,d]),y=(0,o.useMemo)(()=>(0,T.m)(r,a,d),[r,d]);return(0,n.jsxs)(u.Z,{gap:1,children:[(0,n.jsx)(S.uQ,{title:s,value:"lv. ".concat((null==c?void 0:c.level)||0)}),(0,n.jsx)(S.uQ,{title:"Afk time",value:(0,n.jsx)(O.Z,{type:"up",date:m,lastUpdated:v})}),(0,n.jsx)(h.Z,{flexItem:!0,sx:{background:"black"}}),(0,n.jsx)(S.uQ,{title:"Damage",value:null===(i=(0,T.C)(y))||void 0===i?void 0:null===(e=i.at(0))||void 0===e?void 0:e.replace(/\[/g,"M")}),(0,n.jsx)(S.uQ,{title:"Hp",value:(0,p.notateNumber)(null==y?void 0:y.maxHp)}),(0,n.jsx)(S.uQ,{title:"Mp",value:(0,p.notateNumber)(null==y?void 0:y.maxMp)}),(0,n.jsx)(S.uQ,{title:"Accuracy",value:(0,p.notateNumber)(null==y?void 0:y.accuracy)}),(0,n.jsx)(S.uQ,{title:"Movement Speed",value:(0,p.notateNumber)(null==y?void 0:y.movementSpeed)}),(0,n.jsx)(h.Z,{flexItem:!0,sx:{background:"black"}}),(0,n.jsx)(S.uQ,{title:"Cash multi",value:"".concat((0,p.notateNumber)(x),"%")}),(0,n.jsx)(S.uQ,{title:"Drop rate",value:"".concat((0,p.notateNumber)(j,"MultiplierInfo"),"x")}),(0,n.jsx)(S.uQ,{title:"Respawn rate",value:"".concat((0,p.notateNumber)(k,"MultiplierInfo"),"%")}),(0,n.jsx)(S.uQ,{title:"Afk gains",value:"".concat((0,p.notateNumber)(100*b,"MultiplierInfo"),"%")}),(0,n.jsx)(S.uQ,{title:"Crystal Chance",value:1/(null==g?void 0:g.value)<100?"".concat(null===(t=(0,p.notateNumber)((null==g?void 0:g.value)*100,"MultiplierInfo"))||void 0===t?void 0:t.replace(".00",""),"%"):"1 in ".concat(Math.floor(1/(null==g?void 0:g.value)))}),(0,n.jsx)(S.uQ,{title:"Non consume chance",value:"".concat((0,p.kFormatter)(f,2),"%")})]})},P=m.Z.img(_templateObject());var dashboard_Characters=l=>{let{characters:e=[],account:i,lastUpdated:o,trackers:t}=l;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(u.Z,{gap:2,direction:"row",flexWrap:"wrap",children:null==e?void 0:e.map((l,d)=>{var v,m,f,x,j,k,b,y,w,Z,C,O,S,_,T,W,M,B,D,N,R,U,q,L,V,E,F;let{name:H,classIndex:G,afkTarget:Q,postOffice:Y}=l,z=null===(v=Object.entries(t||{}))||void 0===v?void 0:v.reduce((l,e)=>{var i;let[n,o]=e,t=null==o?void 0:null===(i=o.options)||void 0===i?void 0:i.reduce((l,e)=>({...l,[null==e?void 0:e.name]:e}),{});return{...l,[n]:t}},{}),X=null===(m=Object.keys(z))||void 0===m?void 0:m.reduce((n,t)=>(n[t]=(null==I?void 0:I[t](i,e,l,o,z))||{},n),{}),K=Q&&"_"!==Q?Q:"Nothing";return(0,n.jsx)(s.Z,{sx:{width:300},children:(0,n.jsxs)(c.Z,{children:[(0,n.jsxs)(u.Z,{direction:"row",alignItems:"center",gap:1,flexWrap:"wrap",children:[(0,n.jsx)(r.Z,{sx:{display:{sm:"none",md:"block"}},children:(0,n.jsx)("img",{src:"".concat(p.prefix,"data/ClassIcons").concat(G,".png"),alt:""})}),(0,n.jsx)(a.Z,{children:H}),(0,n.jsxs)(u.Z,{direction:"row",alignItems:"center",gap:1,style:{marginLeft:"auto"},children:[(0,n.jsx)(g.Z,{title:(0,p.cleanUnderscore)(K),children:(0,n.jsx)(P,{src:"".concat(p.prefix,"afk_targets/").concat(K,".png"),alt:"activity icon"})}),(0,n.jsx)(g.Z,{title:(0,n.jsx)(CharacterInfo,{characters:e,account:i,character:l,lastUpdated:o}),children:(0,n.jsx)(A.Z,{})})]})]}),(0,n.jsx)(h.Z,{sx:{my:1}}),(0,n.jsxs)(u.Z,{direction:"row",gap:1,flexWrap:"wrap",children:[(null==t?void 0:t.worship)&&(null==X?void 0:null===(f=X.worship)||void 0===f?void 0:f.unendingEnergy)?(0,n.jsx)(Alert,{title:"".concat(H," has unending energy prayer and is afk for more than 10 hours!"),iconPath:"data/Prayer2"}):null,(null==t?void 0:t.worship)&&(null==X?void 0:null===(x=X.worship)||void 0===x?void 0:x.chargeOverdue)?(0,n.jsx)(Alert,{title:"".concat(H," worship is full!"),iconPath:"data/ClassIcons50"}):null,(null==t?void 0:t.traps)&&(null==X?void 0:null===(j=X.traps)||void 0===j?void 0:j.trapsOverdue)?(0,n.jsx)(Alert,{title:"".concat(H," traps are overdue!"),iconPath:"data/TrapBoxSet1"}):null,(null==t?void 0:t.traps)&&(null==X?void 0:null===(k=X.traps)||void 0===k?void 0:k.missingTraps)?(0,n.jsx)(Alert,{title:"".concat(H," is missing a trap!"),iconPath:"data/ClassIcons48"}):null,(null==t?void 0:t.alchemy)&&(null==X?void 0:null===(b=X.alchemy)||void 0===b?void 0:b.missingBubbles)?(0,n.jsx)(Alert,{title:"".concat(H," is missing an active bubble!"),iconPath:"data/aJarB0"}):null,(null==t?void 0:t.obols)&&(null==X?void 0:null===(w=X.obols)||void 0===w?void 0:null===(y=w.missingObols)||void 0===y?void 0:y.length)>0?(0,n.jsx)(Alert,{title:"".concat(H," has ").concat(null==X?void 0:null===(C=X.obols)||void 0===C?void 0:null===(Z=C.missingObols)||void 0===Z?void 0:Z.length," empty obol slots!"),iconPath:"data/ObolLocked1"}):null,(null==t?void 0:t.postOffice)&&(null==X?void 0:null===(O=X.postOffice)||void 0===O?void 0:O.unspentPoints)?(0,n.jsx)(Alert,{title:"".concat(H," has ").concat(Math.floor(null==Y?void 0:Y.unspentPoints)," unspent points"),iconPath:"data/UIboxUpg0"}):null,(null==t?void 0:t.anvil)&&(null==X?void 0:null===(S=X.anvil)||void 0===S?void 0:S.missingHammers)>0?(0,n.jsx)(Alert,{title:"".concat(H," is missing ").concat(null==X?void 0:null===(_=X.anvil)||void 0===_?void 0:_.missingHammers," hammers"),iconPath:"data/GemP1"}):null,(null==t?void 0:t.anvil)&&(null==X?void 0:null===(W=X.anvil)||void 0===W?void 0:null===(T=W.anvilOverdue)||void 0===T?void 0:T.length)>0?null==X?void 0:null===(B=X.anvil)||void 0===B?void 0:null===(M=B.anvilOverdue)||void 0===M?void 0:M.map(l=>{let{diff:e,name:i,rawName:o}=l;return(0,n.jsx)(Alert,{title:"".concat((0,p.cleanUnderscore)(i)," ").concat(e<=0?"production is full!":"is ".concat(e," minutes away from being full!")),iconPath:"data/".concat(o)},"".concat(i,"-").concat(d))}):null,(null==t?void 0:t.starSigns)&&(null==X?void 0:null===(D=X.starSigns)||void 0===D?void 0:D.missingStarSigns)>0?(0,n.jsx)(Alert,{title:"".concat(H," is missing ").concat(null==X?void 0:null===(N=X.starSigns)||void 0===N?void 0:N.missingStarSigns," star signs!"),iconPath:"data/SignStar1b"}):null,(null==t?void 0:t.talents)&&(null==X?void 0:null===(R=X.talents)||void 0===R?void 0:R.length)>0?null==X?void 0:null===(U=X.talents)||void 0===U?void 0:U.map((l,e)=>{let{name:i,skillIndex:o}=l;return(0,n.jsx)(Alert,{title:"".concat((0,p.cleanUnderscore)((0,p.pascalCase)(i))," is ready!"),iconPath:"data/UISkillIcon".concat(o)},o+"-"+e)}):null,(null==t?void 0:null===(q=t.tools)||void 0===q?void 0:q.checked)&&(null==X?void 0:null===(L=X.tools)||void 0===L?void 0:L.length)>0?null==X?void 0:null===(V=X.tools)||void 0===V?void 0:V.map((e,i)=>{let{rawName:o,displayName:t}=e;return(0,n.jsx)(Alert,{title:"".concat(null==l?void 0:l.name," can equip ").concat((0,p.cleanUnderscore)((0,p.pascalCase)(t))),iconPath:"data/".concat(o)},"".concat(null==l?void 0:l.name,"-").concat(o,"-").concat(i))}):null,(null==t?void 0:t.crystalCountdown)&&(null==X?void 0:null===(E=X.crystalCountdown)||void 0===E?void 0:E.length)>0?null==X?void 0:null===(F=X.crystalCountdown)||void 0===F?void 0:F.map((l,e)=>{let{name:i,icon:o,reduction:t,crystalCountdown:u}=l,{showMaxed:a,showNonMaxed:r}=(null==z?void 0:z.crystalCountdown)||{};a=null==a?void 0:a.checked,r=null==r?void 0:r.checked;let v=u>0&&t===u;return(a||!v)&&(r||!a||v)&&(r||a)?(0,n.jsx)(Alert,{style:{border:"1px solid #fbb9b9",borderRadius:5,opacity:v?1:.5},title:"Crystal CD for ".concat((0,p.cleanUnderscore)((0,p.pascalCase)(i))," is ").concat(v?"maxed":""," ").concat((0,p.notateNumber)(t,"Smaller"),"% ").concat(v?"":"(Max: ".concat((0,p.notateNumber)(u,"Smaller"),")"),"!"),iconPath:"data/".concat(o)},o+"-"+e+"-"+d):null}):null]})]})},H)})})})},W=i(80488),M=i(47212),B=i(88054),D=i(89260),N=i(67896),R=i(72664),U=i(73592);let areKeysOverdue=l=>{var e,i,n;let o=null==l?void 0:null===(e=l.currencies)||void 0===e?void 0:e.KeysAll,t=null==l?void 0:null===(n=l.currencies)||void 0===n?void 0:null===(i=n.ColosseumTickets)||void 0===i?void 0:i.allTickets,d=null==o?void 0:o.filter(l=>{let{daysSincePickup:e}=l;return e>=3}),u=null==t?void 0:t.filter((e,i)=>{var n;let{daysSincePickup:o}=e;return(0===i||(null==l?void 0:null===(n=l.finishedWorlds)||void 0===n?void 0:n["World".concat(i)]))&&o>=3});return[...d||[],...u||[]]};var hooks_useAlerts=l=>{let{alertsMap:e,data:i,trackers:n}=l,[t,d]=(0,o.useState)();return(0,o.useEffect)(()=>{let l=n&&Object.values(n).some(l=>l);if(l){let l=Object.entries(n||{}).reduce((l,n)=>{let[o,t]=n;if((null==t?void 0:t.checked)&&(null==e?void 0:e[o])){var d;let n=null==t?void 0:null===(d=t.options)||void 0===d?void 0:d.reduce((l,e)=>({...l,[null==e?void 0:e.name]:e}),{});l[o]=(null==e?void 0:e[o](i,n))||{}}return l},{}),o=Object.values(l).some(l=>Array.isArray(l)?l.length>0:l);d(o?l:null)}else d(null)},[i,n]),t};function Account_templateObject(){let l=(0,v._)(["\n  width: 15px;\n  height: 15px;\n  position: absolute;\n  left: -5px;\n  bottom: 30%;\n"]);return Account_templateObject=function(){return l},l}function _templateObject1(){let l=(0,v._)(["\n  width: ",";\n  height: ",";\n  object-fit: contain;\n  ","\n  position: ",";\n"]);return _templateObject1=function(){return l},l}let q={atomCollider:(l,e)=>{var i,n,o,t,d,u,a;let r={};return(null==l?void 0:null===(i=l.finishedWorlds)||void 0===i?void 0:i.World2)&&(null==e?void 0:null===(n=e.stampReducer)||void 0===n?void 0:n.checked)&&(r.stampReducer=(null==l?void 0:null===(o=l.atoms)||void 0===o?void 0:o.stampReducer)>=(null==e?void 0:null===(d=e.stampReducer)||void 0===d?void 0:null===(t=d.props)||void 0===t?void 0:t.value),r.stampReducerValue=null==e?void 0:null===(a=e.stampReducer)||void 0===a?void 0:null===(u=a.props)||void 0===u?void 0:u.value),r},arcade:(l,e)=>{var i,n,o,t,d;let u={};if(!(null==l?void 0:null===(i=l.finishedWorlds)||void 0===i?void 0:i.World1))return u;if(null==e?void 0:null===(n=e.balls)||void 0===n?void 0:n.checked){let e=Math.floor(Math.min((null==l?void 0:null===(o=l.timeAway)||void 0===o?void 0:o.GlobalTime)-(null==l?void 0:null===(t=l.timeAway)||void 0===t?void 0:t.Arcade),(0,W.he)(null==l?void 0:l.stamps))/Math.max((0,W.gq)(l),1800));u.balls=e>=(null==l?void 0:null===(d=l.arcade)||void 0===d?void 0:d.maxBalls)}return u},alchemy:(l,e)=>{var i,n,o,t,d,u,a,r,v,s,c,h,p,m,g,f,x;let j={};if(!(null==l?void 0:null===(i=l.finishedWorlds)||void 0===i?void 0:i.World1))return j;if(null==e?void 0:null===(n=e.bargainTag)||void 0===n?void 0:n.checked){let{x1:e,x2:i,index:n}=(null===b.liquidsShop||void 0===b.liquidsShop?void 0:b.liquidsShop.find(l=>{let{name:e}=l;return"BARGAIN_TAG"===e}))||{},o=Math.round(e*Math.pow(i,null==l?void 0:null===(a=l.alchemy)||void 0===a?void 0:null===(u=a.multiplierArray)||void 0===u?void 0:u[n]));j.bargainTag=1===o}if(null==e?void 0:null===(o=e.liquids)||void 0===o?void 0:o.checked){let i=null==l?void 0:null===(r=l.alchemy)||void 0===r?void 0:r.liquids,n=(null==e?void 0:null===(s=e.liquids)||void 0===s?void 0:null===(v=s.props)||void 0===v?void 0:v.value)/100;j.liquids=null==l?void 0:null===(h=l.alchemy)||void 0===h?void 0:null===(c=h.liquidCauldrons)||void 0===c?void 0:c.map((l,e)=>({current:null==i?void 0:i[e],max:l,index:e})).filter(l=>{let{current:e,max:i}=l;return i&&e>=i*n-5})}if((null==e?void 0:null===(t=e.sigils)||void 0===t?void 0:t.checked)&&(j.sigils=null==l?void 0:null===(g=l.alchemy)||void 0===g?void 0:null===(m=g.p2w)||void 0===m?void 0:null===(p=m.sigils)||void 0===p?void 0:p.filter(l=>{let{characters:e,progress:i,boostCost:n}=l;return e.length>0&&i>=n})),null==e?void 0:null===(d=e.vials)||void 0===d?void 0:d.checked){let{subtractGreenStacks:i}=e||{};j.vials=null==l?void 0:null===(x=l.alchemy)||void 0===x?void 0:null===(f=x.vials)||void 0===f?void 0:f.filter(e=>{var n,o,t,d,u,a;let{level:r,itemReq:v}=e,s=null===B.ln||void 0===B.ln?void 0:B.ln[r],c=(null==l?void 0:null===(o=l.storage)||void 0===o?void 0:null===(n=o.find(l=>{var e;let{name:i}=l;return i===(null==v?void 0:null===(e=v[0])||void 0===e?void 0:e.name)}))||void 0===n?void 0:n.amount)||0;(null==i?void 0:i.checked)&&(c-=1e7);let h=parseInt((null==v?void 0:null===(d=v[1])||void 0===d?void 0:null===(t=d.name.split("d"))||void 0===t?void 0:t[1])||0),p=null==l?void 0:null===(a=l.alchemy)||void 0===a?void 0:null===(u=a.liquids)||void 0===u?void 0:u[h-1];return c>s&&p>3*r})}return j},gaming:(l,e)=>{var i,n,o,t,d,u,a,r,v,s,c,h,m,g,f,x,j,k,b;if(!(null==l?void 0:null===(i=l.finishedWorlds)||void 0===i?void 0:i.World4))return!1;let{sprouts:y,squirrel:w,shovel:Z}=e,C={};(null==y?void 0:y.checked)&&(null==l?void 0:null===(n=l.gaming)||void 0===n?void 0:n.availableSprouts)>=(null==l?void 0:null===(o=l.gaming)||void 0===o?void 0:o.sproutsCapacity)&&(C.sprouts=null==l?void 0:null===(h=l.gaming)||void 0===h?void 0:h.availableSprouts),(null==y?void 0:y.checked)&&(null==l?void 0:null===(t=l.gaming)||void 0===t?void 0:t.availableDrops)>=(null==l?void 0:null===(d=l.gaming)||void 0===d?void 0:d.sproutsCapacity)&&(C.drops=null==l?void 0:null===(m=l.gaming)||void 0===m?void 0:m.availableDrops);let A=null==l?void 0:null===(a=l.gaming)||void 0===a?void 0:null===(u=a.imports)||void 0===u?void 0:u.find(l=>{let{name:e,acquired:i}=l;return"Dirty_Shovel"===e&&i});if(A&&Z&&(null==l?void 0:null===(r=l.gaming)||void 0===r?void 0:r.lastShovelClicked)>=0){let i=new Date().getTime()-(null==l?void 0:null===(g=l.gaming)||void 0===g?void 0:g.lastShovelClicked)*1e3,{hours:n}=(0,p.getDuration)(new Date().getTime(),i);n>=(null==e?void 0:null===(x=e.shovel)||void 0===x?void 0:null===(f=x.props)||void 0===f?void 0:f.value)&&(C.shovel=(0,p.getDuration)(new Date().getTime(),i))}let O=null==l?void 0:null===(s=l.gaming)||void 0===s?void 0:null===(v=s.imports)||void 0===v?void 0:v.find(l=>{let{name:e,acquired:i}=l;return"Autumn_Squirrel"===e&&i});if(O&&w&&(null==l?void 0:null===(c=l.gaming)||void 0===c?void 0:c.lastAcornClicked)>=0){let i=new Date().getTime()-(null==l?void 0:null===(j=l.gaming)||void 0===j?void 0:j.lastAcornClicked)*1e3,{hours:n}=(0,p.getDuration)(new Date().getTime(),i);n>=(null==e?void 0:null===(b=e.squirrel)||void 0===b?void 0:null===(k=b.props)||void 0===k?void 0:k.value)&&(C.squirrel=(0,p.getDuration)(new Date().getTime(),i))}return C},guild:(l,e)=>{var i,n,o,t,d,u,a,r,v;let s={};if(!(null==l?void 0:null===(i=l.accountOptions)||void 0===i?void 0:i[37]))return!1;let{daily:c,weekly:h}=e;return(null==c?void 0:c.checked)&&(s.daily=null==l?void 0:null===(d=l.guild)||void 0===d?void 0:null===(t=d.guildTasks)||void 0===t?void 0:null===(o=t.daily)||void 0===o?void 0:null===(n=o.filter(l=>{let{requirement:e,progress:i}=l;return i<e}))||void 0===n?void 0:n.length),(null==h?void 0:h.checked)&&(s.weekly=null==l?void 0:null===(v=l.guild)||void 0===v?void 0:null===(r=v.guildTasks)||void 0===r?void 0:null===(a=r.weekly)||void 0===a?void 0:null===(u=a.filter(l=>{let{requirement:e,progress:i}=l;return i<e}))||void 0===u?void 0:u.length),s},sailing:(l,e)=>{var i;let n={};if(!(null==l?void 0:null===(i=l.finishedWorlds)||void 0===i?void 0:i.World4))return n;let{captains:o}=e;if(null==o?void 0:o.checked){let{captains:e,shopCaptains:i}=(null==l?void 0:l.sailing)||{};n.captains=null==i?void 0:i.reduce((l,i)=>{let{captainType:n,firstBonusIndex:o,secondBonusIndex:t,firstBonusValue:d,secondBonusValue:u,firstBonusDescription:a,secondBonusDescription:r}=i,v=null==e?void 0:e.filter(l=>{let e=(null==l?void 0:l.firstBonusIndex)===o&&(null==l?void 0:l.secondBonusIndex)===t,i=(null==l?void 0:l.secondBonusIndex)===o&&(null==l?void 0:l.firstBonusIndex)===t,n=(null==l?void 0:l.firstBonusIndex)===o||(null==l?void 0:l.firstBonusIndex)===t;if(e||i){if(o===t)return d+u>(null==l?void 0:l.firstBonusValue)+(null==l?void 0:l.secondBonusValue);{let e=d>(null==l?void 0:l.firstBonusValue)&&u>(null==l?void 0:l.secondBonusValue),i=d>(null==l?void 0:l.secondBonusValue)&&u>(null==l?void 0:l.firstBonusValue);return e||i}}if(n){let e=(null==l?void 0:l.firstBonusIndex)===(null==l?void 0:l.secondBonusIndex);if(e){if(o===(null==l?void 0:l.firstBonusIndex))return d>(null==l?void 0:l.firstBonusValue)+(null==l?void 0:l.secondBonusValue);if(t===(null==l?void 0:l.firstBonusIndex))return u>(null==l?void 0:l.firstBonusValue)+(null==l?void 0:l.secondBonusValue)}}return!1});if((null==v?void 0:v.length)>0&&-1!==n){var s;let e=o===t,n={captain:i,isSameValue:e,badCaptains:null===(s=v.map(l=>{let{captainIndex:i,firstBonusDescription:n,secondBonusDescription:o,firstBonusValue:t,secondBonusValue:d}=l;return{captainIndex:i,firstBonusValue:t,secondBonusValue:d,bonus:e?n.substring(n.indexOf("%")).replace("%",t+d+"%"):[n.substring(n.indexOf("%")).replace("%",t+"%"),o.substring(o.indexOf("%")).replace("%",d+"%")]}}))||void 0===s?void 0:s.sort((l,e)=>(null==e?void 0:e.firstBonusValue)+(null==e?void 0:e.secondBonusValue)-((null==l?void 0:l.firstBonusValue)+(null==l?void 0:l.secondBonusValue))),bonus:e?null==a?void 0:a.substring(null==a?void 0:a.indexOf("%")).replace("%",d+u+"%"):[null==a?void 0:a.substring(null==a?void 0:a.indexOf("%")).replace("%",d+"%"),null==r?void 0:r.substring(null==r?void 0:r.indexOf("%")).replace("%",u+"%")]};return[...l,n]}return l},[])}return n},breeding:(l,e)=>{var i,n,o,t,d,u;let a={};if(!(null==l?void 0:null===(i=l.finishedWorlds)||void 0===i?void 0:i.World3))return a;if(null==e?void 0:null===(n=e.shinies)||void 0===n?void 0:n.checked){let i=null==l?void 0:null===(t=l.breeding)||void 0===t?void 0:null===(o=t.pets)||void 0===o?void 0:o.reduce((i,n)=>{let o=null==n?void 0:n.filter(i=>{var n,o,t,d;let{monsterRawName:u,shinyLevel:a}=i;return(null==l?void 0:null===(o=l.breeding)||void 0===o?void 0:null===(n=o.fencePetsObject)||void 0===n?void 0:n[u])&&a>=(null==e?void 0:null===(d=e.shinies)||void 0===d?void 0:null===(t=d.props)||void 0===t?void 0:t.value)});return[...i,...o]},[]);a.shinies={pets:i,threshold:null==e?void 0:null===(u=e.shinies)||void 0===u?void 0:null===(d=u.props)||void 0===d?void 0:d.value}}return a},printer:(l,e)=>{var i;let n={};if(!(null==l?void 0:null===(i=l.finishedWorlds)||void 0===i?void 0:i.World2))return n;let{includeOakAndCopper:o,showAlertWhenFull:t}=e,d=(0,U.J)(l,t),u=["atom",...(null==o?void 0:o.checked)?[]:["Copper","OakTree"]].toSimpleObject();return n.atoms=Object.entries(d||{}).filter(l=>{let[e,{atoms:i}]=l;return!(null==u?void 0:u[e])&&i}).map(l=>{var e;let[i,n]=l;return{name:null===b.items||void 0===b.items?void 0:null===(e=b.items[i])||void 0===e?void 0:e.displayName,rawName:i,...n}}),n},shops:(l,e)=>{var i;let n={};return n.items=null==l?void 0:null===(i=l.shopStock)||void 0===i?void 0:i.reduce((i,n,o)=>{var t,d,u,a;if((2===o||3===o)&&!(null==l?void 0:null===(t=l.finishedWorlds)||void 0===t?void 0:t.World1)||4===o&&!(null==l?void 0:null===(d=l.finishedWorlds)||void 0===d?void 0:d.World2)||5===o&&!(null==l?void 0:null===(u=l.finishedWorlds)||void 0===u?void 0:u.World3)||6===o&&!(null==l?void 0:null===(a=l.finishedWorlds)||void 0===a?void 0:a.World4))return[...i,[]];let r=null==n?void 0:n.filter(l=>{var i,n,o;let{rawName:t}=l;return null==e?void 0:null===(o=e.shops)||void 0===o?void 0:null===(n=o.props)||void 0===n?void 0:null===(i=n.value)||void 0===i?void 0:i[t]});return[...i,r]},[]),n},construction:(l,e)=>{var i,n,o,t,d,u,a,r,v;let s={};if(!(null==l?void 0:null===(i=l.finishedWorlds)||void 0===i?void 0:i.World2))return s;let{materials:c,rankUp:h,flags:p,buildings:m}=e||{};return(null==p?void 0:p.checked)&&(s.flags=null==l?void 0:null===(o=l.construction)||void 0===o?void 0:null===(n=o.board)||void 0===n?void 0:n.filter(l=>{let{flagPlaced:e,currentAmount:i,requiredAmount:n}=l;return e&&i===n})),(null==m?void 0:m.checked)&&(s.buildings=null==l?void 0:null===(d=l.towers)||void 0===d?void 0:null===(t=d.data)||void 0===t?void 0:t.filter(e=>{let i=(0,M.ZX)(null==l?void 0:l.towers,null==e?void 0:e.level,null==e?void 0:e.bonusInc,null==e?void 0:e.index);return(null==e?void 0:e.progress)>=i})),(null==c?void 0:c.checked)&&(s.materials=null==l?void 0:null===(a=l.refinery)||void 0===a?void 0:null===(u=a.salts)||void 0===u?void 0:u.reduce((e,i,n)=>{var o,t,d,u;let{rank:a,cost:r,rawName:v}=i,s=n>0?n-1:null,c=null==l?void 0:null===(t=l.refinery)||void 0===t?void 0:null===(o=t.salts)||void 0===o?void 0:o[s],h=(0,R.B4)(n,a,r,l),p=(0,R.B4)(s,null==c?void 0:c.rank,null==c?void 0:c.cost,l);return 1===h.length&&(null==h?void 0:null===(u=h[0])||void 0===u?void 0:null===(d=u.rawName)||void 0===d?void 0:d.includes("Refinery"))||(null==c?void 0:c.autoRefinePercentage)>0||(null==p?void 0:p.active)&&(null==p?void 0:p.length)>0||h.length>0&&(e=[...e,{rawName:v,missingMats:h}]),e},[])),(null==h?void 0:h.checked)&&(s.rankUp=null==l?void 0:null===(v=l.refinery)||void 0===v?void 0:null===(r=v.salts)||void 0===r?void 0:r.filter(l=>{let{refined:e,powerCap:i}=l;return e>=i-.5*i/100})),s},postOffice:(l,e)=>{var i,n,o;let t={};return(null==l?void 0:null===(i=l.finishedWorlds)||void 0===i?void 0:i.World1)&&(null==e?void 0:null===(n=e.postOffice)||void 0===n?void 0:n.checked)&&(t.shipments=null==l?void 0:null===(o=l.postOfficeShipments)||void 0===o?void 0:o.filter((l,i)=>{var n,o,t;let{streak:d}=l;return(null==e?void 0:null===(t=e.postOffice)||void 0===t?void 0:null===(o=t.props)||void 0===o?void 0:null===(n=o.value)||void 0===n?void 0:n[i+1])&&d<=0})),t},equinox:(l,e)=>{var i;let n=null==l?void 0:l.equinox,o=null==n?void 0:n.upgrades[9],{bar:t,challenges:d,foodLust:u}=e,a={};return t&&(a.bar=(null==n?void 0:n.currentCharge)>=(null==n?void 0:n.chargeRequired)&&(null==n?void 0:n.upgrades.filter(l=>l.unlocked).some(l=>l.lvl<l.maxLvl))),d&&(a.challenges=null==n?void 0:null===(i=n.challenges.filter(l=>l.active&&l.current>=l.goal))||void 0===i?void 0:i.length),u&&(a.foodLust=(null==o?void 0:o.lvl)>0&&(null==o?void 0:o.bonus)>=(null==o?void 0:o.lvl)),a},etc:(l,e)=>{var i,n,o,t,d,u,a,r,v,s,c,h,p,m,g;let f={};if((null==e?void 0:null===(i=e.randomEvents)||void 0===i?void 0:i.checked)&&(f.randomEvents=(null==l?void 0:null===(u=l.accountOptions)||void 0===u?void 0:u[137])===0),(null==e?void 0:null===(n=e.keys)||void 0===n?void 0:n.checked)&&(f.keys=areKeysOverdue(l)),!(null==l?void 0:null===(o=l.finishedWorlds)||void 0===o?void 0:o.World3))return f;if((null==e?void 0:null===(t=e.gildedStamps)||void 0===t?void 0:t.checked)&&(0,N.RB)(null==l?void 0:l.rift,"Stamp_Mastery")&&(f.gildedStamps=null==l?void 0:null===(a=l.accountOptions)||void 0===a?void 0:a[154]),null==e?void 0:null===(d=e.miniBosses)||void 0===d?void 0:d.checked){let i=[],n=null==l?void 0:null===(r=l.accountOptions)||void 0===r?void 0:r[96],o=null==l?void 0:null===(v=l.accountOptions)||void 0===v?void 0:v[98];if(n>3&&(null==l?void 0:null===(s=l.finishedWorlds)||void 0===s?void 0:s.World3)){let l=Math.min(10,Math.floor(Math.pow(n-3,.55)));l>=(null==e?void 0:null===(p=e.miniBosses)||void 0===p?void 0:null===(h=p.props)||void 0===h?void 0:h.value)&&i.push({rawName:"mini3b",name:"Dilapidated_Slush",currentCount:l})}if(o>3&&(null==l?void 0:null===(c=l.finishedWorlds)||void 0===c?void 0:c.World2)){let l=Math.min(8,Math.floor(Math.pow(o-3,.5)));l>=(null==e?void 0:null===(g=e.miniBosses)||void 0===g?void 0:null===(m=g.props)||void 0===m?void 0:m.value)&&i.push({rawName:"mini4b",name:"Mutated_Mush",currentCount:l})}f.miniBosses=i.length>0?i:null}return f},cooking:(l,e)=>{var i,n,o,t;let d={};return null!=l&&null!==(i=l.finishedWorlds)&&void 0!==i&&!!i.World3&&((null==e?void 0:null===(n=e.spices)||void 0===n?void 0:n.checked)&&(d.spices=D.Cz-(null==l?void 0:null===(t=l.cooking)||void 0===t?void 0:null===(o=t.spices)||void 0===o?void 0:o.numberOfClaims)),d)},tasks:(l,e)=>{var i,n;let o=[];return(null==e?void 0:null===(i=e.tasks)||void 0===i?void 0:i.checked)&&(o=null==l?void 0:null===(n=l.tasksDescriptions)||void 0===n?void 0:n.reduce((l,i,n)=>{var o,t,d;let u=null==i?void 0:i[8],a=(null==u?void 0:u.level)===0;return a&&(null==e?void 0:null===(d=e.tasks)||void 0===d?void 0:null===(t=d.props)||void 0===t?void 0:null===(o=t.value)||void 0===o?void 0:o[n+1])?[...l,n]:l},[])),o}},Account_Alert=l=>{let{title:e,iconPath:i,vial:o,atom:t,imgStyle:d={}}=l;return(0,n.jsx)(g.Z,{title:e,children:(0,n.jsxs)(r.Z,{sx:{position:"relative"},children:[(0,n.jsx)(V,{style:{...d},vial:o,src:"".concat(p.prefix).concat(i,".png"),alt:""}),t?(0,n.jsx)(L,{vial:o,src:"".concat(p.prefix,"etc/Particle.png"),alt:""}):null,o?(0,n.jsx)("img",{onError:l=>{l.target.src="".concat(p.prefix,"data/aVials12.png"),l.target.style="opacity: 0;"},src:"".concat(p.prefix,"data/aVials").concat((null==o?void 0:o.level)===0?"1":null==o?void 0:o.level,".png"),style:{opacity:(null==o?void 0:o.level)===0?.5:1,width:35,height:40},alt:"vial image missing"},"".concat(null==o?void 0:o.name)):null]})})},RefineryTitle=l=>{let{missingMats:e}=l;return(0,n.jsxs)(u.Z,{alignItems:"center",children:["Missing materials",(0,n.jsx)(u.Z,{direction:"row",children:e.map(l=>{let{rawName:e}=l;return(0,n.jsx)(V,{src:"".concat(p.prefix,"data/").concat(e,".png"),alt:""},e)})})]})},ShopTitle=l=>{let{shop:e}=l;return(0,n.jsx)(u.Z,{direction:"row",gap:2,flexWrap:"wrap",children:null==e?void 0:e.map((l,e)=>{let{amount:i,rawName:o}=l;return(0,n.jsxs)(u.Z,{alignItems:"center",children:[(0,n.jsx)(V,{src:"".concat(p.prefix,"data/").concat(o,".png")},"shop"+o),(0,n.jsx)(a.Z,{children:(0,p.notateNumber)(i)})]},o+e)})})},L=m.Z.img(Account_templateObject()),V=m.Z.img(_templateObject1(),l=>{let{vial:e}=l;return e?"20px":"30px"},l=>{let{vial:e}=l;return e?"20px":"30px"},l=>{let{vial:e}=l;return e?"top: 50%;left: 50%;transform:translate(-60%, -70%);":""},l=>{let{vial:e}=l;return e?"absolute":"relative"});var dashboard_Account=l=>{var e,i,o,t,d,r,v,h,m,g,f,x,j,k,b,y,w,Z,C,A,O,S,_,T,I,P,W,M,B,D,N,R,U,L,V,E,F,H,G,Q,Y,z,X,K,J,$,ll,le,li,ln,lo,lt,ld,lu,la,lr,lv,ls,lc,lh,lp,lm,lg,lf,lx,lj,lk,lb,ly,lw,lZ,lC,lA,lO,lS,l_,lT,lI,lP,lW,lM,lB,lD,lN,lR,lU,lq,lL,lV,lE;let{account:lF,trackers:lH}=l,lG=hooks_useAlerts({alertsMap:q,data:lF,trackers:lH});return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.Z,{sx:{width:"fit-content"},children:(0,n.jsx)(c.Z,{children:lG?(0,n.jsxs)(u.Z,{direction:"row",gap:2,flexWrap:"wrap",children:[(null==lH?void 0:lH.atomCollider)&&(null==lG?void 0:null===(e=lG.atomCollider)||void 0===e?void 0:e.stampReducer)?(0,n.jsx)(Account_Alert,{title:"Stamp reducer has reached your threshold (".concat(null==lG?void 0:null===(i=lG.atomCollider)||void 0===i?void 0:i.stampReducerValue,"%) !"),iconPath:"data/Atom0"}):null,(null==lH?void 0:lH.construction)&&(null==lG?void 0:null===(t=lG.construction)||void 0===t?void 0:null===(o=t.flags)||void 0===o?void 0:o.length)>0?(0,n.jsx)(Account_Alert,{title:"There are ".concat(null==lG?void 0:null===(r=lG.construction)||void 0===r?void 0:null===(d=r.flags)||void 0===d?void 0:d.length," flags finished in construction board"),iconPath:"data/CogFLflag"}):null,(null==lH?void 0:lH.alchemy)&&(null==lG?void 0:null===(v=lG.alchemy)||void 0===v?void 0:v.bargainTag)?(0,n.jsx)(Account_Alert,{title:"You haven't use bargain tag even once today!",iconPath:"data/aShopItems10"}):null,(null==lH?void 0:lH.etc)&&(null==lG?void 0:null===(h=lG.etc)||void 0===h?void 0:h.randomEvents)?(0,n.jsx)(Account_Alert,{title:"You haven't done a random event today!",iconPath:"etc/Mega_Grumblo"}):null,(null==lH?void 0:lH.cooking)&&(null==lG?void 0:null===(m=lG.cooking)||void 0===m?void 0:m.spices)>0?(0,n.jsx)(Account_Alert,{title:"You have ".concat(null==lG?void 0:null===(g=lG.cooking)||void 0===g?void 0:g.spices," spice clicks left!"),iconPath:"data/CookingSpice0"}):null,(null==lH?void 0:lH.arcade)&&(null==lG?void 0:null===(f=lG.arcade)||void 0===f?void 0:f.balls)?(0,n.jsx)(Account_Alert,{title:"Max ball capacity has reached!",iconPath:"data/PachiBall0"}):null,(null==lH?void 0:lH.gaming)&&(null==lG?void 0:null===(x=lG.gaming)||void 0===x?void 0:x.sprouts)?(0,n.jsx)(Account_Alert,{title:"Max sprouts capacity has reached (".concat(null==lG?void 0:null===(j=lG.gaming)||void 0===j?void 0:j.sprouts,")"),imgStyle:{objectFit:"none"},iconPath:"etc/Sprouts"}):null,(null==lH?void 0:lH.gaming)&&(null==lG?void 0:null===(k=lG.gaming)||void 0===k?void 0:k.drops)?(0,n.jsx)(Account_Alert,{title:"Sprinkler drops has reached it's capacity (".concat(null==lG?void 0:null===(b=lG.gaming)||void 0===b?void 0:b.drops,")"),iconPath:"data/GamingItem0b"}):null,(null==lH?void 0:lH.gaming)&&(null==lG?void 0:null===(w=lG.gaming)||void 0===w?void 0:null===(y=w.squirrel)||void 0===y?void 0:y.hours)>=1?(0,n.jsx)(Account_Alert,{title:"".concat(null==lG?void 0:null===(C=lG.gaming)||void 0===C?void 0:null===(Z=C.squirrel)||void 0===Z?void 0:Z.hours," hours has passed since you've clicked the squirrel!"),iconPath:"data/GamingItem2"}):null,(null==lH?void 0:lH.gaming)&&(null==lG?void 0:null===(O=lG.gaming)||void 0===O?void 0:null===(A=O.shovel)||void 0===A?void 0:A.hours)>=1?(0,n.jsx)(Account_Alert,{title:"".concat(null==lG?void 0:null===(_=lG.gaming)||void 0===_?void 0:null===(S=_.shovel)||void 0===S?void 0:S.hours," hours has passed since you've clicked the shovel!"),iconPath:"data/GamingItem1"}):null,(null==lH?void 0:lH.equinox)&&(null==lG?void 0:null===(T=lG.equinox)||void 0===T?void 0:T.bar)?(0,n.jsx)(Account_Alert,{title:"Your Equinox bar is full !",iconPath:"data/Quest78"}):null,(null==lH?void 0:lH.equinox)&&(null==lG?void 0:null===(I=lG.equinox)||void 0===I?void 0:I.challenges)>0?(0,n.jsx)(Account_Alert,{title:"You have ".concat(null==lG?void 0:null===(P=lG.equinox)||void 0===P?void 0:P.challenges," challenges to validate !"),iconPath:"data/Quest78"}):null,(null==lH?void 0:lH.equinox)&&(null==lG?void 0:null===(W=lG.equinox)||void 0===W?void 0:W.foodLust)?(0,n.jsx)(Account_Alert,{title:"Food Lust is maxed !",iconPath:"etc/Dream_Upgrade_10"}):null,(null==lH?void 0:lH.etc)&&(null==lG?void 0:null===(M=lG.etc)||void 0===M?void 0:M.gildedStamps)>0?(0,n.jsx)(Account_Alert,{title:"You have ".concat(null==lG?void 0:null===(B=lG.etc)||void 0===B?void 0:B.gildedStamps," available gilded stamps"),iconPath:"data/GildedStamp"}):null,(null==lH?void 0:lH.etc)&&(null==lG?void 0:null===(N=lG.etc)||void 0===N?void 0:null===(D=N.miniBosses)||void 0===D?void 0:D.length)>0?null==lG?void 0:null===(U=lG.etc)||void 0===U?void 0:null===(R=U.miniBosses)||void 0===R?void 0:R.map(l=>{let{rawName:e,name:i,currentCount:o}=l;return(0,n.jsx)(Account_Alert,{title:"You can kill ".concat(o," ").concat((0,p.cleanUnderscore)(i),"s"),iconPath:"etc/".concat(e)},e)}):null,(null==lH?void 0:lH.alchemy)&&(null==lG?void 0:null===(V=lG.alchemy)||void 0===V?void 0:null===(L=V.sigils)||void 0===L?void 0:L.length)>0?null==lG?void 0:null===(F=lG.alchemy)||void 0===F?void 0:null===(E=F.sigils)||void 0===E?void 0:E.map(l=>{let{name:e,index:i}=l;return(0,n.jsx)(Account_Alert,{title:"".concat((0,p.cleanUnderscore)((0,p.pascalCase)(e))," is already unlocked!"),iconPath:"data/aSiga".concat(i)},e)}):null,(null==lH?void 0:lH.alchemy)&&(null==lG?void 0:null===(G=lG.alchemy)||void 0===G?void 0:null===(H=G.liquids)||void 0===H?void 0:H.length)>0?null==lG?void 0:null===(Y=lG.alchemy)||void 0===Y?void 0:null===(Q=Y.liquids)||void 0===Q?void 0:Q.map(l=>{let{index:e}=l;return(0,n.jsx)(Account_Alert,{title:"".concat((0,p.getNumberWithOrdinal)(e+1)," liquid is full!"),iconPath:"data/Liquid".concat(e+1,"_x1")},"liq"+e)}):null,(null==lH?void 0:lH.tasks)&&(null==lG?void 0:null===(z=lG.tasks)||void 0===z?void 0:z.length)>0?null==lG?void 0:null===(X=lG.tasks)||void 0===X?void 0:X.map(l=>(0,n.jsx)(Account_Alert,{title:"Daily task in world ".concat(l+1," not done yet."),iconPath:"etc/Merit_".concat(l)},"task"+l)):null,(null==lH?void 0:lH.sailing)&&(null==lG?void 0:null===(J=lG.sailing)||void 0===J?void 0:null===(K=J.captains)||void 0===K?void 0:K.length)>0?null==lG?void 0:null===(ll=lG.sailing)||void 0===ll?void 0:null===($=ll.captains)||void 0===$?void 0:$.map(l=>{let{captain:e,bonus:i,badCaptains:o}=l;return(0,n.jsx)(Account_Alert,{title:(0,n.jsxs)(u.Z,{children:[(0,n.jsxs)(a.Z,{sx:{mb:1},children:["Captain ",(0,n.jsx)(a.Z,{component:"span",sx:{fontWeight:"bold"},children:null==e?void 0:e.captainIndex})," with ",(0,p.cleanUnderscore)(i)," from the shop is better than ",o.length," of your captains"]}),(0,n.jsx)(u.Z,{children:null==o?void 0:o.map(l=>{let{captainIndex:e,bonus:i}=l;return(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(a.Z,{component:"span",sx:{fontWeight:"bold"},children:e}),": ",(0,p.cleanUnderscore)(i)]},"cap-".concat(e))})})]}),iconPath:"etc/Captain_".concat(null==e?void 0:e.captainType)},"captain"+(null==e?void 0:e.captainIndex))}):null,(null==lH?void 0:lH.construction)&&(null==lG?void 0:null===(li=lG.construction)||void 0===li?void 0:null===(le=li.materials)||void 0===le?void 0:le.length)>0?null==lG?void 0:null===(lo=lG.construction)||void 0===lo?void 0:null===(ln=lo.materials)||void 0===ln?void 0:ln.map(l=>{let{rawName:e,missingMats:i}=l;return(0,n.jsx)(Account_Alert,{title:(0,n.jsx)(RefineryTitle,{missingMats:i}),iconPath:"data/".concat(e)},e)}):null,(null==lH?void 0:lH.construction)&&(null==lG?void 0:null===(ld=lG.construction)||void 0===ld?void 0:null===(lt=ld.rankUp)||void 0===lt?void 0:lt.length)>0?null==lG?void 0:null===(la=lG.construction)||void 0===la?void 0:null===(lu=la.rankUp)||void 0===lu?void 0:lu.map(l=>{let{rawName:e,saltName:i}=l;return(0,n.jsx)(Account_Alert,{title:"".concat((0,p.cleanUnderscore)(i)," is ready to rank up!"),iconPath:"data/".concat(e)},e)}):null,(null==lH?void 0:lH.construction)&&(null==lG?void 0:null===(lv=lG.construction)||void 0===lv?void 0:null===(lr=lv.buildings)||void 0===lr?void 0:lr.length)>0?null==lG?void 0:null===(lc=lG.construction)||void 0===lc?void 0:null===(ls=lc.buildings)||void 0===ls?void 0:ls.map(l=>{let{name:e,index:i}=l;return(0,n.jsx)(Account_Alert,{title:"".concat((0,p.cleanUnderscore)((0,p.pascalCase)(e))," is ready to be built!"),iconPath:"data/ConTower".concat(i)},e)}):null,(null==lH?void 0:lH.etc)&&(null==lG?void 0:null===(lp=lG.etc)||void 0===lp?void 0:null===(lh=lp.keys)||void 0===lh?void 0:lh.length)>0?null==lG?void 0:null===(lg=lG.etc)||void 0===lg?void 0:null===(lm=lg.keys)||void 0===lm?void 0:lm.map((l,e)=>{let{rawName:i,totalAmount:o}=l;return(0,n.jsx)(Account_Alert,{title:"".concat(o," of ").concat((0,p.cleanUnderscore)((0,p.pascalCase)(name))," keys are ready!"),iconPath:"data/".concat(i)},i+""+e)}):null,(null==lH?void 0:lH.postOffice)&&(null==lG?void 0:null===(lx=lG.postOffice)||void 0===lx?void 0:null===(lf=lx.shipments)||void 0===lf?void 0:lf.length)>0?null==lG?void 0:null===(lk=lG.postOffice)||void 0===lk?void 0:null===(lj=lk.shipments)||void 0===lj?void 0:lj.map(l=>{let{index:e}=l;return(0,n.jsx)(Account_Alert,{title:"Order streak for shipment #".concat(e+1," is 0!"),iconPath:"data/UIlilbox"},"shipment"+e)}):null,(null==lH?void 0:lH.breeding)&&(null==lG?void 0:null===(lw=lG.breeding)||void 0===lw?void 0:null===(ly=lw.shinies)||void 0===ly?void 0:null===(lb=ly.pets)||void 0===lb?void 0:lb.length)>0?null==lG?void 0:null===(lA=lG.breeding)||void 0===lA?void 0:null===(lC=lA.shinies)||void 0===lC?void 0:null===(lZ=lC.pets)||void 0===lZ?void 0:lZ.map((l,e)=>{var i,o;let{monsterName:t,monsterRawName:d,shinyLevel:u,icon:a}=l;return(0,n.jsx)(Account_Alert,{imgStyle:{filter:"hue-rotate(".concat((0,p.randomFloatBetween)(45,180),"deg)")},title:"".concat((0,p.cleanUnderscore)(t)," has surpassed the shiny level threshold (").concat(null==lG?void 0:null===(o=lG.breeding)||void 0===o?void 0:null===(i=o.shinies)||void 0===i?void 0:i.threshold,")"),iconPath:"Mface23"===a&&"shovelR"!==d?"afk_targets/".concat(t):"data/".concat(a)},t+e)}):null,(null==lH?void 0:null===(lO=lH.printer)||void 0===lO?void 0:lO.checked)&&(null==lG?void 0:null===(l_=lG.printer)||void 0===l_?void 0:null===(lS=l_.atoms)||void 0===lS?void 0:lS.length)>0?null==lG?void 0:null===(lI=lG.printer)||void 0===lI?void 0:null===(lT=lI.atoms)||void 0===lT?void 0:lT.map(l=>{let{name:e,rawName:i}=l;return(0,n.jsx)(Account_Alert,{title:"Printing is at capacity for ".concat((0,p.cleanUnderscore)(e)),atom:!0,iconPath:"data/".concat(i)},"printer-atoms-"+i)}):null,(null==lH?void 0:lH.alchemy)&&(null==lG?void 0:null===(lW=lG.alchemy)||void 0===lW?void 0:null===(lP=lW.vials)||void 0===lP?void 0:lP.length)>0?null==lG?void 0:null===(lB=lG.alchemy)||void 0===lB?void 0:null===(lM=lB.vials)||void 0===lM?void 0:lM.map(l=>(0,n.jsx)(Account_Alert,{vial:l,title:"You have enough materials to upgrade ".concat((0,p.cleanUnderscore)(null==l?void 0:l.name)," vial!"),iconPath:"data/".concat(null==l?void 0:l.mainItem)},null==l?void 0:l.mainItem)):null,(null==lH?void 0:lH.shops)&&(null==lG?void 0:null===(lN=lG.shops)||void 0===lN?void 0:null===(lD=lN.items)||void 0===lD?void 0:lD.length)>0?null==lG?void 0:null===(lU=lG.shops)||void 0===lU?void 0:null===(lR=lU.items)||void 0===lR?void 0:lR.map((l,e)=>{var i;return(null==l?void 0:l.length)>0?(0,n.jsx)(Account_Alert,{title:(0,n.jsx)(ShopTitle,{shop:l}),iconPath:"data/ShopEZ".concat(e)},"shop"+e+(null==l?void 0:null===(i=l[0])||void 0===i?void 0:i.rawName)):null}):null,(null==lH?void 0:lH.guild)&&(null==lG?void 0:null===(lq=lG.guild)||void 0===lq?void 0:lq.daily)?(0,n.jsx)(Account_Alert,{title:"You have ".concat(null==lG?void 0:null===(lL=lG.guild)||void 0===lL?void 0:lL.daily," uncompleted daily tasks"),iconPath:"etc/GP",imgStyle:{filter:"sepia(1) hue-rotate(46deg) saturate(1)"}}):null,(null==lH?void 0:lH.guild)&&(null==lG?void 0:null===(lV=lG.guild)||void 0===lV?void 0:lV.weekly)?(0,n.jsx)(Account_Alert,{title:"You have ".concat(null==lG?void 0:null===(lE=lG.guild)||void 0===lE?void 0:lE.weekly," uncompleted weekly tasks"),iconPath:"etc/GP",imgStyle:{filter:"sepia(1) hue-rotate(140deg) saturate(1)"}}):null]}):(0,n.jsx)(a.Z,{children:"There are no account alerts to display"})})})})},E=i(94229),F=i(93946),World3_Library=l=>{let{libraryTimes:e,lastUpdated:i}=l,{bookCount:t,next:d,breakpoints:r}=e||{},v=new Date().getTime()+1e3*d,s=(0,p.getRealDateInMs)(v);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,n.jsx)("img",{src:"".concat(p.prefix,"data/Libz.png"),alt:""}),(0,n.jsx)(a.Z,{sx:{fontWeight:"bold",fontSize:18},children:"Library"})]}),(0,n.jsxs)("h4",{children:["Book count: ",t]}),(0,n.jsxs)(u.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,n.jsx)(a.Z,{sx:{width:130},children:"Next book in: "})," ",d>0?(0,n.jsx)(g.Z,{title:"End date: "+s,children:(0,n.jsx)(O.Z,{type:"countdown",lastUpdated:i,date:v})}):(0,n.jsx)(a.Z,{variant:"caption",children:"Wait for game update"})]}),null==r?void 0:r.map((l,e)=>{let{breakpoint:t,time:d}=l,r=new Date().getTime()+1e3*d;return r=(0,p.getRealDateInMs)(r),d>0?(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(h.Z,{sx:{my:1}}),(0,n.jsxs)(u.Z,{direction:"row",gap:1,children:[(0,n.jsxs)(a.Z,{sx:{width:130},children:[0===t?"0 to 20":t," books in: "]})," ",d>0?(0,n.jsx)(g.Z,{title:"End date: "+r,children:(0,n.jsx)(O.Z,{type:"countdown",lastUpdated:i,staticTime:0===t,date:new Date().getTime()+1e3*d})}):(0,n.jsx)(a.Z,{variant:"caption",children:"Wait for game update"})]})]},"book-timer"+e):null})]})},H=i(16372),G=i(44490),Q=i(15265),Y=i(95331);function Etc_templateObject(){let l=(0,v._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return Etc_templateObject=function(){return l},l}let z=m.Z.img(Etc_templateObject()),TimerCard=l=>{let{tooltipContent:e,icon:i,lastUpdated:o,time:t,timerPlaceholder:d=""}=l;return(0,n.jsx)(s.Z,{sx:{height:"fit-content"},children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(g.Z,{title:e,children:(0,n.jsxs)(u.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,n.jsx)(z,{src:"".concat(p.prefix).concat(i)}),(0,n.jsx)(O.Z,{type:"countdown",date:t,placeholder:d,lastUpdated:o})]})})})})};var dashboard_Etc=l=>{var e,i,t,d,r,v,m,f,x,j,k,b,w,Z,C,A,S,_,T,I,P;let{characters:B,account:D,lastUpdated:N}=l,R=(0,y.ai)(null==B?void 0:B[0],D),U=new Date().getTime()+(null==D?void 0:null===(e=D.timeAway)||void 0===e?void 0:e.ShopRestock)*1e3,q=new Date().getTime()+((null==D?void 0:null===(i=D.timeAway)||void 0===i?void 0:i.ShopRestock)+86400*(null==D?void 0:null===(t=D.accountOptions)||void 0===t?void 0:t[39]))*1e3,L=(0,o.useMemo)(()=>(0,y.KB)(D),[B,D,N]),V=(0,o.useMemo)(()=>{var l;return(0,W.IS)(null==D?void 0:null===(l=D.serverVars)||void 0===l?void 0:l.HappyHours)||[]},[D]),E=new Date().getTime()+(3600-((null==D?void 0:null===(d=D.timeAway)||void 0===d?void 0:d.GlobalTime)-(null==D?void 0:null===(r=D.timeAway)||void 0===r?void 0:r.Printer)))*1e3,F=new Date().getTime()+Math.max(0,594e6-(1e3*(null==D?void 0:null===(v=D.timeAway)||void 0===v?void 0:v.GlobalTime)-(null==D?void 0:null===(m=D.companions)||void 0===m?void 0:m.lastFreeClaim))),X=(0,Y._m)(D,"Nitrogen_-_Construction_Trimmer"),K=null==D?void 0:null===(x=D.towers)||void 0===x?void 0:null===(f=x.data)||void 0===f?void 0:f.reduce((l,e)=>{var i,n,o,t,d,u;let a;let r=(null==D?void 0:null===(n=D.lab.jewels)||void 0===n?void 0:null===(i=n.slice(3,7))||void 0===i?void 0:i.every(l=>{let{active:e}=l;return e}))?1:0,v=(null==D?void 0:null===(t=D.lab.jewels)||void 0===t?void 0:null===(o=t[3])||void 0===o?void 0:o.active)?1+r:0,s=(null==e?void 0:e.slot)!==-1&&(null==e?void 0:e.slot)<v+(X?1:0),c=(0,M.ZX)(null==D?void 0:D.towers,null==e?void 0:e.level,null==e?void 0:e.bonusInc,null==e?void 0:e.index);if(s){let l=(3+X/100)*(null==D?void 0:null===(d=D.construction)||void 0===d?void 0:d.totalBuildRate);a=(c-(null==e?void 0:e.progress))/l*36e5}else a=(c-(null==e?void 0:e.progress))/(null==D?void 0:null===(u=D.construction)||void 0===u?void 0:u.totalBuildRate)*36e5;return(null==e?void 0:e.inProgress)&&((null==l?void 0:l.timeLeft)===0||a<(null==l?void 0:l.timeLeft))?{timeLeft:a,icon:"ConTower".concat(null==e?void 0:e.index)}:l},{timeLeft:0,icon:""}),J=null==D?void 0:null===(j=D.traps)||void 0===j?void 0:j.reduce((l,e)=>{let i=null==e?void 0:e.map(l=>{let{timeLeft:e}=l;return e});if(0===i.length)return l;let n=Math.min(...i);return 0===l||n<l?n:l},0),$=(0,Q.kV)(B),{bestWizard:ll,bestChargeSyphon:le,timeToOverCharge:li}=(0,o.useMemo)(()=>(0,Q.Qq)(B),[B]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(u.Z,{direction:"row",flexWrap:"wrap",gap:2,children:[(null==L?void 0:L.length)>0?(0,n.jsx)(s.Z,{sx:{width:"fit-content",height:"fit-content"},children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(u.Z,{gap:2,children:null==L?void 0:L.map((l,e)=>{if(!(e>1))return(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(G.Z,{...l}),(0,n.jsx)(h.Z,{flexItem:!0})]},"events"+e)})})})}):null,(null==D?void 0:null===(k=D.finishedWorlds)||void 0===k?void 0:k.World4)?(0,n.jsx)(s.Z,{sx:{width:"fit-content",height:"fit-content"},children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(u.Z,{alignItems:"center",gap:2,children:null==D?void 0:null===(w=D.sailing)||void 0===w?void 0:null===(b=w.trades)||void 0===b?void 0:b.map((l,e)=>{if(!(e>2))return(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(H.Z,{...l}),(0,n.jsx)(h.Z,{flexItem:!0})]},"trade"+e)})})})}):null,(null==D?void 0:null===(Z=D.finishedWorlds)||void 0===Z?void 0:Z.World2)?(0,n.jsx)(s.Z,{sx:{width:"fit-content",height:"fit-content"},children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(World3_Library,{libraryTimes:null==D?void 0:D.libraryTimes,lastUpdated:N})})}):null,(0,n.jsxs)(u.Z,{gap:1,direction:"row",sx:{width:350},flexWrap:"wrap",children:[(null==D?void 0:null===(C=D.finishedWorlds)||void 0===C?void 0:C.World2)?(0,n.jsx)(TimerCard,{tooltipContent:"Next printer cycle: "+(0,p.getRealDateInMs)(E),lastUpdated:N,time:E,icon:"data/ConTower0.png"}):null,(null==D?void 0:null===(A=D.finishedWorlds)||void 0===A?void 0:A.World2)&&0!==J?(0,n.jsx)(TimerCard,{tooltipContent:"Closest trap: "+(0,p.getRealDateInMs)(J),lastUpdated:N,time:J,icon:"data/TrapBoxSet1.png"}):null,(null==D?void 0:null===(S=D.finishedWorlds)||void 0===S?void 0:S.World2)&&(null==K?void 0:K.timeLeft)!==0?(0,n.jsx)(TimerCard,{tooltipContent:"Closest building: "+(0,p.getRealDateInMs)(new Date().getTime()+(null==K?void 0:K.timeLeft)),lastUpdated:N,time:new Date().getTime()+(null==K?void 0:K.timeLeft),icon:"data/".concat(null==K?void 0:K.icon,".png")}):null,(null==D?void 0:null===(_=D.finishedWorlds)||void 0===_?void 0:_.World2)&&(null==$?void 0:$.timeLeft)!==0?(0,n.jsx)(TimerCard,{tooltipContent:"Closest full worship - ".concat(null==$?void 0:$.character,": ")+(0,p.getRealDateInMs)(new Date().getTime()+(null==$?void 0:$.timeLeft)),lastUpdated:N,time:new Date().getTime()+(null==$?void 0:$.timeLeft),icon:"data/WorshipSkull3.png"}):null,(0,n.jsx)(TimerCard,{tooltipContent:"Next companion claim: "+(0,p.getRealDateInMs)(F),lastUpdated:N,time:F,icon:"afk_targets/Dog.png",timerPlaceholder:"Go claim!"}),(null==V?void 0:V.length)>0?(0,n.jsx)(TimerCard,{tooltipContent:"Next happy hour: "+(0,p.getRealDateInMs)(null==V?void 0:V[0]),lastUpdated:N,time:null==V?void 0:V[0],icon:"etc/Happy_Hour.png",timerPlaceholder:"Go claim!"}):null,(null==D?void 0:null===(T=D.finishedWorlds)||void 0===T?void 0:T.World2)?(0,n.jsx)(TimerCard,{tooltipContent:"Overflow syphon Charge (".concat((null==ll?void 0:null===(I=ll.worship)||void 0===I?void 0:I.maxCharge)+le,"): ")+(0,p.getRealDateInMs)(li),lastUpdated:N,time:li,icon:"data/UISkillIcon475.png",timerPlaceholder:"Overflowing charge"}):null]}),(0,n.jsxs)(u.Z,{gap:1,children:[(0,n.jsx)(s.Z,{sx:{height:"fit-content"},children:(0,n.jsxs)(c.Z,{children:[(0,n.jsxs)(u.Z,{sx:{height:"fit-content"},children:[(0,n.jsx)(a.Z,{sx:{fontWeight:"bold",mb:1,color:"#bfff77"},children:"Daily Reset"}),(0,n.jsx)(O.Z,{type:"countdown",lastUpdated:N,date:U})]}),(0,n.jsxs)(u.Z,{sx:{mt:2},children:[(0,n.jsx)(a.Z,{sx:{fontWeight:"bold",mb:1,color:"#b2ecfd"},children:"Weekly Reset"}),(0,n.jsx)(O.Z,{type:"countdown",lastUpdated:N,date:q})]})]})}),(null==D?void 0:null===(P=D.finishedWorlds)||void 0===P?void 0:P.World2)?(0,n.jsx)(s.Z,{sx:{width:"fit-content",height:"fit-content"},children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(u.Z,{direction:"row",alignItems:"center",gap:2,children:(0,n.jsx)(g.Z,{title:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(a.Z,{sx:{fontWeight:"bold"},children:"Giant Mob Chance"}),(0,n.jsxs)(a.Z,{children:["+",null==R?void 0:R.crescentShrineBonus,"% from Crescent shrine"]}),(0,n.jsxs)(a.Z,{children:["+",null==R?void 0:R.giantMobVial,"% from Shaved Ice vial"]}),(null==R?void 0:R.glitterbugPrayer)>0?(0,n.jsxs)(a.Z,{children:["-",null==R?void 0:R.glitterbugPrayer,"% from Glitterbug prayer"]}):null]}),children:(0,n.jsxs)(u.Z,{gap:1,direction:"row",alignItems:"center",children:[(0,n.jsx)(z,{src:"".concat(p.prefix,"data/Prayer5.png")}),(0,n.jsxs)(a.Z,{children:["1 in ",(0,p.notateNumber)(Math.floor(1/(null==R?void 0:R.chance)))]})]})})})})}):null]})]})})},X=i(2962),K=i(25081),J=i(13250),$=i(50657),ll=i(37645),le=i(6514),li=i(50480),ln=i(69368),lo=i(57922),lt=i(61903),ld=i(87109),lu=i(50594),la=i(29217),lr=i(45111),lv=i(68575);let Fields=l=>{var e;let{config:i,onChange:t,configType:d}=l,[a,v]=(0,o.useState)(null),handleArrowClick=l=>{v(a===l?null:l)};return i&&(null===(e=Object.entries(i))||void 0===e?void 0:e.map((l,e)=>{var i,o;let[v,s]=l;return(0,n.jsxs)(r.Z,{children:[(0,n.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",children:[(0,n.jsx)(li.Z,{control:(0,n.jsx)(ln.Z,{name:v,checked:null==s?void 0:s.checked,size:"small"}),onChange:l=>t(l,d),label:null==v?void 0:v.camelToTitleCase()}),(null==s?void 0:null===(i=s.options)||void 0===i?void 0:i.length)>0?(0,n.jsx)(F.Z,{size:"small",onClick:()=>handleArrowClick(v),children:a===v?(0,n.jsx)(la.Z,{}):(0,n.jsx)(lr.Z,{})}):null]}),(0,n.jsx)(lo.Z,{in:a===v,unmountOnExit:!0,children:(0,n.jsx)(u.Z,{sx:{ml:3,mr:3},children:null==s?void 0:null===(o=s.options)||void 0===o?void 0:o.map((l,e)=>(0,n.jsx)(BaseField,{trackerName:v,option:{...l,optionIndex:e},configType:d,onChange:t},"".concat(null==l?void 0:l.name,"-").concat(e)))})})]},"tracker-".concat(v,"-").concat(e))}))},BaseField=l=>{var e,i;let{option:o,trackerName:t,onChange:d,configType:r}=l,{type:v,props:s}=o||{};return(0,n.jsxs)(n.Fragment,{children:[(null==o?void 0:o.category)?(0,n.jsx)(a.Z,{variant:"caption",children:null==o?void 0:null===(e=o.category)||void 0===e?void 0:e.camelToTitleCase()}):null,(0,n.jsxs)(u.Z,{direction:"row",children:["array"!==v?(0,n.jsx)(li.Z,{sx:{minWidth:(null==s?void 0:s.type)==="img"?"inherit":100},control:(0,n.jsx)(ln.Z,{name:null==o?void 0:o.name,checked:null==o?void 0:o.checked,size:"small"}),onChange:l=>d(l,r,o,t),label:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.Z,{children:null==o?void 0:null===(i=o.name)||void 0===i?void 0:i.camelToTitleCase()})})}):null,"input"===v?(0,n.jsx)(InputField,{option:o,trackerName:t,configType:r,onChange:d}):null,"array"===v?(0,n.jsx)(ArrayField,{option:o,configType:r,onChange:d}):null]})]})},ArrayField=l=>{var e;let{option:i,onChange:o,configType:t}=l,{value:d,type:a}=null==i?void 0:i.props;return(0,n.jsx)(u.Z,{direction:"row",flexWrap:"wrap",children:null===(e=Object.keys(d))||void 0===e?void 0:e.map((l,e)=>(0,n.jsx)(li.Z,{onChange:l=>o(l,t,i),control:(0,n.jsx)(ln.Z,{name:l,checked:null==d?void 0:d[l],size:"small"}),label:"img"===a?(0,n.jsx)("img",{width:24,height:24,src:"".concat(p.prefix,"data/").concat(l,".png"),alt:""}):l.camelToTitleCase()},"".concat(l,"-").concat(e)))})},InputField=l=>{let{option:e,onChange:i,configType:o,name:t,trackerName:d}=l,{label:u,value:a,helperText:r="",maxValue:v,minValue:s=0,endAdornment:c=""}=null==e?void 0:e.props;return(0,n.jsx)(lt.Z,{size:"small",label:u.capitalize(),type:"number",sx:{mt:1,width:150},name:t,value:a,InputProps:{endAdornment:c?(0,n.jsx)(ld.Z,{position:"end",children:c}):null,inputProps:{max:v,min:s,autoComplete:"off"}},onChange:l=>i(l,o,{...e,inputVal:!0},d),helperText:r})};var common_DashboardSettings=l=>{let{open:e,onClose:i,config:o,onChange:t}=l,handleSettingChange=(l,e,i,n)=>{var d,u,a,r,v;let s=JSON.parse(JSON.stringify(o)),c=null==l?void 0:null===(d=l.target)||void 0===d?void 0:d.name;if((null==i?void 0:i.type)==="array"){let l=s[e][null==i?void 0:i.name].options[null==i?void 0:i.optionIndex].props.value[c];s[e][null==i?void 0:i.name].options[null==i?void 0:i.optionIndex].props.value[c]=!l}else if((null==i?void 0:i.type)==="input"){if(null==i?void 0:i.inputVal)s[e][n].options[null==i?void 0:i.optionIndex].props.value=null==l?void 0:null===(u=l.target)||void 0===u?void 0:u.value;else{let l=null===(a=s[e][n].options[null==i?void 0:i.optionIndex])||void 0===a?void 0:a.checked;s[e][n].options[null==i?void 0:i.optionIndex].checked=!l}}else if(i){let l=null===(r=s[e][n].options[null==i?void 0:i.optionIndex])||void 0===r?void 0:r.checked;s[e][n].options[null==i?void 0:i.optionIndex].checked=!l}else{let l=null===(v=s[e][c])||void 0===v?void 0:v.checked;s[e][c].checked=!l,s[e][c].options=s[e][c].options.map(e=>{if((null==e?void 0:e.type)==="array"){var i;let n=null===(i=Object.entries(e.props.value))||void 0===i?void 0:i.reduce((e,i)=>{let[n]=i;return{...e,[n]:!l}},{});return{...e,checked:!l,props:{...(null==e?void 0:e.props)||{},value:n}}}return{...e,checked:!l}})}t(s)};return(0,n.jsxs)($.Z,{open:e,onClose:i,fullWidth:!0,children:[(0,n.jsxs)(ll.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Dashboard configurations",(0,n.jsx)(F.Z,{onClick:i,children:(0,n.jsx)(lu.Z,{})})]}),(0,n.jsx)(le.Z,{children:(0,n.jsxs)(lv.Z,{tabs:["Account","Character"],children:[(0,n.jsx)(r.Z,{children:(0,n.jsx)(Fields,{config:null==o?void 0:o.account,configType:"account",onChange:handleSettingChange})}),(0,n.jsx)(r.Z,{children:(0,n.jsx)(Fields,{config:null==o?void 0:o.characters,configType:"characters",onChange:handleSettingChange})})]})})]})};let ls={account:{tasks:{checked:!0,options:[{name:"tasks",type:"array",category:"Worlds",props:{value:[1,2,3,4,5].toSimpleObject()},checked:!0}]},atomCollider:{checked:!0,options:[{name:"stampReducer",type:"input",props:{label:"Threshold",value:90,maxValue:90,minValue:0,endAdornment:"%"},checked:!0}]},arcade:{checked:!0,options:[{name:"balls",checked:!0}]},alchemy:{checked:!0,options:[{name:"bargainTag",checked:!0},{name:"sigils",checked:!0},{name:"liquids",category:"liquids",type:"input",props:{label:"Liquid percent",value:90,maxValue:100,minValue:0},checked:!0},{name:"vials",category:"vials",checked:!0},{name:"subtractGreenStacks",checked:!0}]},cooking:{checked:!0,options:[{name:"spices",checked:!0}]},gaming:{checked:!0,options:[{name:"sprouts",checked:!0},{name:"squirrel",type:"input",props:{label:"Hours threshold",value:1,minValue:1},checked:!0},{name:"shovel",type:"input",props:{label:"Hours threshold",value:1,minValue:1},checked:!0}]},guild:{checked:!0,options:[{name:"daily",checked:!0},{name:"weekly",checked:!0}]},sailing:{checked:!0,options:[{name:"captains",checked:!0}]},breeding:{checked:!0,options:[{name:"shinies",type:"input",props:{label:"Level threshold",value:5},checked:!0}]},printer:{checked:!0,options:[{name:"includeOakAndCopper",category:"atoms",checked:!1},{name:"showAlertWhenFull",checked:!1}]},shops:{checked:!0,options:[{name:"shops",type:"array",props:{value:(0,K.gN)(),type:"img"},checked:!0}]},construction:{checked:!0,options:[{name:"flags",checked:!0},{name:"buildings",checked:!0},{name:"materials",category:"refinery",checked:!0},{name:"rankUp",checked:!0}]},postOffice:{checked:!0,options:[{name:"postOffice",type:"array",category:"shipments streak",props:{value:[1,2,3,4,5,6].toSimpleObject()},checked:!0}]},equinox:{checked:!0,options:[{name:"bar",checked:!0},{name:"challenges",checked:!0},{name:"foodLust",checked:!0}]},etc:{checked:!0,options:[{name:"randomEvents",checked:!0},{name:"gildedStamps",checked:!0},{name:"keys",checked:!0},{name:"miniBosses",type:"input",props:{label:"Bosses threshold",value:1,minValue:1},checked:!0}]}},characters:{anvil:{checked:!0,options:[{name:"missingHammers",checked:!0},{name:"anvilOverdue",checked:!0},{name:"showAlertBeforeFull",checked:!0,category:"anvil overdue"}]},worship:{checked:!0,options:[{name:"unendingEnergy",checked:!0},{name:"chargeOverdue",checked:!0}]},traps:{checked:!0,options:[{name:"missingTraps",checked:!0},{name:"trapsOverdue",checked:!0}]},alchemy:{checked:!0,options:[{name:"missingBubbles",checked:!0}]},obols:{checked:!0,options:[{name:"missingObols",checked:!0}]},postOffice:{checked:!0,options:[{name:"unspentPoints",checked:!0,type:"input",props:{label:"Number of boxes",value:1}}]},starSigns:{checked:!0,options:[{name:"missingStarSigns",checked:!0}]},crystalCountdown:{checked:!0,options:[{name:"showMaxed",checked:!0},{name:"showNonMaxed",checked:!1}]},tools:{checked:!0,options:[]},talents:{checked:!0,options:[{name:"talents",type:"array",category:"cooldowns",checked:!0,props:{value:{printerGoBrrr:!0,refineryThrottle:!0,craniumCooking:!0,"itsYourBirthday!":!0,voidTrialRerun:!0,arenaSpirit:!0,tasteTest:!0}}}]}}};var dashboard=()=>{let{dispatch:l,state:e}=(0,o.useContext)(t.I),{characters:i,account:v,lastUpdated:s}=e,[c,h]=(0,o.useState)(!1),[m,g]=(0,o.useState)(ls),f=(0,d.Z)("(min-width: 1600px)",{noSsr:!0}),x=(0,d.Z)("(min-width: 850px)",{noSsr:!0});return(0,o.useEffect)(()=>{var l,i,n,o,t,d;let u=null==e||null===(l=e.trackers)||void 0===l||!l.account||Object.keys(null==ls?void 0:ls.account).length!==Object.keys(null==e?void 0:null===(i=e.trackers)||void 0===i?void 0:i.account).length,a=null==e||null===(n=e.trackers)||void 0===n||!n.characters||Object.keys(null==ls?void 0:ls.characters).length!==Object.keys(null==e?void 0:null===(o=e.trackers)||void 0===o?void 0:o.characters).length;g({account:u?null==ls?void 0:ls.account:null==e?void 0:null===(t=e.trackers)||void 0===t?void 0:t.account,characters:a?null==ls?void 0:ls.characters:null==e?void 0:null===(d=e.trackers)||void 0===d?void 0:d.characters})},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(X.PB,{title:"Idleon Toolbox | Dashboard",description:"Provides key information about your account and alerts you when there are unfinished tasks"}),(0,n.jsxs)(u.Z,{direction:"row",gap:2,justifyContent:"space-between",children:[(0,n.jsxs)(u.Z,{sx:{maxWidth:x||f?"78%":"100%"},children:[(0,n.jsxs)(u.Z,{direction:"row",alignItems:"center",gap:3,children:[(0,n.jsx)(a.Z,{variant:"h2",children:"Dashboard"}),(0,n.jsx)(F.Z,{title:"Configure alerts",onClick:()=>h(!0),children:(0,n.jsx)(E.Z,{})})]}),(0,n.jsxs)(u.Z,{gap:2,children:[(0,n.jsx)(dashboard_Account,{trackers:null==m?void 0:m.account,characters:i,account:v,lastUpdated:s}),(0,n.jsx)(dashboard_Characters,{trackers:null==m?void 0:m.characters,characters:i,account:v,lastUpdated:s}),(0,n.jsx)(dashboard_Etc,{characters:i,account:v,lastUpdated:s})]})]}),(0,n.jsx)(common_DashboardSettings,{onChange:e=>{g(e),l({type:"trackers",data:e})},open:c,onClose:()=>h(!1),config:m}),f||x?(0,n.jsxs)(r.Z,{sx:{backgroundColor:p.isProd?"":"#d73333",width:f?300:x?160:0,height:600},children:[f?(0,n.jsx)(J.a,{client:"ca-pub-1842647313167572",slot:"2700532291"}):null,x&&!f?(0,n.jsx)(J.a,{client:"ca-pub-1842647313167572",slot:"8040203474"}):null]}):null]})]})}},73592:function(l,e,i){"use strict";i.d(e,{J:function(){return calcTotals},h:function(){return getPrinter}});var n=i(30925),o=i(19834),t=i(16727),d=i(30796),u=i(10924),a=i(88344),r=i(95331);let getPrinter=(l,e,i)=>{let o=(0,n.tryToParse)(null==l?void 0:l.Print)||(null==l?void 0:l.Printer),t=(0,n.tryToParse)(null==l?void 0:l.PrinterXtra)||(null==l?void 0:l.PrinterXtra);return parsePrinter(o,t,e,i)},parsePrinter=(l,e,i,a)=>{var r,v,s,c,h,p,m;let g=(0,o.s8)(a,i,3),f=(0,t.YS)(null==a?void 0:null===(r=a.sailing)||void 0===r?void 0:r.artifacts,"Gold_Relic"),x=(null==f?void 0:f.acquired)===3?null==f?void 0:f.eldritchMultiplier:(null==f?void 0:f.acquired)===2?null==f?void 0:f.ancientMultiplier:0,j=null==a?void 0:null===(c=a.lab)||void 0===c?void 0:null===(s=c.labBonuses)||void 0===s?void 0:null===(v=s.find(l=>"Wired_In"===l.name))||void 0===v?void 0:v.active,k=null==a?void 0:null===(h=a.lab)||void 0===h?void 0:h.connectedPlayers,b=null==a?void 0:null===(p=a.accountOptions)||void 0===p?void 0:p[125],y=null==a?void 0:null===(m=a.accountOptions)||void 0===m?void 0:m[138],w=null==i?void 0:i.filter(l=>(null==l?void 0:l.class)==="Divine_Knight"),Z=null==w?void 0:w.reduce((l,e)=>{let{talents:i}=e,n=(0,d._X)(i,3,"KING_OF_THE_REMEMBERED",!1,!0);return n>l?n:l},0),C=(0,u.fi)(null==a?void 0:a.totalSkillsLevels,null==a?void 0:a.rift,3),A=l.slice(5,l.length);return i.map((l,i)=>{let o=A.slice(14*i,14*i+14);if(e){let l=null==e?void 0:e.slice(10*i,10*i+10);o.splice(-4,0,l),o=o.flat()}return o.reduce((l,e,t,d)=>{if(t%2==0){let e=d.slice(t,t+2).map((l,e)=>l),u=e[1],a=null==k?void 0:k.find(l=>{let{playerId:e}=l;return e===i}),r=(1+b*(2+x)/100)*(1+Z*(0,n.lavaLog)(y)/100)*(1+C/100),v=j&&a?g.includes(i)?6*r:2*r:g.includes(i)?3*r:r;u*=v;let s=[{name:"Lab",value:a&&j?2:0},{name:"Harriep God",value:g.includes(i)?3:0},{name:"Skill Mastery",value:1+C/100},{name:"Divine Knight",value:1+Z*(0,n.lavaLog)(y)/100},{name:"Gold Relic",value:1+b*(2+x)/100}];return[...l,{item:e[0],value:e[1],active:t>=o.length-4,boostedValue:u,breakdown:s}]}return l},[])})},calcTotals=(l,e)=>{var i,n;let{printer:o,storage:t}=l||{},d=(0,r.Xp)(null==l?void 0:null===(i=l.accountOptions)||void 0===i?void 0:i[133]),u=null==o?void 0:o.reduce((l,e)=>(e.forEach(e=>{let{boostedValue:i,item:n,active:o}=e;if("Blank"!==n&&o){if(null==l?void 0:l[n]){var u;l[n]={...l[n],boostedValue:i+(null===(u=l[n])||void 0===u?void 0:u.boostedValue)}}else{let e=(0,a.ju)(t,n,!0,!0);l[n]={boostedValue:i,atomable:e>=d,storageItem:e}}}}),l),{});u=calcAtoms(u,d,e);let v=null===(n=Object.entries(u))||void 0===n?void 0:n.reduce((l,e)=>{var i;let[,n]=e;return l+(null!==(i=null==n?void 0:n.atoms)&&void 0!==i?i:0)},0);return{...u,atom:{boostedValue:v,atoms:v}}},calcAtoms=function(){var l;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return null===(l=Object.entries(e))||void 0===l?void 0:l.reduce((l,e)=>{let o,t,[d,u]=e,{boostedValue:a,atomable:r,storageItem:v}=u;if(null==n?void 0:n.checked)t=r;else{let l=a>=i&&!r,e=a>i-v&&!r;o=l?a-i:e?a-(i-v):a,t=l||e||r}return l[d]={...u,...t?{atoms:o/1e7}:{}},l},{})}},72664:function(l,e,i){"use strict";i.d(e,{B4:function(){return hasMissingMats},wt:function(){return getRefinery}});var n=i(30925),o=i(70473),t=i(88344);let getRefinery=(l,e,i)=>{let o=(0,n.tryToParse)(null==l?void 0:l.Refinery)||(null==l?void 0:l.Refinery);return parseRefinery(o,e,i)},parseRefinery=(l,e,i)=>{var n,d,u,a,r;let v=null==l?void 0:l[1],s=null==l?void 0:l[2],c=null==v?void 0:v.reduce((l,e,i)=>{var n;return"Blank"!==e?[...l,{rawName:e,name:null===(n=o.items[e])||void 0===n?void 0:n.displayName,amount:null==s?void 0:s[i],owner:"refinery"}]:l},[]),h=[...e,...c],p=null==i?void 0:null===(d=i[2])||void 0===d?void 0:null===(n=d[2])||void 0===n?void 0:n[6],m=null==l?void 0:l.slice(3,3+(null==l?void 0:null===(u=l[0])||void 0===u?void 0:u[0])),g=null==m?void 0:m.reduce((l,e,i)=>{let n="Refinery".concat(i+1),[d,u,,a,r]=e,{saltName:v,cost:s}=null===o.refinery||void 0===o.refinery?void 0:o.refinery[n],c=null==s?void 0:s.map(l=>{let e=(0,t.ju)(h,null==l?void 0:l.name,!0);return{...l,totalAmount:e}});return[...l,{saltName:v,cost:c,rawName:n,powerCap:getPowerCap(u),refined:d,rank:u,active:a,autoRefinePercentage:r}]},[]);return{salts:g,refinerySaltTaskLevel:p,timePastCombustion:null==l?void 0:null===(a=l[0])||void 0===a?void 0:a[1],timePastSynthesis:null==l?void 0:null===(r=l[0])||void 0===r?void 0:r[2],totalLevels:null==g?void 0:g.reduce((l,e)=>{let{rank:i}=e;return l+i},0),refineryStorage:c}},getPowerCap=l=>{var e;let i=null===(e=o.randomList[18])||void 0===e?void 0:e.split(" ");return parseFloat(Math.max(null==i?void 0:i[Math.min(l,(null==i?void 0:i.length)-2)],25))},hasMissingMats=(l,e,i,n)=>null==i?void 0:i.filter(i=>{var o;let{rawName:t,quantity:d,totalAmount:u}=i;return u<Math.floor(Math.pow(e,(null==t?void 0:t.includes("Refinery"))&&l<=(null==n?void 0:null===(o=n.refinery)||void 0===o?void 0:o.refinerySaltTaskLevel)?1.3:1.5))*d})},25081:function(l,e,i){"use strict";i.d(e,{gN:function(){return getRawShopItems},u6:function(){return getShops}});var n=i(30925),o=i(70473);let getShops=l=>{let e=(null==l?void 0:l.ShopStock)||(0,n.tryToParse)(null==l?void 0:l.ShopStock);return parseShops(e)},parseShops=l=>l.reduce((l,e,i)=>{var n;let d=null===(n=Object.values(e))||void 0===n?void 0:n.reduce((l,e,n)=>{var d,u,a,r;let v=null==t?void 0:null===(d=t[i])||void 0===d?void 0:d[n],s=parseInt(e)||0;return s>0&&v?[...l,{amount:e,...null===(a=o.shops[i])||void 0===a?void 0:null===(u=a.items)||void 0===u?void 0:u[n],shopName:null===(r=o.shops[i])||void 0===r?void 0:r.name}]:l},[]);return[...l,d]},[]),getRawShopItems=()=>{var l;return null===(l=Object.entries(o.shops))||void 0===l?void 0:l.reduce((l,e)=>{var i;let[n,{items:o}]=e,d=null==o?void 0:null===(i=o.filter((l,e)=>{var i;return null==t?void 0:null===(i=t[n])||void 0===i?void 0:i[e]}))||void 0===i?void 0:i.map(l=>{let{rawName:e}=l;return e});return[...l,...d]},[]).toSimpleObject()},t={0:[8,14,17,23].toSimpleObject(),1:[2,8,9,13].toSimpleObject(),2:[0,1,2,3,4,8,9,10,18].toSimpleObject(),3:[12].toSimpleObject(),4:[0,1,2,8,9,10,19,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject()}}},function(l){l.O(0,[5127,9930,7896,8054,5705,9774,2888,179],function(){return l(l.s=51075)}),_N_E=l.O()}]);