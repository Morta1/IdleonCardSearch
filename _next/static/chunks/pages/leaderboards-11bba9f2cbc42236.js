(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5983],{52965:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboards",function(){return r(1509)}])},55429:function(n,e,r){"use strict";var l=r(85893),t=r(67294),i=r(98396),o=r(11703),a=r(40044);e.Z=n=>{let{tabs:e,children:r,onTabChange:d}=n,[s,c]=(0,t.useState)(0),h=(0,i.Z)(n=>n.breakpoints.down("md"),{noSsr:!0}),u=Array.isArray(r)?r:[r];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Z,{centered:!h||h&&e.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:h&&e.length>4?"scrollable":"standard",value:s,onChange:(n,e)=>{c(e),d&&d(e)},children:null==e?void 0:e.map((n,e)=>(0,l.jsx)(a.Z,{label:n},"".concat(n,"-").concat(e)))}),d?r:null==u?void 0:u.map((n,e)=>e===s?n:null)]})}},1509:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return G}});var l=r(85893),t=r(21785),i=r(15861),o=r(66242),a=r(44267),d=r(417),s=r(50135),c=r(51233),h=r(98456),u=r(55429),x=r(82729),g=r(67294),v=r(78462),p=r(97212),m=r(59334),j=r(23795),f=r(90629),C=r(81426),b=r(16954),Z=r(87357),w=r(61599);function y(){let n=(0,x._)(["\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n"]);return y=function(){return n},n}function M(){let n=(0,x._)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  border-radius: 12px;\n  box-shadow: none;\n  height: ","px;\n  order: ",";\n"]);return M=function(){return n},n}function _(){let n=(0,x._)(["\n  display: flex;\n  padding: 8px;\n  margin: auto auto 0 auto;\n  justify-content: center;\n  border-radius: 12px 12px 0 0;\n  box-shadow: none;\n  width: 100%;\n  background-color: ",";\n  outline: ",";\n  outline-color: ","\n"]);return _=function(){return n},n}let S="#007E85",k="#cd861b",A="#12141c",N=n=>{let{sectionName:e,topThree:r}=n;return(0,l.jsx)(C.Z,{container:!0,spacing:4,children:r.map((n,t)=>(0,l.jsx)(C.Z,{xs:(null==r?void 0:r.length)===1?12:4,order:0===t?2:1===t?1:3,alignSelf:"flex-end",children:(0,l.jsxs)(E,{height:0===t?125:1===t?115:105,children:[(0,l.jsxs)(c.Z,{sx:{height:"100%"},gap:1,alignItems:"center",justifyContent:"center",direction:"row",children:[(0,l.jsx)(i.Z,{children:t+1}),(0,l.jsx)(Z.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)("img",{width:2===t?20:24,height:2===t?20:24,style:{objectFit:"contain"},src:"".concat(b.prefix).concat(0===t?"data/Trophie.png":1===t?"data/G2icon40.png":"data/G2icon39.png"),alt:""})})]}),(0,l.jsx)(F,{loggedMainChar:null==n?void 0:n.loggedMainChar,searchedChar:null==n?void 0:n.searchedChar,children:(0,l.jsxs)(c.Z,{justifyContent:"center",children:[(0,l.jsx)(i.Z,{textAlign:"center",sx:{mt:"auto"},children:(0,l.jsx)(j.Z,{color:"inherit",underline:"hover",target:"_blank",href:"https://idleontoolbox.com?profile=".concat(null==n?void 0:n.mainChar),children:null==n?void 0:n.mainChar})}),(0,l.jsx)(i.Z,{textAlign:"center",children:(0,b.notateNumber)(null==n?void 0:n[e],"bits"===e?"bits":"")})]})})]})},"top-three-".concat(e,"-").concat(null==n?void 0:n.mainChar)))})},T=(0,w.Z)(Z.Z,{shouldForwardProp:n=>"inline"!==n})(y(),n=>{let{inline:e}=n;return e?"inline-flex":"flex"},n=>{let{bgColor:e}=n;return e||"#ffffff21"}),E=(0,w.Z)(f.Z,{shouldForwardProp:n=>"bgColor"!==n&&"order"!==n&&"inline"!==n})(M(),n=>{let{height:e}=n;return e},n=>{let{order:e}=n;return e}),F=(0,w.Z)(f.Z,{shouldForwardProp:n=>"searchedChar"!==n&&"loggedMainChar"!==n})(_(),n=>{let{outline:e}=n;return e?A:"#161826"},n=>{let{loggedMainChar:e,searchedChar:r}=n;return e||r?"3px solid":"none"},n=>{let{loggedMainChar:e,searchedChar:r}=n;return e?S:r?k:""});var I=n=>{let{leaderboards:e,loggedMainChar:r,searchedChar:t}=n;return(0,l.jsx)(C.Z,{sx:{width:"100%",margin:"0 auto"},justifySelf:"center",container:!0,rowSpacing:3,columnSpacing:{lg:4,xl:12},children:Object.entries(e||{}).map((n,e)=>{var o;let[a,d]=n,s={},c=d.map((n,e)=>{let l=n.mainChar,i=l===r,o=l===t;return(i||o)&&e>=10&&(s[l]=e+1),{...n,...i&&{loggedMainChar:!0},...o&&{searchedChar:!0},index:e+1}}),h=null===(o=Object.entries(s))||void 0===o?void 0:o.map(n=>{let[e,l]=n,t=null==d?void 0:d.find(n=>(null==n?void 0:n.mainChar)===e),i=t.mainChar===r?"loggedMainChar":"searchedChar";return{...t,[i]:!0,index:l}},[]),u=null==c?void 0:c.toSpliced(3),x=null==c?void 0:c.slice(3,10).concat(h),g=(null==d?void 0:d.length)===0;return(0,l.jsxs)(C.Z,{xs:12,lg:6,xl:4,children:[(0,l.jsx)(i.Z,{textAlign:"center",variant:"h4",mt:{xs:3,lg:0},mb:{xs:3,lg:1},children:a.camelToTitleCase()}),g?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(i.Z,{textAlign:"center",mt:5,variant:"h6",children:"Nothing here yet"})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N,{sectionName:a,topThree:u}),(0,l.jsx)(v.Z,{children:x.map((n,e)=>(0,l.jsx)(p.ZP,{sx:{mb:(null==n?void 0:n.loggedMainChar)||(null==n?void 0:n.searchedChar)?.8:0,backgroundColor:(null==n?void 0:n.loggedMainChar)||(null==n?void 0:n.searchedChar)?A:"#1a1d2a",outline:(null==n?void 0:n.loggedMainChar)||(null==n?void 0:n.searchedChar)?"2px solid":"none",outlineColor:(null==n?void 0:n.loggedMainChar)?S:(null==n?void 0:n.searchedChar)?k:""},secondaryAction:(0,l.jsx)(i.Z,{children:(0,b.notateNumber)(null==n?void 0:n[a],"bits"===a?"bits":"")}),children:(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(T,{inline:!0,sx:{mr:2},children:(null==n?void 0:n.index)?null==n?void 0:n.index:e+4})," ",(0,l.jsx)(j.Z,{color:"inherit",underline:"hover",target:"_blank",href:"https://idleontoolbox.com?profile=".concat(null==n?void 0:n.mainChar),children:null==n?void 0:n.mainChar})]})},"".concat(a,"-").concat(e)))})]})]},"".concat(a,"-").concat(e))})})},O=r(11688),P=r(2962),B=r(65116);let L=(0,t.D)({trim:!0,limit:50});var G=()=>{var n,e,r,t,x,v,p,m,j;let{state:f}=(0,g.useContext)(O.I),C=null==f?void 0:null===(e=f.characters)||void 0===e?void 0:null===(n=e[0])||void 0===n?void 0:n.name,[b,w]=g.useState(),[y,M]=g.useState(""),[_,S]=g.useState("");return(0,g.useEffect)(()=>{(async()=>{try{let n=await (0,B.RD)();w(n),M("")}catch(n){M("Error has occurred while getting leaderboards")}})()},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(P.PB,{title:"Leaderboards | Idleon Toolbox",description:"Leaderboards for Idleon MMO"}),(0,l.jsx)(i.Z,{textAlign:"center",variant:"h2",children:"Leaderboards"}),(0,l.jsx)(i.Z,{mb:3,textAlign:"center",sx:{fontSize:14},component:"div",variant:"caption",children:"* To participate in the leaderboards, please upload your profile with leaderboard consent."}),(null==b?void 0:null===(t=b.general)||void 0===t?void 0:null===(r=t.totalMoney)||void 0===r?void 0:r.length)?(0,l.jsx)(o.Z,{variant:"outlined",sx:{width:"fit-content",margin:"16px auto",borderColor:"success.light"},children:(0,l.jsx)(a.Z,{sx:{"&:last-child":{p:1}},children:(0,l.jsxs)(i.Z,{textAlign:"center",sx:{fontSize:14},component:"div",variant:"caption",children:["Uploaded accounts: ",null==b?void 0:null===(v=b.general)||void 0===v?void 0:null===(x=v.totalMoney)||void 0===x?void 0:x.length]})})}):null,(null==b?void 0:null===(m=b.general)||void 0===m?void 0:null===(p=m.totalMoney)||void 0===p?void 0:p.length)?(0,l.jsx)(Z.Z,{sx:{width:"fit-content",margin:"16px auto",border:"none"},children:(0,l.jsx)(d.Z,{options:null==b?void 0:null===(j=b.general)||void 0===j?void 0:j.totalMoney,getOptionLabel:n=>n.mainChar,id:"user-search",filterOptions:L,sx:{width:230},value:_||null,onChange:(n,e)=>S(e),renderInput:n=>(0,l.jsx)(s.Z,{...n,label:"Search by character name",variant:"standard"})})}):null,b?y?(0,l.jsx)(i.Z,{color:"error.light",textAlign:"center",variant:"h6",children:y}):(0,l.jsxs)(u.Z,{tabs:["General","Tasks","Skills","Misc"],children:[(0,l.jsx)(I,{leaderboards:null==b?void 0:b.general,loggedMainChar:C,searchedChar:null==_?void 0:_.mainChar}),(0,l.jsx)(I,{leaderboards:null==b?void 0:b.tasks,loggedMainChar:C,searchedChar:null==_?void 0:_.mainChar}),(0,l.jsx)(I,{leaderboards:null==b?void 0:b.skills,loggedMainChar:C,searchedChar:null==_?void 0:_.mainChar}),(0,l.jsx)(I,{leaderboards:null==b?void 0:b.misc,loggedMainChar:C,searchedChar:null==_?void 0:_.mainChar})]}):(0,l.jsx)(c.Z,{alignItems:"center",justifyContent:"center",mt:3,children:(0,l.jsx)(h.Z,{})})]})}}},function(n){n.O(0,[417,9068,2888,9774,179],function(){return n(n.s=52965)}),_N_E=n.O()}]);