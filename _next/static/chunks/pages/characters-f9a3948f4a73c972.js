(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1379],{33713:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/characters",function(){return t(50763)}])},50768:function(e,n,t){"use strict";var l=t(82729),i=t(85893),r=t(51233),a=t(66242),o=t(44267),s=t(15861),c=t(66092),d=t(44358),u=t(87357);t(67294);var x=t(61599);function h(){let e=(0,l._)(["\n"]);return h=function(){return e},e}let p=[5,10,15,25,35,50,75],j=x.Z.img(h()),v=e=>{let{name:n,bonus:t,baseVal:l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{mb:1,fontWeight:"bold",variant:"h6",children:(0,c.cleanUnderscore)(n.toLowerCase().capitalize())}),(0,i.jsx)(s.Z,{children:(0,c.cleanUnderscore)(null==t?void 0:t.replace(/{/g,l))})]})};n.Z=e=>{let{playerChips:n,playerLabLevel:t}=e;return(0,i.jsx)(r.Z,{direction:"row",alignItems:"center",flexWrap:"wrap",justifyContent:"center",gap:3,children:null==n?void 0:n.map((e,n)=>{let l=t>=p[n];return(0,i.jsx)(a.Z,{elevation:5,children:(0,i.jsx)(o.Z,{children:(0,i.jsx)(r.Z,{justifyContent:"center",children:-1!==e?(0,i.jsx)(d.Z,{title:(0,i.jsx)(v,{...e}),children:(0,i.jsx)(j,{src:"".concat(c.prefix,"data/ConsoleChip").concat(null==e?void 0:e.index,".png"),alt:""})}):(0,i.jsx)(u.Z,{sx:{width:42,height:42,display:"flex",alignItems:"center"},children:l?"":"Lv. ".concat(null==p?void 0:p[n])})})})},"".concat(null==e?void 0:e.name,"-").concat(n))})})}},50763:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return eE}});var l=t(85893),i=t(67294),r=t(50480),a=t(69368),o=t(86886),s=t(51233),c=t(15861),d=t(82729),u=t(87357),x=t(66092),h=t(44358),p=t(61599),j=t(19636),v=t(98396),m=t(66242),g=t(44267),f=t(67720);function Z(){let e=(0,d._)(["\n  filter: ",";\n  opacity: ",";\n  justify-self: center;\n  width: 48px;\n  height: 48px;\n\n  @media (max-width: 370px) {\n    width: 36px;\n    height: 36px;\n  }\n"]);return Z=function(){return e},e}let w=p.Z.img(Z(),e=>{let{exists:n}=e;return n?"grayscale(0)":"grayscale(1)"},e=>{let{exists:n}=e;return n?"1":"0.3"});var y=e=>{let{bags:n,capBags:t}=e,i=(0,v.Z)("(max-width: 370px)",{noSsr:!0});return(0,l.jsx)(m.Z,{variant:"outlined",children:(0,l.jsx)(g.Z,{children:(0,l.jsxs)(s.Z,{sx:{width:200},alignItems:"center",children:[(0,l.jsx)(s.Z,{direction:"row",flexWrap:"wrap",children:null==n?void 0:n.map((e,n)=>(0,l.jsx)(h.Z,{title:(0,l.jsx)(j.Z,{...e}),children:(0,l.jsx)(w,{exists:null==e?void 0:e.acquired,src:"".concat(x.prefix,"data/").concat(null==e?void 0:e.rawName,".png"),alt:""})},(null==e?void 0:e.displayName)+n))}),(0,l.jsx)(f.Z,{sx:{my:2},flexItem:!0}),(0,l.jsx)(s.Z,{direction:"row",flexWrap:"wrap",gap:i?1:0,justifyContent:"center",children:null==t?void 0:t.map((e,n)=>{let{displayName:t,rawName:i,capacityPerSlot:r}=e;return(0,l.jsx)(h.Z,{title:(0,l.jsx)(j.Z,{...e}),children:(0,l.jsxs)(s.Z,{alignItems:"center",children:[(0,l.jsx)(w,{exists:!0,src:"".concat(x.prefix,"data/").concat(i,".png"),alt:""}),(0,l.jsx)(c.Z,{variant:"caption",children:(0,x.notateNumber)(r)})]})},t+n)})})]})})})},b=t(11703),k=t(40044),C=t(82557);function N(){let e=(0,d._)(["\n  width: 50px;\n  height: 50px;\n  margin-bottom: ",";\n"]);return N=function(){return e},e}function I(){let e=(0,d._)(["\n  text-align: center;\n\n  .tabs {\n    position: relative;\n    display: grid;\n    margin-top: 10px;\n    grid-template-columns: repeat(auto-fill, 50px);\n    grid-template-rows: 50px;\n    column-gap: 2px;\n    justify-content: center;\n\n    .active {\n      filter: brightness(1);\n    }\n\n    .star {\n      position: absolute;\n      right: 0;\n    }\n\n    > img {\n      cursor: pointer;\n      filter: brightness(0.4);\n\n      &:last-child {\n        justify-self: flex-end;\n      }\n    }\n  }\n\n  .star-talents-arrows {\n    height: 80%;\n  }\n\n  .arrow {\n    cursor: pointer;\n    align-self: center;\n  }\n\n\n  .talents-wrapper {\n    position: relative;\n    margin-top: 25px;\n    display: grid;\n    min-height: 245px;\n    grid-template-columns: repeat(5, 50px);\n    row-gap: 10px;\n    justify-content: center;\n    margin-bottom: 10px;\n  }\n"]);return I=function(){return e},e}let S=e=>{let{src:n}=e;return(0,l.jsx)(u.Z,{sx:{width:{xs:30},"> img":{width:{xs:30}}},children:(0,l.jsx)("img",{src:n,alt:""})})},U=p.Z.img(N(),e=>{let{arrow:n}=e;return n?"20px":0}),M=p.Z.div(I());var O=e=>{var n,t;let{talents:r,starTalents:a}=e,[o,s]=(0,i.useState)(0),[d,u]=(0,i.useState)(0),[p,j]=(0,i.useState)(),[v,m]=(0,i.useState)(0);(0,i.useEffect)(()=>{j(4===d?Z(a,v):null==r?void 0:r[d]),m(0)},[d]);let g=e=>{m(e),j(Z(a,e))},f=(e,n)=>null==e?void 0:e.slice(13*n,(n+1)*13),Z=(e,n)=>{let t=JSON.parse(JSON.stringify(null==e?void 0:e.orderedTalents)),l=f((0,x.fillMissingTalents)(t),n);return l.length<13&&(l=Array(13).fill(1).map((e,n)=>{var t;return null!==(t=l[n])&&void 0!==t?t:{}})),null==l||l.splice(10,0,{talentId:"arrow"}),null==l||l.splice(14,0,{talentId:"arrow"}),{...e,orderedTalents:l}},w=(e,n)=>e>=0&&n>=0?"".concat(e,"/").concat(n):"";return(0,l.jsxs)(M,{active:d,children:[(0,l.jsxs)(b.Z,{centered:!0,value:o,onChange:(e,n)=>s(n),children:[null===(n=Object.keys(r||{}))||void 0===n?void 0:n.map(e=>{var n,t;let i=null==r?void 0:null===(n=r[e])||void 0===n?void 0:n.name;return(0,l.jsx)(k.Z,{sx:{minWidth:{xs:"unset",sm:"inherit"}},icon:(0,l.jsx)(S,{src:"".concat(x.prefix,"data/ClassIcons").concat(null==r?void 0:null===(t=r[e])||void 0===t?void 0:t.id,".png"),alt:i}),"aria-label":"".concat(i,"-tab"),onClick:()=>u(parseInt(e))},"".concat(i,"-").concat(e))}),(0,l.jsx)(k.Z,{sx:{minWidth:{xs:"unset",sm:"inherit"}},onClick:()=>u(4),"aria-label":"star-sign-tab",icon:(0,l.jsx)(S,{src:"".concat(x.prefix,"data/ClassIcons0.png"),alt:""})})]}),(0,l.jsx)("div",{className:"talents-wrapper",children:null==p?void 0:null===(t=p.orderedTalents)||void 0===t?void 0:t.map((e,n)=>{let{talentId:t,level:i,maxLevel:r,name:a}=e;if(n>=15)return null;let o=w(i,r);return"Blank"===t||"84"===t||"arrow"===t?(0,l.jsxs)("div",{className:"blank ".concat((10===n||14===n)&&"arrow"),children:[10!==n&&14!==n&&(0,l.jsx)(U,{src:"".concat(x.prefix,"data/UISkillIconLocke.png"),alt:""}),10===n&&v>0?(0,l.jsx)("div",{children:(0,l.jsx)(U,{onClick:()=>g(v-1),className:"arrow",src:"".concat(x.prefix,"data/UIAnvilArrowsG2.png"),arrow:!0,alt:""})}):null,(14===n||26===n)&&v<4?(0,l.jsx)("div",{children:(0,l.jsx)(U,{onClick:()=>g(v+1),className:"arrow",src:"".concat(x.prefix,"data/UIAnvilArrowsG1.png"),arrow:!0,alt:""})}):null]},t+""+n):(0,l.jsx)(h.Z,{title:t?(0,l.jsx)(C.u3,{...e}):"",children:(0,l.jsxs)("div",{className:"talent-wrapper",children:[a?(0,l.jsx)(U,{src:"".concat(x.prefix,"data/UISkillIcon").concat(t,".png"),alt:""}):(0,l.jsx)(U,{src:"".concat(x.prefix,"data/UISkillIconLocke.png"),alt:""}),(0,l.jsxs)(c.Z,{fontSize:12,children:[o,"\xa0"]})]})},t+""+n)})}),(0,l.jsx)("div",{className:"star-talents-arrows",children:(0,l.jsxs)("span",{style:{opacity:4===d?1:0},children:["Specials ",v+1]})})]})},W=t(98118);function _(){let e=(0,d._)(["\n  width: 56px;\n  height: 72px;\n  border: 2px solid #5d5d5d;\n  border-radius: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return _=function(){return e},e}let F=p.Z.div(_());var P=e=>{let{cards:n}=e,{equippedCards:t,cardSet:i}=n||{};return(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(c.Z,{mb:2,variant:"h5",children:"Equipped cards"}),(0,l.jsxs)(s.Z,{children:[(null==i?void 0:i.rawName)?(0,l.jsx)(s.Z,{mb:3,justifyContent:"center",direction:"row",children:(0,l.jsx)(u.Z,{sx:{position:"relative"},children:(0,l.jsx)(C.iy,{variant:"cardSet",...i})})}):null,(0,l.jsx)(o.ZP,{container:!0,rowGap:3,children:null==t?void 0:t.map((e,n)=>{let{cardName:t,amount:i}=e,r=(0,W.BZ)(e);return(0,l.jsx)(o.ZP,{display:"flex",justifyContent:"center",position:"relative",xs:3,item:!0,children:i>0?(0,l.jsx)(C.iy,{...e,bonus:r}):(0,l.jsx)(F,{children:(0,l.jsx)(c.Z,{variant:"subtitle2",children:"EMPTY"})})},"".concat(t,"-").concat(n))})})]})]})},T=t(98216),A=t(24438);let B=e=>({1:"success.light",2:"warning.light",3:"secondary.main"})[e],D=["gaming","sailing","breeding"].toSimpleObject(),E=e=>{let{exp:n,expReq:t,charName:i,skillName:r,level:a}=e,o=n/t*100;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{variant:"h5",fontWeight:"bold",children:i}),(0,l.jsxs)(c.Z,{variant:"body1",children:[(0,T.Z)(r)," ",(0,l.jsxs)(c.Z,{variant:"body1",component:"span",children:["(Lv. ",a,")"]})]}),(0,l.jsx)(A.Z,{percent:o,bgColor:"#f3dd4c"}),(0,l.jsxs)(c.Z,{variant:"body1",children:[(0,x.notateNumber)(n,"Big")," / ",(0,x.notateNumber)(t,"Big")," ",(0,l.jsxs)(c.Z,{variant:"body1",component:"span",children:["(",Math.round(o),"%)"]})]})]})};var R=e=>{var n;let{skills:t,charName:i,showSkillsRankOneOnly:r}=e;return(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(c.Z,{variant:"h5",children:"Skills"}),(0,l.jsx)(m.Z,{children:(0,l.jsx)(g.Z,{children:(0,l.jsx)(u.Z,{sx:{display:"grid",gridAutoFlow:"column",gap:r?"24px":"none",gridTemplateColumns:{xs:r?"fit-content":"repeat(4, minmax(45px, 100px))"},gridTemplateRows:r?null:{xs:"repeat(3, minmax(45px, 100px))"},justifyContent:"center"},children:null===(n=Object.keys(t||{}))||void 0===n?void 0:n.map((e,n)=>{let{level:a,rank:o,icon:s}=t[e];return"character"===e||r&&1!==o?null:(0,l.jsxs)(u.Z,{children:[(0,l.jsx)(h.Z,{title:(0,l.jsx)(E,{...null==t?void 0:t[e],skillName:e,charName:i}),children:(0,l.jsx)("img",{src:"".concat(x.prefix,"data/").concat(s,".png"),style:{width:38,height:36},alt:""})}),(0,l.jsxs)(c.Z,{children:["Lv ",a]}),D[e]?null:(0,l.jsx)(h.Z,{title:"Rank across the account",children:(0,l.jsxs)(c.Z,{sx:{width:"fit-content",color:B(o),fontWeight:1===o||2===o||3===o?"bold":"400"},children:["R: ",o]})})]},n)})})})})]})},L=t(2035);function z(){let e=(0,d._)(["\n  width: 32px;\n  height: 32px;\n"]);return z=function(){return e},e}let H=p.Z.img(z()),G=e=>{let{name:n,x1:t,x2:i,level:r,prayerIndex:a,effect:o,curse:s,maxLevel:d,totalAmount:h,costMulti:p}=e,j=t+t*(r-1)/10,v=i+i*(r-1)/10,m=(0,L.il)({name:n,x1:t,x2:i,level:r,prayerIndex:a,costMulti:p});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{mb:1,fontWeight:"bold",variant:"h5",children:(0,x.cleanUnderscore)(n)}),(0,l.jsxs)(c.Z,{fontWeight:"bold",variant:"body1",color:"success.dark",children:["Bonus: ",(0,l.jsx)(c.Z,{color:"black",fontWeight:400,component:"span",children:(0,x.cleanUnderscore)(o).replace("{",j)})]}),(0,l.jsxs)(c.Z,{fontWeight:"bold",variant:"body1",color:"error.dark",children:["Curse: ",(0,l.jsx)(c.Z,{color:"black",fontWeight:400,component:"span",children:(0,x.cleanUnderscore)(s).replace("{",v)})]}),(0,l.jsxs)(u.Z,{mt:1,children:["Cost: ",r!==d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{component:"span",sx:{color:0===r?"":m<=h?"success.dark":"error.dark"},children:(0,x.kFormatter)((0,x.round)(m),2)})," (",(0,x.kFormatter)(h,2),")"]}):(0,l.jsx)(c.Z,{fontWeight:"bold",color:"success.dark",component:"span",children:"Maxed"})]})]})};var q=e=>{let{prayers:n}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(m.Z,{variant:"outlined",children:(0,l.jsx)(g.Z,{children:(0,l.jsx)(s.Z,{direction:"row",gap:2,flexWrap:"wrap",justifyContent:"center",children:null==n?void 0:n.map((e,n)=>(0,l.jsx)(h.Z,{title:(0,l.jsx)(G,{...e}),children:(0,l.jsx)(H,{src:"".concat(x.prefix,"data/Prayer").concat(null==e?void 0:e.prayerIndex,".png"),alt:""})},name+n))})})})})};function K(){let e=(0,d._)(["\n  width: 70px;\n  height: 70px;\n  object-fit: contain;\n"]);return K=function(){return e},e}let X=p.Z.img(K()),J=e=>{let{name:n,upgrades:t,level:i}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{fontWeight:"bold",variant:"h6",children:(0,x.cleanUnderscore)(n)}),null==t?void 0:t.map((e,n)=>{let{bonus:t,func:r,x1:a,x2:o}=e;return(0,l.jsxs)("div",{children:[Math.max(0,(0,x.growth)(r,0===n?i:1===n?i-25:i-100,a,o)),(0,x.cleanUnderscore)(t)]},t+" "+n)})]})};var Q=e=>{let{boxes:n,totalPointsSpent:t,totalOrders:i,showUnmaxedBoxesOnly:r}=e;return(0,l.jsxs)(s.Z,{children:[(0,l.jsxs)(c.Z,{variant:"h5",children:["Post Office (",(0,l.jsx)(c.Z,{variant:"h5",color:t<i?"error.light":"",component:"span",children:Math.floor(t)}),"/",(0,l.jsx)(c.Z,{variant:"h5",component:"span",children:Math.floor(i)}),")"]}),(0,l.jsx)(s.Z,{direction:"row",gap:1,flexWrap:"wrap",sx:{maxWidth:310},children:null==n?void 0:n.map((e,n)=>r&&(null==e?void 0:e.level)===(null==e?void 0:e.maxLevel)?null:(null==e?void 0:e.name)!=="Filler"?(0,l.jsx)("div",{children:(0,l.jsx)(h.Z,{title:(0,l.jsx)(J,{...e}),children:(0,l.jsx)(C.j8,{color:"primary",anchorOrigin:{vertical:"top",horizontal:"left"},overlap:"circular",badgeContent:(null==e?void 0:e.level)?(0,l.jsx)(c.Z,{fontSize:14,fontWeight:500,color:"black",children:null==e?void 0:e.level}):null,max:401,children:(0,l.jsx)(X,{src:"".concat(x.prefix,"data/UIboxUpg").concat(n,".png"),alt:""})})})},(null==e?void 0:e.name)+" "+n):null)})]})},V=t(49260);function Y(){let e=(0,d._)(["\n  width: 50px;\n  height: 50px;\n  object-fit: contain;\n"]);return Y=function(){return e},e}let $=e=>{let{items:n,character:t,account:i}=e;return(0,l.jsx)(u.Z,{sx:{display:"grid",justifyContent:"center",gridTemplateColumns:"repeat(2, 60px)"},children:null==n?void 0:n.map((e,n)=>{let{rawName:r,displayName:a,amount:o}=e;return n<8?(0,l.jsx)(m.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:76},variant:"outlined",children:(0,l.jsx)(g.Z,{sx:{"&:last-child":{padding:0}},children:(0,l.jsxs)(s.Z,{alignItems:"center",justifyContent:"center",children:[(0,l.jsx)(h.Z,{title:a&&"ERROR"!==a?(0,l.jsx)(j.Z,{...e,character:t,account:i}):"",children:(0,l.jsx)(ee,{src:"".concat(x.prefix,"data/").concat(r,".png"),alt:r})}),"ERROR"!==a?o:" "]})})},"".concat(r,"-").concat(n)):null})})},ee=p.Z.img(Y());var en=e=>{let{equipment:n,tools:t,food:i,account:r,character:a}=e;return(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(c.Z,{variant:"h5",children:"Equipment"}),(0,l.jsxs)(s.Z,{mt:2,direction:"row",gap:1,flexWrap:"wrap",justifyContent:"center",children:[(0,l.jsx)($,{items:null==n?void 0:n.slice(0,8),character:a,account:r}),(0,l.jsx)($,{items:null==n?void 0:n.slice(8),character:a,account:r}),(0,l.jsx)($,{items:t,character:a,account:r}),(0,l.jsx)($,{items:i,character:a,account:r})]})]})},et=t(23472),el=t(65455);function ei(){let e=(0,d._)(["\n  width: 30px;\n  height: 30px;\n"]);return ei=function(){return e},e}let er=p.Z.img(ei()),ea=e=>{let{availablePoints:n,pointsFromCoins:t,pointsFromMats:i,smithingLevel:r=0}=e;return(0,l.jsxs)(s.Z,{mb:1,children:[(0,l.jsxs)(c.Z,{my:1,variant:"h6",children:["Points (",(0,l.jsx)(c.Z,{variant:"h6",component:"span",color:0===n?"":n>0?"error.light":"secondary",children:t+i-n+r})," ","/ ",t+i+r,")"]}),(0,l.jsxs)(c.Z,{variant:"caption",children:["Points From Mats: ",i]}),(0,l.jsxs)(c.Z,{variant:"caption",children:["Points From Coins: ",t]}),(0,l.jsxs)(c.Z,{variant:"caption",children:["Points Smithing: ",r]})]})},eo=e=>{let{title:n,value:t,money:i,sx:r}=e;return(0,l.jsx)(m.Z,{sx:{width:"100%",...r},children:(0,l.jsxs)(g.Z,{sx:{"&:last-child":{p:"10px"}},children:[(0,l.jsx)(c.Z,{fontWeight:"bold",children:n}),i?t:(0,l.jsx)(c.Z,{children:t})]})})},es=e=>{let{title:n,children:t}=e;return(0,l.jsxs)(l.Fragment,{children:["object"==typeof n?n:(0,l.jsx)(c.Z,{my:1,variant:"h6",children:n}),(0,l.jsx)(s.Z,{direction:"row",gap:2,children:t})]})};var ec=e=>{var n,t;let{character:r,account:a,characters:o}=e,{stats:d}=(0,i.useMemo)(()=>(0,el.eW)(r,o,a),[r,o,a]),{xpPoints:u,speedPoints:h,capPoints:p,anvilSpeed:j,anvilCapacity:v,anvilCost:m,baseAnvilExp:g}=d;return(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(c.Z,{variant:"h5",children:"Anvil Details"}),(0,l.jsxs)(s.Z,{children:[(0,l.jsxs)(es,{title:(0,l.jsx)(ea,{...d,smithingLevel:null==r?void 0:null===(t=r.skillsInfo)||void 0===t?void 0:null===(n=t.smithing)||void 0===n?void 0:n.level}),children:[(0,l.jsx)(eo,{title:"Exp",value:u}),(0,l.jsx)(eo,{title:"Speed",value:h}),(0,l.jsx)(eo,{title:"Capacity",value:p})]}),(0,l.jsxs)(es,{title:"Bonus",children:[(0,l.jsx)(eo,{title:"Exp",value:"".concat((0,x.notateNumber)((0,el.uv)(r,o,a,g,u),"Big"),"%")}),(0,l.jsx)(eo,{title:"Speed",value:(0,x.notateNumber)(j,"Big")}),(0,l.jsx)(eo,{title:"Capacity",value:(0,x.kFormatter)(v)})]}),(0,l.jsxs)(es,{title:"Material",children:[(0,l.jsx)(eo,{title:"Item",value:(null==m?void 0:m.rawName)?(0,l.jsx)(er,{src:"".concat(x.prefix,"data/").concat(null==m?void 0:m.rawName,".png"),alt:""}):(0,l.jsx)(l.Fragment,{})}),(0,l.jsx)(eo,{title:"Upg. cost",value:(0,x.kFormatter)(null==m?void 0:m.nextMatUpgrade,2)}),(0,l.jsx)(eo,{title:"Total Spent",value:(0,x.kFormatter)(null==m?void 0:m.totalMats)})]}),(0,l.jsxs)(es,{title:"Money",children:[(0,l.jsx)(eo,{title:"Upg. cost",money:!0,sx:{pb:2},value:(0,l.jsx)(et.Z,{title:"",maxCoins:3,money:(0,x.getCoinsArray)(null==m?void 0:m.nextCoinUpgrade)})}),(0,l.jsx)(eo,{title:"Total Spent",money:!0,sx:{pb:2},value:(0,l.jsx)(et.Z,{title:"",maxCoins:3,money:(0,x.getCoinsArray)(null==m?void 0:m.totalCoins)})})]}),(null==m?void 0:m.coinsToMax)>0?(0,l.jsx)(eo,{title:"Coins to max",money:!0,sx:{pb:2,my:2},value:(0,l.jsx)(et.Z,{title:"",maxCoins:3,money:(0,x.getCoinsArray)(null==m?void 0:m.coinsToMax)})}):null]})]})},ed=e=>{let{signs:n}=e;return(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(c.Z,{variant:"h5",children:"Star Signs"}),(0,l.jsx)(s.Z,{gap:1,children:null==n?void 0:n.map((e,n)=>{let{starName:t,bonuses:i}=e,r=null==i?void 0:i.some(e=>{let{chipBoost:n}=e;return n>1});return"None"!==t?(0,l.jsx)(m.Z,{children:(0,l.jsxs)(g.Z,{children:[(0,l.jsx)(c.Z,{fontWeight:"bold",variant:"body1",children:(0,x.cleanUnderscore)(t)}),(0,l.jsx)(c.Z,{color:r?"info.light":"",children:null==i?void 0:i.map((e,n)=>{let{rawName:t,bonus:l}=e;return"".concat((0,x.cleanUnderscore)(null==t?void 0:t.replace("{",l))).concat(i.length-1===n?"":", ")})})]})},t+n):null})})]})};let eu=e=>{let{bubbleName:n,desc:t,func:i,level:r,x1:a,x2:o}=e,s=(0,x.growth)(i,r,a,o);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{fontWeight:"bold",variant:"h5",children:(0,x.cleanUnderscore)(n)}),(0,l.jsx)(c.Z,{children:(0,x.cleanUnderscore)(t).replace(/({}?)|\$/g,s)})]})};var ex=e=>{let{bubbles:n}=e,t=null==n?void 0:n.every(e=>{let{bubbleName:n}=e;return!n});return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(s.Z,{direction:"row",sx:{height:"fit-content"},children:[t?(0,l.jsx)(m.Z,{variant:"outlined",children:(0,l.jsx)(g.Z,{children:(0,l.jsx)(h.Z,{title:"Missing Active Bubble",children:(0,l.jsx)("img",{src:"".concat(x.prefix,"data/aUpgradesG2.png"),style:{width:42,height:42,filter:"brightness(0)"},alt:""})})})}):null,t?null:(0,l.jsx)(m.Z,{variant:"outlined",children:(0,l.jsx)(g.Z,{children:(0,l.jsx)(s.Z,{direction:"row",gap:2,flexWrap:"wrap",justifyContent:"center",children:null==n?void 0:n.map((e,n)=>{let{bubbleName:t,rawName:i}=e;if(!t)return null;let r="BUG]"===t?"Bug2":t;return(0,l.jsx)(h.Z,{title:(0,l.jsx)(eu,{...e,bubbleName:r}),children:(0,l.jsx)("img",{src:"".concat(x.prefix,"data/").concat(i,".png"),style:{width:42,height:42},alt:""})},r+n)})})})})]})})},eh=t(74721),ep=t(76972),ej=t(69690),ev=t(94217);function em(){let e=(0,d._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return em=function(){return e},e}let eg=p.Z.img(em());var ef=e=>{var n;let{playerId:t,afkTarget:i,account:r,divStyle:a}=e,o=()=>{var e,n,l;return null==r?void 0:null===(l=r.lab)||void 0===l?void 0:null===(n=l.connectedPlayers)||void 0===n?void 0:null===(e=n.find(e=>(null==e?void 0:e.playerId)===t))||void 0===e?void 0:e.isDivinityConnected};return(0,l.jsx)(m.Z,{sx:{width:220},variant:"outlined",children:(0,l.jsxs)(g.Z,{children:[(0,l.jsx)(c.Z,{color:"info.light",children:"Activity"}),i&&"_"!==i?(0,l.jsxs)(s.Z,{direction:"row",alignItems:"center",gap:1,children:["Divinity"===i||o()?(0,l.jsx)(h.Z,{title:(0,x.cleanUnderscore)(null==a?void 0:a.description.replace("@","")),children:(0,l.jsx)("img",{style:{height:40,width:58},src:"".concat(x.prefix,"etc/Div_Style_").concat(null!==(n=null==a?void 0:a.index)&&void 0!==n?n:0,".png"),alt:""})}):null,(0,l.jsxs)(s.Z,{children:[(0,l.jsxs)(s.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,l.jsx)(eg,{src:"".concat(x.prefix,"afk_targets/").concat(i,".png"),alt:""}),(0,l.jsx)(c.Z,{children:(0,x.cleanUnderscore)(i)})]}),o()?(0,l.jsxs)(s.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,l.jsx)(eg,{src:"".concat(x.prefix,"afk_targets/Divinity.png"),alt:""}),(0,l.jsx)(c.Z,{children:"Divinity"})]}):null]})]}):(0,l.jsxs)(s.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,l.jsx)(eg,{src:"".concat(x.prefix,"data/Afkz5.png"),alt:""}),(0,l.jsx)(c.Z,{children:"Nothing"})]})]})})},eZ=t(14581),ew=t(30176),ey=t(75934),eb=t.n(ey);function ek(){let e=(0,d._)(["\n  width: 16px;\n  height: 16px;\n  object-fit: contain;\n"]);return ek=function(){return e},e}let eC={strength:"error.light",agility:"success.light",wisdom:"secondary",luck:"warning.light"},eN=e=>{let{title:n,value:t,breakdown:i="",breakdownNotation:r="Smaller",damage:a}=e;return(0,l.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,l.jsx)(c.Z,{color:"info.light",children:n}),(0,l.jsx)(h.Z,{title:i?(0,l.jsx)(eI,{breakdown:i,notate:r}):"",children:a?(0,l.jsx)(c.Z,{color:"#fffcc9",children:eb()([{regex:/[\[!]/g,fn:(e,n)=>{let t=n.at(0);return(0,l.jsx)(eS,{src:"".concat(x.prefix,"etc/Damage_").concat("["===t?"M":"T",".png"),alt:""},e)}}])(t)}):(0,l.jsx)(c.Z,{component:"span",children:t})})]})},eI=e=>{let{breakdown:n,titleWidth:t=120,notate:i=""}=e;return n?(0,l.jsx)(s.Z,{children:null==n?void 0:n.map((e,n)=>{let{name:r,value:a}=e;return(0,l.jsx)(C.uQ,{titleStyle:{width:t},title:r,value:isNaN(a)?a:(0,x.notateNumber)(a,i)},"".concat(r,"-").concat(n))})}):""},eS=p.Z.img(ek());var eU=e=>{var n,t;let{activityFilter:r,statsFilter:a,character:o,lastUpdated:d,account:u,characters:p}=e,{name:j,playerId:v,stats:Z,afkTime:w,crystalSpawnChance:y,nextPortal:b,afkTarget:k,nonConsumeChance:C}=o,{cashMulti:N,breakdown:I}=(0,i.useMemo)(()=>(0,eZ.bv)(o,u,p)||{},[o,u]),{dropRate:S,breakdown:U}=(0,i.useMemo)(()=>(0,eZ.VK)(o,u,p)||{},[o,u]),{respawnRate:M,breakdown:O}=(0,i.useMemo)(()=>(0,eZ.P9)(o,u)||{},[o,u]),{afkGains:W,breakdown:_}=(0,i.useMemo)(()=>(0,eZ.WU)(o,p,u),[o,u]),F=(0,i.useMemo)(()=>(0,ew.m)(o,p,u),[o,u]),P=()=>{var e;let n=null==o?void 0:null===(e=o.activePrayers)||void 0===e?void 0:e.find(e=>{let{name:n}=e;return"Unending_Energy"===n}),t=new Date().getTime()+(w-d),l=(0,ep.Z)(new Date,new Date(t));return n&&l>10},T=(0,i.useMemo)(()=>e=>{var n;return null===(n=Object.entries((null==e?void 0:e.stats)||{}))||void 0===n?void 0:n.reduce((e,n)=>{let[t,l]=n;return e+("level"!==t?l:0)},0)},[o]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(s.Z,{gap:2,flexWrap:"wrap",children:[r?(0,l.jsx)(ef,{afkTarget:k,divStyle:null==o?void 0:o.divStyle,playerId:v,account:u}):null,a?(0,l.jsxs)(l.Fragment,{children:[(null==b?void 0:b.goal)>10&&(null==b?void 0:b.current)<(null==b?void 0:b.goal)?(0,l.jsx)(m.Z,{variant:"outlined",children:(0,l.jsxs)(g.Z,{children:[(0,l.jsx)(c.Z,{color:"info.light",children:"Next Portal"}),(0,l.jsxs)(s.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,l.jsx)("img",{width:32,height:32,src:"".concat(x.prefix,"data/").concat(null==b?void 0:b.currentIcon,".png"),alt:""}),(0,l.jsx)(c.Z,{children:"".concat((0,x.kFormatter)(null==b?void 0:b.current)," / ").concat((0,x.kFormatter)(null==b?void 0:b.goal))})]})]})}):null,(0,l.jsxs)(s.Z,{sx:{minWidth:250},flexWrap:"wrap",gap:1,divider:(0,l.jsx)(f.Z,{}),children:[(0,l.jsx)(eN,{title:"Total Stats",value:T(o)}),null===(n=Object.entries(Z||{}))||void 0===n?void 0:n.map((e,n)=>{let[t,i]=e;return"level"!==t?(0,l.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",children:[(0,l.jsx)(c.Z,{component:"span",variant:"body1",color:(null==eC?void 0:eC[t])||"info.light",children:(0,x.pascalCase)(t)}),(0,l.jsx)(c.Z,{variant:"body1",component:"span",children:Math.floor(i)})]},"".concat(j,"-").concat(t,"-").concat(n)):null}),(0,l.jsx)(eN,{title:"HP",value:(0,x.notateNumber)(null==F?void 0:F.maxHp)}),(0,l.jsx)(eN,{title:"MP",value:(0,x.notateNumber)(null==F?void 0:F.maxMp)}),(0,l.jsx)(eN,{title:"Kills Per Hour",value:(null==F?void 0:F.finalKillsPerHour)>1e6?(0,x.notateNumber)(null==F?void 0:F.finalKillsPerHour):(0,x.numberWithCommas)(Math.floor(null==F?void 0:F.finalKillsPerHour))}),(0,l.jsx)(eN,{title:"Defence",value:(0,x.notateNumber)(null==F?void 0:F.defence)}),(0,l.jsx)(eN,{title:"Critical Chance",value:"".concat((0,x.notateNumber)(null==F?void 0:F.critChance),"%")}),(0,l.jsx)(eN,{title:"Critical Damage",value:"".concat((0,x.notateNumber)(null==F?void 0:F.critDamage,"MultiplierInfo"),"x")}),(0,l.jsx)(eN,{title:"Accuracy",value:(0,x.notateNumber)(null==F?void 0:F.accuracy)}),(0,l.jsx)(eN,{title:"Movement Speed",value:(0,x.notateNumber)(null==F?void 0:F.movementSpeed)}),(0,l.jsx)(eN,{title:"Mining Eff",value:(0,x.notateNumber)(null==F?void 0:F.miningEff)}),(0,l.jsx)(eN,{title:"Damage",damage:!0,value:(0,ew.C)(F)}),(0,l.jsx)(eN,{title:"Cash Multiplier",value:"".concat((0,x.kFormatter)(N,2),"%"),breakdown:I,breakdownNotation:"Smaller"}),(0,l.jsx)(eN,{title:"Drop Rate",value:"".concat((0,x.notateNumber)(S,"MultiplierInfo"),"x"),breakdown:U,breakdownNotation:"Smaller"}),(0,l.jsx)(eN,{title:"Respawn Time",value:"".concat((0,x.notateNumber)(M,"MultiplierInfo"),"%"),breakdown:O,breakdownNotation:"Smaller"}),(0,l.jsx)(eN,{title:"Afk Gains",value:"".concat((0,x.notateNumber)(100*W,"MultiplierInfo"),"%"),breakdown:_,breakdownNotation:"Smaller"}),(0,l.jsx)(eN,{title:"Non Consume Chance",value:"".concat((0,x.kFormatter)(C,2),"%")}),(0,l.jsx)(eN,{title:"Money",value:(0,l.jsx)(et.Z,{title:"",money:(0,x.getCoinsArray)(null==o?void 0:o.money)})})]}),(0,l.jsx)(m.Z,{variant:"outlined",children:(0,l.jsxs)(g.Z,{children:[(0,l.jsx)(c.Z,{color:"info.light",children:"Crystal Chance"}),(0,l.jsxs)(s.Z,{direction:"row",gap:1,children:[(0,l.jsx)(c.Z,{children:1/(null==y?void 0:y.value)<100?"".concat(null===(t=(0,x.notateNumber)((null==y?void 0:y.value)*100,"MultiplierInfo"))||void 0===t?void 0:t.replace(".00",""),"%"):"1 in ".concat(Math.floor(1/(null==y?void 0:y.value)))}),(0,l.jsx)(h.Z,{title:(0,l.jsx)(eI,{titleWidth:180,breakdown:null==y?void 0:y.breakdown}),children:(0,l.jsx)(eh.Z,{})})]})]})}),(0,l.jsx)(m.Z,{variant:"outlined",children:(0,l.jsxs)(g.Z,{children:[(0,l.jsx)(c.Z,{color:"info.light",children:"Afk time"}),(0,l.jsxs)(s.Z,{direction:"row",alignItems:"center",gap:1,color:P()?"error.light":"",children:[(()=>{let e=new Date().getTime()+(w-d);return 5>=(0,ej.Z)(new Date,new Date(e))})()?(0,l.jsx)(c.Z,{color:"success.light",children:"Active"}):(0,l.jsx)(ev.Z,{type:"up",date:w,lastUpdated:d}),P()?(0,l.jsx)(h.Z,{title:"This character is afk more than 10 hours with Unending Energy prayer",children:(0,l.jsx)(eh.Z,{})}):null]})]})})]}):null]})})},eM=t(83524),eO=t(14802),eW=e=>{let{postOffice:n,talents:t,cooldowns:r,afkTime:a,lastUpdated:o}=e,c=Math.max(0,(0,eM.xV)(n,"Magician_Starterpack",2)),d=e=>{var n;return null===(n=Object.entries(e||{}))||void 0===n?void 0:n.reduce((e,n)=>{let[l,i]=n;if(!eO.RL[l])return e;let r=null==t?void 0:t.find(e=>{let{talentId:n}=e;return parseInt(l)===n});if(!r)return e;let o=(0,x.growth)(null==r?void 0:r.funcX,null==r?void 0:r.maxLevel,null==r?void 0:r.x1,null==r?void 0:r.x2),s=(0,x.growth)(null==r?void 0:r.funcY,null==r?void 0:r.maxLevel,null==r?void 0:r.y1,null==r?void 0:r.y2),d=(1-c/100)*i-(new Date().getTime()-a)/1e3;return[...e,{...r,description:null==r?void 0:r.description.replace("{",o).replace("}",s),cd:d<0?d:new Date().getTime()+1e3*d}]},[])},u=(0,i.useMemo)(()=>d(r),[r]);return(null==u?void 0:u.length)?(0,l.jsx)(s.Z,{direction:"row",gap:2,children:null==u?void 0:u.map((e,n)=>(0,l.jsxs)(s.Z,{gap:1,direction:"row",alignItems:"center",className:"talent",children:[(0,l.jsx)(h.Z,{title:(0,l.jsx)(C.u3,{...e}),children:(0,l.jsx)("img",{src:"".concat(x.prefix,"data/UISkillIcon").concat(null==e?void 0:e.talentId,".png"),style:{width:56,height:56},alt:""})}),(0,l.jsx)(ev.Z,{placeholder:(0,l.jsx)("span",{style:{color:"#51e406",fontWeight:"bold"},children:"Ready"}),type:"countdown",date:null==e?void 0:e.cd,lastUpdated:o})]},"".concat(null==e?void 0:e.talentId,"-").concat(n)))}):null},e_=e=>{var n;let{inventory:t,inventorySlots:i}=e;return(0,l.jsxs)(s.Z,{sx:{width:250},children:[(0,l.jsx)(C.uQ,{title:"Capacity",value:"".concat(null!==(n=null==t?void 0:t.length)&&void 0!==n?n:0,"/").concat(i)}),(0,l.jsx)(s.Z,{sx:{mt:1},direction:"row",flexWrap:"wrap",children:null==t?void 0:t.map((e,n)=>(0,l.jsx)(h.Z,{title:(0,x.cleanUnderscore)(null==e?void 0:e.name),children:(0,l.jsxs)(s.Z,{alignItems:"center",sx:{border:"1px solid rgb(255 255 255 / 12%)",width:"25%",p:1},children:[(0,l.jsx)("img",{width:32,height:32,src:"".concat(x.prefix,"data/").concat(null==e?void 0:e.rawName,".png"),alt:""}),(0,l.jsx)(c.Z,{children:(0,x.notateNumber)(null==e?void 0:e.amount)})]})},(null==e?void 0:e.rawName)+""+n))})]})},eF=t(50768);function eP(){let e=(0,d._)(["\n  width: 104px;\n  object-fit: contain;\n"]);return eP=function(){return e},e}let eT=p.Z.img(eP());var eA=e=>{var n,t,r,a;let{character:d,account:h,lastUpdated:p,filters:j,cols:v,characters:m,showSkillsRankOneOnly:g,showUnmaxedBoxesOnly:f}=e,{name:Z,classIndex:w,level:b,cards:k,skillsInfo:C,activePrayers:N,starSigns:I,postOffice:S,obols:U,equippedBubbles:M,equipment:W,tools:_,food:F,invBagsUsed:T,carryCapBags:A,talents:B,starTalents:D,flatTalents:E,flatStarTalents:L,cooldowns:z,afkTime:H,inventory:G,inventorySlots:K,playerId:X}=d,J=[{component:(0,l.jsx)(eU,{activityFilter:null==j?void 0:j.Activity,statsFilter:null==j?void 0:j.Stats,character:d,characters:m,account:h,lastUpdated:p}),filter:["Stats","Activity"]},{component:(0,l.jsx)(V.Z,{obols:U}),filter:"Obols"},{component:(0,l.jsx)(V.Z,{obols:U,obolStats:!0}),filter:"Obols Stats"},{component:(0,l.jsx)(y,{bags:T,capBags:A}),filter:"Bags"},{component:(0,l.jsx)(O,{talents:B,starTalents:D}),filter:"Talents"},{component:(0,l.jsx)(P,{cards:k}),filter:"Cards"},{component:(0,l.jsx)(R,{skills:C,charName:Z,showSkillsRankOneOnly:g}),filter:"Skills"},{component:(0,l.jsx)(q,{prayers:N}),filter:"Prayers"},{component:(0,l.jsx)(ed,{signs:I}),filter:"Star Signs"},{component:(0,l.jsx)(ec,{characters:m,character:d,account:h}),filter:"Anvil Details"},{component:(0,l.jsx)(e_,{inventory:G,inventorySlots:K}),filter:"Inventory"},{component:(0,l.jsx)(Q,{...S,showUnmaxedBoxesOnly:f}),filter:"Post Office"},{component:(0,l.jsx)(eF.Z,{playerLabLevel:null!==(a=null==C?void 0:null===(n=C.laboratory)||void 0===n?void 0:n.level)&&void 0!==a?a:0,playerChips:null==h?void 0:null===(r=h.lab)||void 0===r?void 0:null===(t=r.playersChips)||void 0===t?void 0:t[X],characters:m}),filter:"Chips"},{component:(0,l.jsx)(en,{charName:Z,equipment:W,tools:_,food:F,character:d,account:h}),filter:"Equipment"},{component:(0,l.jsx)(ex,{bubbles:M}),filter:"Equipped Bubbles"},{component:(0,l.jsx)(eW,{postOffice:S,cooldowns:z,lastUpdated:p,talents:[...E||[],...L||[]],afkTime:H}),filter:"Active Skills CD"}],Y=(0,i.useMemo)(()=>null==W?void 0:W.reduce((e,n)=>{let{rawName:t}=n;return!e&&t.includes("Trophy")?t:e},""),[d]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o.ZP,{item:!0,xl:v,children:(0,l.jsxs)(s.Z,{gap:2,children:[(0,l.jsxs)(s.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,l.jsx)(u.Z,{sx:{display:{sm:"none",md:"block"}},children:(0,l.jsx)("img",{src:"".concat(x.prefix,"data/ClassIcons").concat(w,".png"),alt:""})}),(0,l.jsxs)(s.Z,{children:[(0,l.jsxs)(c.Z,{sx:{typography:{xs:"body2",sm:"body1"}},children:[Z," (",b,")"]}),Y?(0,l.jsx)(eT,{src:"".concat(x.prefix,"data/").concat(Y,"disp.png"),style:{width:102,height:19},alt:""}):null]})]}),(0,l.jsx)(s.Z,{direction:"row",flexWrap:"wrap",gap:4,children:null==J?void 0:J.map((e,n)=>{let t=null==j?void 0:j[e.filter];return Array.isArray(e.filter)&&(t=e.filter.some(e=>null==j?void 0:j[e])),t?(0,l.jsx)(i.Fragment,{children:e.component},"".concat(Z,"-").concat(null==e?void 0:e.filter,"-").concat(n)):null})})]})})})},eB=t(80782),eD=t(2962),eE=()=>{var e,n,t;let{state:d,dispatch:u}=(0,i.useContext)(eB.I),x=(0,i.useMemo)(()=>{var e;return null===(e=Object.values((null==d?void 0:d.displayedCharacters)||[]))||void 0===e?void 0:e.filter(e=>e).length},[d]),h=Math.max(3,12/x),p=null==d?void 0:null===(e=d.filters)||void 0===e?void 0:e.Skills,j=null==d?void 0:null===(n=d.filters)||void 0===n?void 0:n["Post Office"];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eD.PB,{title:"Characters | Idleon Toolbox",description:"Characters overview for a lot of the game aspects"}),x>0?(0,l.jsxs)(l.Fragment,{children:[p?(0,l.jsx)(r.Z,{control:(0,l.jsx)(a.Z,{name:"mini",checked:d.showRankOneOnly,onChange:()=>u({type:"showRankOneOnly",data:!d.showRankOneOnly}),size:"small"}),label:"Show rank 1 only"}):null,j?(0,l.jsx)(r.Z,{control:(0,l.jsx)(a.Z,{name:"mini",checked:d.showUnmaxedBoxesOnly,onChange:()=>u({type:"showUnmaxedBoxesOnly",data:!d.showUnmaxedBoxesOnly}),size:"small"}),label:"Show Unmaxed Boxes Only"}):null,(0,l.jsx)(o.ZP,{container:!0,sx:{gap:{xs:2}},columns:12.5,children:null==d?void 0:null===(t=d.characters)||void 0===t?void 0:t.map((e,n)=>{var t;return(null==d?void 0:null===(t=d.displayedCharacters)||void 0===t?void 0:t[null==e?void 0:e.name])?(0,l.jsx)(eA,{filters:null==d?void 0:d.filters,account:null==d?void 0:d.account,character:e,characters:null==d?void 0:d.characters,cols:h,lastUpdated:null==d?void 0:d.lastUpdated,showSkillsRankOneOnly:d.showRankOneOnly,showUnmaxedBoxesOnly:d.showUnmaxedBoxesOnly},"".concat(null==e?void 0:e.name,"-").concat(n)):null})})]}):(0,l.jsx)(s.Z,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(c.Z,{variant:"h4",children:"Please select a character"})})]})}}},function(e){e.O(0,[5127,6886,250,5039,6426,176,4401,9774,2888,179],function(){return e(e.s=33713)}),_N_E=e.O()}]);