(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7202],{82828:function(n,e,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-4/rift",function(){return l(34127)}])},68575:function(n,e,l){"use strict";var t=l(85893),i=l(67294),r=l(98396),s=l(11703),c=l(40044);e.Z=n=>{let{tabs:e,children:l,onTabChange:a}=n,[o,d]=(0,i.useState)(0),_=(0,r.Z)(n=>n.breakpoints.down("md"),{noSsr:!0}),u=Array.isArray(l)?l:[l];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{centered:!_||_&&e.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:_&&e.length>4?"scrollable":"standard",value:o,onChange:(n,e)=>{d(e),a&&a(e)},children:null==e?void 0:e.map((n,e)=>(0,t.jsx)(c.Z,{label:n},"".concat(n,"-").concat(e)))}),a?l:null==u?void 0:u.map((n,e)=>e===o?n:null)]})}},34127:function(n,e,l){"use strict";l.r(e),l.d(e,{default:function(){return rift}});var t=l(85893),i=l(67294),r=l(15861),s=l(23513),c=l(2962),a=l(82729),o=l(50480),d=l(69368),_=l(51233),u=l(66242),x=l(44267),h=l(67720),p=l(30925),j=l(61599),v=l(5072);function _templateObject(){let n=(0,a._)(["\n  width: 34px;\n  height: 30px;\n  object-fit: none;\n  object-position: 0 100%;\n"]);return _templateObject=function(){return n},n}let f=j.Z.img(_templateObject());var Rift_Tasks=n=>{let{list:e,currentRift:l,currentProgress:s,characters:c,chars:a}=n,j=(0,p.findNameCombination)(c,a),[m,g]=(0,i.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Z,{control:(0,t.jsx)(d.Z,{name:"mini",checked:m,size:"small",onChange:()=>g(!m)}),label:"Show all tasks"}),(0,t.jsx)(_.Z,{direction:"row",gap:2,flexWrap:"wrap",children:null==e?void 0:e.map((n,e)=>{var i;let{monsterName:c,task:a,icon:o,riftBonus:d,riftBonusIcon:g}=n;if(e>50||!m&&e<l)return;let Z=l===e,A=Z?null==a?void 0:a.replace("{",s):null===(i=a.split("."))||void 0===i?void 0:i[0];return(0,t.jsx)(u.Z,{sx:{width:250,minHeight:200,display:"flex",border:l===e?"2px solid lightblue":"",opacity:e>l?.7:1},children:(0,t.jsxs)(x.Z,{sx:{width:300},children:[(0,t.jsxs)(_.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,t.jsx)(f,{src:"".concat(p.prefix,"data/").concat(o,".png"),alt:""}),(0,t.jsxs)(_.Z,{children:[(0,t.jsx)(r.Z,{children:(0,p.cleanUnderscore)(c)}),(0,t.jsxs)(r.Z,{variant:"caption",component:"span",children:["Rift ",e+1]})]})]}),(0,t.jsx)(h.Z,{sx:{mt:1}}),(0,t.jsx)(r.Z,{sx:{mt:2},children:(0,p.cleanUnderscore)(A.toLowerCase().capitalize())}),Z&&(null==j?void 0:j.length)>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{sx:{my:1}}),null==j?void 0:j.map((n,l)=>{let{name:i,classIndex:r}=n;return(0,t.jsx)(v.Z,{title:i,children:(0,t.jsx)("img",{src:"".concat(p.prefix,"data/ClassIcons").concat(r,".png"),alt:""})},"".concat(i,"-").concat(l,"-").concat(e))})]}):null]})},"".concat(c,"-").concat(e))})})]})},m=l(5432),Rift_Bonuses=n=>{let{list:e,currentRift:l,account:i}=n,getTotalBonus=n=>{var e,l,t,r;let s,c;if("Vial_Mastery"===n){let n=null==i?void 0:null===(l=i.alchemy)||void 0===l?void 0:null===(e=l.vials)||void 0===e?void 0:e.filter(n=>{let{level:e}=n;return 13===e});s="".concat((0,p.notateNumber)(1+2*(null==n?void 0:n.length)/100,"MultiplierInfo"),"x"),c="Total Vial Boost: "}else if("Eclipse_Skulls"===n){let n=null===(t=Object.entries(null==i?void 0:i.deathNote))||void 0===t?void 0:t.reduce((n,e)=>{var l,t;let[,{mobs:i}]=e;return n+(null!==(t=null==i?void 0:null===(l=i.filter(n=>{let{kills:e}=n;return e>=1e9}))||void 0===l?void 0:l.length)&&void 0!==t?t:0)},0);s="".concat(5*n,"%"),c="Total Damage Bonus: "}else if("Infinite_Stars"===n){let n=5+(0,m.du)(null==i?void 0:null===(r=i.breeding)||void 0===r?void 0:r.pets,"Infinite_Star_Signs");s="You have ".concat(n," infinite star signs"),c=""}return{totalBonus:s,totalBonusText:c}};return(0,t.jsx)(_.Z,{direction:"row",gap:2,flexWrap:"wrap",children:null==e?void 0:e.map((n,e)=>{let{monsterName:i,task:s,icon:c,riftBonus:a,riftBonusIcon:o,riftDescription:d}=n;if(e>50||!a)return;let{totalBonusText:j,totalBonus:v}=getTotalBonus(a);return(0,t.jsx)(u.Z,{sx:{width:300,minHeight:200,display:"flex",opacity:e>l&&e!==l?.7:1},children:(0,t.jsxs)(x.Z,{sx:{width:300},children:[(0,t.jsxs)(_.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,t.jsx)("img",{src:"".concat(p.prefix,"etc/").concat(o,".png"),alt:""}),(0,t.jsx)(r.Z,{children:(0,p.cleanUnderscore)(a)})]}),(0,t.jsxs)(r.Z,{variant:"caption",component:"span",children:[e<=l?(0,t.jsx)(r.Z,{variant:"caption",color:"success.light",children:"Unlocked"}):null," (Unlocks at rift ",e+1,")"]}),(0,t.jsx)(h.Z,{sx:{mt:1}}),(0,t.jsx)(r.Z,{sx:{mt:2},children:(0,p.cleanUnderscore)(d.replace("@",""))}),v||j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{sx:{mt:1}}),(0,t.jsxs)(r.Z,{sx:{mt:2},children:[j,(0,p.cleanUnderscore)(v)]})]}):null]})},"".concat(i,"-").concat(e))})})},g=l(10924);function SkillMastery_templateObject(){let n=(0,a._)(["\n\n"]);return SkillMastery_templateObject=function(){return n},n}let Z=["+25%_{_EXP_GAIN","+10%_{_EFFICIENCY","+5%_TOTAL_DAMAGE","+10%_ALL_SKILL_EXP","+5%_ALL_SKILL_EFFICIENCY","+1%_PRINTER_OUTPUT","+25%_ALL_SKILL_EXP"],A={mining:"ALL_MINING_CARDS_ARE_NOW_PASSIVE",fishing:"ALL_FISHING_CARDS_ARE_NOW_PASSIVE",chopping:"ALL_CHOPPING_CARDS_ARE_NOW_PASSIVE",catching:"ALL_CATCHING_CARDS_ARE_NOW_PASSIVE",trapping:"ALL_TRAPPING_CARDS_ARE_NOW_PASSIVE",worship:"ALL_WORSHIP_CARDS_ARE_NOW_PASSIVE",smithing:"+25%_FORGE_ORE_CAPACITY",alchemy:"+5%_ALL_LIQUID_CAP",construction:"+15%_SHRINE_LV_UP_RATE",breeding:"+15%_EGG_INCUBATION_SPEED",sailing:"+15%_BOAT_SAILING_SPEED",divinity:"+15%_DIVINITY_PTS_GAINED",gaming:"1.15X_GAMING_BITS_GAINED"},S=[0,0,300,400,500,750,1e3],L=j.Z.img(SkillMastery_templateObject());var Rift_SkillMastery=n=>{var e;let{totalSkillsLevels:l}=n;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{variant:"h5",children:"Skill level thresholds"}),(0,t.jsx)(_.Z,{sx:{my:2},direction:"row",gap:2,children:null==S?void 0:S.map((n,e)=>n>0?(0,t.jsx)(u.Z,{sx:{width:100},children:(0,t.jsx)(x.Z,{children:(0,t.jsx)(r.Z,{color:(0,g.qP)(n),children:n?"Lv. ".concat(n," "):""})})},e):null)}),(0,t.jsx)(r.Z,{variant:"h5",children:"Skills"}),(0,t.jsx)(_.Z,{direction:"row",gap:2,flexWrap:"wrap",children:null===(e=Object.entries(l))||void 0===e?void 0:e.map((n,e)=>{let[l,{icon:i,level:s,rank:c,color:a}]=n;if("character"!==l)return(0,t.jsx)(u.Z,{sx:{width:250,minHeight:200,display:"flex"},children:(0,t.jsxs)(x.Z,{sx:{width:300},children:[(0,t.jsxs)(_.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,t.jsx)(L,{src:"".concat(p.prefix,"data/").concat(i,".png"),alt:""}),(0,t.jsxs)(_.Z,{children:[(0,t.jsx)(r.Z,{children:(0,p.cleanUnderscore)(l.capitalize())}),(0,t.jsxs)(r.Z,{variant:"caption",component:"span",sx:{color:a,fontWeight:"bold"},children:["Total Level ",s]})]})]}),(0,t.jsx)(h.Z,{sx:{my:1}}),(0,t.jsx)(_.Z,{gap:1,children:null==Z?void 0:Z.map((n,i)=>(0,t.jsx)(r.Z,{sx:{opacity:i<c?1:.6},children:(0,p.cleanUnderscore)((e<12?2===i:1===i)&&(null==A?void 0:A[l])&&11!==e?null==A?void 0:A[l].toLowerCase().capitalizeAll():11===e&&1===i?null==A?void 0:A[l].toLowerCase().capitalizeAll():n.replace("{",l).toLowerCase().capitalizeAll())},"".concat(l,"-bonus-").concat(i)))})]})},"".concat(l,"-").concat(e))})})]})},R=l(47212);let I=["+1%_REFINERY_SPD_PER_10_TOT_LV","+35_MAX_LV_FOR_TRAPPER_DRONE","+2%_DMG_PER_10_TOT_LV_OVER_750","+100_MAX_LV_FOR_TALENT_LIBRARY","+5%_BUILD_SPD_PER_10_TOT_LV_OVER_1250","+100_MAX_LV_FOR_ALL_SHRINES","+30_MAX_LV_FOR_ALL_WIZARD_TOWERS"],Bonus=n=>{let{name:e,label:l,value:i}=n;return i?(0,t.jsx)(u.Z,{sx:{width:180},children:(0,t.jsx)(x.Z,{children:(0,t.jsxs)(_.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,t.jsx)("img",{src:"".concat(p.prefix,"etc/").concat(e,".png"),alt:""}),(0,t.jsxs)(_.Z,{children:[(0,t.jsx)(r.Z,{children:l}),(0,t.jsx)(r.Z,{children:i})]})]})})}):null};var Rift_ConstructMastery=n=>{let{totalLevels:e}=n;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.Z,{children:(0,t.jsx)(u.Z,{sx:{width:"fit-content",my:2},children:(0,t.jsxs)(x.Z,{children:["Construct Lv. ",e]})})}),e>=(null===R.q5||void 0===R.q5?void 0:R.q5[0])?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{variant:"h5",children:"Bonuses"}),(0,t.jsxs)(_.Z,{sx:{mb:2},gap:2,direction:"row",children:[(0,t.jsx)(Bonus,{name:"Refinery_Spd",label:"Ref Spd",value:e>=(null===R.q5||void 0===R.q5?void 0:R.q5[0])?"".concat(Math.floor(e/10),"%"):null}),(0,t.jsx)(Bonus,{name:"Refinery_Dmg",label:"Dmg",value:e>=(null===R.q5||void 0===R.q5?void 0:R.q5[2])?"".concat(2*Math.floor((e-(null===R.q5||void 0===R.q5?void 0:R.q5[2]))/10),"%"):null}),(0,t.jsx)(Bonus,{name:"Refinery_Build_Spd",label:"Build Spd",value:e>=(null===R.q5||void 0===R.q5?void 0:R.q5[4])?"".concat(5*Math.floor((e-(null===R.q5||void 0===R.q5?void 0:R.q5[4]))/10),"%"):null})]})]}):null,(0,t.jsx)(u.Z,{sx:{width:"fit-content"},children:(0,t.jsx)(x.Z,{children:(0,t.jsx)(_.Z,{gap:1,children:null==I?void 0:I.map((n,l)=>(0,t.jsxs)(r.Z,{sx:{opacity:e>(null===R.q5||void 0===R.q5?void 0:R.q5[l])?1:.6},children:["Lv. ",null===R.q5||void 0===R.q5?void 0:R.q5[l],": ",(0,p.cleanUnderscore)(n.toLowerCase().capitalizeAll())]},"bonus-".concat(l)))})})})]})},E=l(68575),rift=()=>{let{state:n}=(0,i.useContext)(s.I),{rift:e,totalSkillsLevels:l,towers:a}=(null==n?void 0:n.account)||{},o=["Tasks","Bonuses","Skill Mastery","Construct Mastery"].filter(n=>(null==e?void 0:e.currentRift)>15||"Skill Mastery"!==n).filter(n=>(null==e?void 0:e.currentRift)>40||"Construction Mastery"!==n);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.PB,{title:"Idleon Toolbox | Rift",description:"Keep track of your rift bonuses, tasks and more"}),(0,t.jsx)(r.Z,{variant:"h2",mb:3,children:"Rift"}),(0,t.jsxs)(E.Z,{tabs:o,children:[(0,t.jsx)(Rift_Tasks,{...e,characters:null==n?void 0:n.characters}),(0,t.jsx)(Rift_Bonuses,{...e,account:null==n?void 0:n.account}),(0,t.jsx)(Rift_SkillMastery,{...e,totalSkillsLevels:l}),(0,t.jsx)(Rift_ConstructMastery,{...e,totalLevels:null==a?void 0:a.totalLevels})]})]})}}},function(n){n.O(0,[3387,7896,8054,9774,2888,179],function(){return n(n.s=82828)}),_N_E=n.O()}]);