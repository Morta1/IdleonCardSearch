(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2847],{41899:function(e,n,l){"use strict";var o=l(64836);n.Z=void 0;var t=o(l(64938)),s=l(85893),i=(0,t.default)((0,s.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");n.Z=i},20466:function(e,n,l){"use strict";l.d(n,{Z:function(){return getDay}});var o=l(19013),t=l(13882);function getDay(e){return(0,t.Z)(1,arguments),(0,o.Z)(e).getDay()}},33913:function(e,n,l){"use strict";l.d(n,{Z:function(){return isPast}});var o=l(19013),t=l(13882);function isPast(e){return(0,t.Z)(1,arguments),(0,o.Z)(e).getTime()<Date.now()}},49352:function(e,n,l){"use strict";l.d(n,{Z:function(){return isThursday}});var o=l(19013),t=l(13882);function isThursday(e){return(0,t.Z)(1,arguments),4===(0,o.Z)(e).getDay()}},85148:function(e,n,l){"use strict";l.d(n,{Z:function(){return nextThursday}});var o=l(77349),t=l(20466),s=l(13882);function nextThursday(e){return(0,s.Z)(1,arguments),function(e,n){(0,s.Z)(2,arguments);var l=4-(0,t.Z)(e);return l<=0&&(l+=7),(0,o.Z)(e,l)}(e,4)}},23284:function(e,n,l){"use strict";l.d(n,{Z:function(){return previousThursday}});var o=l(13882),t=l(20466),s=l(7069);function previousThursday(e){return(0,o.Z)(1,arguments),function(e,n){(0,o.Z)(2,arguments);var l=(0,t.Z)(e)-4;return l<=0&&(l+=7),(0,s.Z)(e,l)}(e,4)}},28366:function(e,n,l){"use strict";l.d(n,{Z:function(){return startOfToday}});var o=l(69119);function startOfToday(){return(0,o.Z)(Date.now())}},30911:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-2/weekly-bosses",function(){return l(45323)}])},68575:function(e,n,l){"use strict";var o=l(85893),t=l(67294),s=l(98396),i=l(11703),r=l(40044);n.Z=e=>{let{tabs:n,children:l,onTabChange:a}=e,[d,u]=(0,t.useState)(0),c=(0,s.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),v=Array.isArray(l)?l:[l];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Z,{centered:!c||c&&n.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:c&&n.length>4?"scrollable":"standard",value:d,onChange:(e,n)=>{u(n),a&&a(n)},children:null==n?void 0:n.map((e,n)=>(0,o.jsx)(r.Z,{label:e},"".concat(e,"-").concat(n)))}),a?l:null==v?void 0:v.map((e,n)=>n===d?e:null)]})}},45323:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return weekly_bosses}});var o=l(85893),t=l(67294),s=l(23513),i=l(70473),r=l(74044),a=l(30925),d=l(71251);let getBossId=e=>Math.max(0,Math.min((null===i.weeklyBosses||void 0===i.weeklyBosses?void 0:i.weeklyBosses.length)-1,Math.floor(e/1e3*(null===i.weeklyBosses||void 0===i.weeklyBosses?void 0:i.weeklyBosses.length)))),getTasksIds=(e,n)=>{let l=[];for(let o=0;o<15;o++){let t=new r.Z(Math.round(n+3*o)),s=Math.max(0,Math.min(2,Math.floor(3*t.rand()))),a=i.weeklyBosses[e];l.push(null==a?void 0:a["x".concat(s+1)])}return l},getShopItems=e=>{var n,l,o,t;let s=new r.Z(Math.round(e+36)),a=Math.max(0,Math.min(i.weeklyBossesShop[0].length-1,Math.floor(s.rand()*i.weeklyBossesShop[0].length))),d=new r.Z(Math.round(e+72)),u=Math.max(0,Math.min(i.weeklyBossesShop[0].length-1,Math.floor(d.rand()*i.weeklyBossesShop[0].length))),c=0;for(;a===u&&c<100;)c+=1,d=new r.Z(e+c),u=Math.max(0,Math.min(i.weeklyBossesShop[0].length-1,Math.floor(d.rand()*i.weeklyBossesShop[0].length)));let v=new r.Z(Math.round(e+10)),h=Math.max(0,Math.min(i.weeklyBossesShop[1].length-1,Math.floor(v.rand()*i.weeklyBossesShop[1].length))),p=new r.Z(Math.round(e+20)),y=Math.max(0,Math.min(i.weeklyBossesShop[1].length-1,Math.floor(p.rand()*i.weeklyBossesShop[1].length))),f=0;for(;h===y&&f<100;)f+=1,p=new r.Z(e+f),y=Math.max(0,Math.min(i.weeklyBossesShop[1].length-1,Math.floor(p.rand()*i.weeklyBossesShop[1].length)));return[null===i.weeklyBossesShop||void 0===i.weeklyBossesShop?void 0:null===(n=i.weeklyBossesShop[0])||void 0===n?void 0:n[a],null===i.weeklyBossesShop||void 0===i.weeklyBossesShop?void 0:null===(l=i.weeklyBossesShop[0])||void 0===l?void 0:l[u],null===i.weeklyBossesShop||void 0===i.weeklyBossesShop?void 0:null===(o=i.weeklyBossesShop[1])||void 0===o?void 0:o[h],null===i.weeklyBossesShop||void 0===i.weeklyBossesShop?void 0:null===(t=i.weeklyBossesShop[1])||void 0===t?void 0:t[y]]},getWeeklyBoss=e=>{var n,l;if(!e)return[];let o=Math.round(Math.floor((null==e?void 0:null===(n=e.timeAway)||void 0===n?void 0:n.GlobalTime)/604800)),t=[];for(let e=0;e<10;e++){let n=new r.Z(o+e),s=Math.floor(1e3*n.rand()),a=getShopItems(s),d=getBossId(s),u=null===(l=getTasksIds(d,s))||void 0===l?void 0:l.map(e=>({...null===i.weeklyBossesTasks||void 0===i.weeklyBossesTasks?void 0:i.weeklyBossesTasks[e],taskIndex:e})),{bossName:c}=(null===i.weeklyBosses||void 0===i.weeklyBosses?void 0:i.weeklyBosses[d])||{},v=0,h=[],p=[];for(let e=0;e<15;e++){let e=[];for(let n=0;n<3;n++){v+=1e3;let n=new r.Z(s+v),l=Math.max(0,Math.min((null===i.weeklyBossesActions||void 0===i.weeklyBossesActions?void 0:i.weeklyBossesActions.length)-1,Math.floor(n.rand()*(null===i.weeklyBossesActions||void 0===i.weeklyBossesActions?void 0:i.weeklyBossesActions.length))));if(p.includes(l)){let e=0;for(;p.includes(l)&&e<100;)v+=1e3,n=new r.Z(s+v),l=Math.max(0,Math.min((null===i.weeklyBossesActions||void 0===i.weeklyBossesActions?void 0:i.weeklyBossesActions.length)-1,Math.floor(n.rand()*(null===i.weeklyBossesActions||void 0===i.weeklyBossesActions?void 0:i.weeklyBossesActions.length)))),e++}e.push(l),p.unshift(l),p.length>9&&p.pop()}h.push(e)}let y=Math.floor((o+e)*6048e5);h=h.map((e,n)=>({actions:e.map(e=>null===i.weeklyBossesActions||void 0===i.weeklyBossesActions?void 0:i.weeklyBossesActions[e]),task:null==u?void 0:u[n]})),t.push({bossName:c,shopItems:a,triplets:h,date:new Date(y)})}return t},getTaskQuantity=(e,n,l,o)=>{var t,s,i,r,u,c,v,h,p,y,f,g,x,w,m,k,Z,B,j,M,b,I,S,_,A,T,O,C,W;if(e>=(null==o?void 0:o.length))return 0;let N=null==o?void 0:o[e],D=(0,d.m)(N,o,l);return 0===n?null==N?void 0:null===(s=N.skillsInfo)||void 0===s?void 0:null===(t=s.mining)||void 0===t?void 0:t.level:1===n?null==N?void 0:null===(r=N.skillsInfo)||void 0===r?void 0:null===(i=r.fishing)||void 0===i?void 0:i.level:2===n?null==N?void 0:null===(c=N.skillsInfo)||void 0===c?void 0:null===(u=c.chopping)||void 0===u?void 0:u.level:3===n?null==N?void 0:null===(h=N.skillsInfo)||void 0===h?void 0:null===(v=h.worship)||void 0===v?void 0:v.level:4===n?null==N?void 0:null===(y=N.skillsInfo)||void 0===y?void 0:null===(p=y.alchemy)||void 0===p?void 0:p.level:5===n?null==N?void 0:null===(g=N.skillsInfo)||void 0===g?void 0:null===(f=g.catching)||void 0===f?void 0:f.level:6===n?null==N?void 0:null===(w=N.skillsInfo)||void 0===w?void 0:null===(x=w.trapping)||void 0===x?void 0:x.level:7===n?null==N?void 0:null===(k=N.skillsInfo)||void 0===k?void 0:null===(m=k.cooking)||void 0===m?void 0:m.level:8===n?null==N?void 0:null===(B=N.skillsInfo)||void 0===B?void 0:null===(Z=B.laboratory)||void 0===Z?void 0:Z.level:9===n?null==N?void 0:null===(M=N.skillsInfo)||void 0===M?void 0:null===(j=M.divinity)||void 0===j?void 0:j.level:24===n?null==N?void 0:null===(I=N.skillsInfo)||void 0===I?void 0:null===(b=I.construction)||void 0===b?void 0:b.level:10===n?null==N?void 0:N.maxHp:11===n?null==N?void 0:N.maxMp:12===n?null==N?void 0:N.accuracy:13===n?null==N?void 0:N.defence:14===n?100*(null==N?void 0:N.movementSpeed):15===n?null==N?void 0:null===(_=N.carryCapBags)||void 0===_?void 0:null===(S=_[0])||void 0===S?void 0:S.capacityPerSlot:16===n?null==N?void 0:N.questCompleted:17===n?Math.ceil((0,a.lavaLog)(null==N?void 0:null===(W=N.kills)||void 0===W?void 0:W[53])):18===n?null==N?void 0:N.level:19===n?Math.ceil((0,a.lavaLog)(null==N?void 0:null===(A=N.kills)||void 0===A?void 0:A[1])):20===n?Math.ceil((0,a.lavaLog)(null==N?void 0:null===(T=N.kills)||void 0===T?void 0:T[116])):21===n?Math.ceil((0,a.lavaLog)(null==N?void 0:null===(O=N.kills)||void 0===O?void 0:O[205])):22===n?Math.ceil((0,a.lavaLog)(null==D?void 0:D.maxDamage)):23===n?Math.ceil((0,a.lavaLog)(null==N?void 0:null===(C=N.kills)||void 0===C?void 0:C[158])):0};var u=l(51233),c=l(15861),v=l(93946),h=l(68575),p=l(82729),y=l(67720),f=l(61599),g=l(75934),x=l.n(g),w=l(40929),m=l(61436);function _templateObject(){let e=(0,p._)(["\n  width: 15px;\n  height: 15px;\n  object-fit: contain;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,p._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: none;\n  object-position: 0;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,p._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return _templateObject2=function(){return e},e}let k={"(ATTACK)":"error.light","(BUFF)":"info.light","(MISC)":"warning.light"},Z=f.Z.img(_templateObject()),B=f.Z.img(_templateObject1()),j=f.Z.img(_templateObject2());var World2_WeeklyBoss=e=>{var n;let{bossIndex:l,bossName:s,shopItems:i,triplets:r,date:d,account:v,characters:h}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(u.Z,{sx:{width:"100%"},direction:"row",alignItems:"center",gap:2,children:[(0,o.jsx)("img",{style:{width:50,height:50},src:"".concat(a.prefix,"etc/").concat(s,".png"),alt:""}),(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(c.Z,{variant:"h4",children:(0,a.cleanUnderscore)(s)}),(0,o.jsx)(c.Z,{variant:"caption",children:(0,m.Z)(d)?(0,w.Z)(d,"dd/MM/yyyy HH:mm:ss"):null})]})]}),(0,o.jsx)(y.Z,{sx:{my:2}}),(0,o.jsx)(c.Z,{mb:1,variant:"h5",children:"Shop Items"}),(0,o.jsx)(u.Z,{direction:"row",gap:2,flexWrap:"wrap",children:null==i?void 0:i.map(e=>{let{name:n,rawName:l,x1:t}=e,s="FoodG"===l?"FoodG1":l;return(0,o.jsxs)(u.Z,{direction:"row",alignItems:"center",gap:2,children:[n.includes("_UI")?(0,o.jsx)(B,{src:"".concat(a.prefix,"data/").concat(s,".png"),alt:""}):(0,o.jsx)(j,{src:"".concat(a.prefix,"data/").concat(s,".png"),alt:""}),(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(c.Z,{children:(0,a.cleanUnderscore)(n)}),(0,o.jsxs)(u.Z,{gap:2,direction:"row",alignItems:"center",children:[(0,o.jsx)(Z,{src:"".concat(a.prefix,"data/Trophie.png"),alt:""}),(0,o.jsx)(c.Z,{variant:"body1",children:t})]})]})]},l)})}),(0,o.jsx)(y.Z,{sx:{my:2}}),(0,o.jsxs)(u.Z,{mb:1,direction:"row",gap:2,alignItems:"center",children:[(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(c.Z,{variant:"h5",children:"Actions"}),0===l?(0,o.jsxs)(c.Z,{variant:"caption",children:["Current turn: ",(null==v?void 0:null===(n=v.accountOptions)||void 0===n?void 0:n[185])+1]}):null]}),(0,o.jsx)(u.Z,{flexWrap:"wrap",direction:"row",children:null==r?void 0:r.map((e,n)=>{var t;let{task:s}=e;return n<=9?(0,o.jsx)(j,{style:{border:0===l&&(null==v?void 0:null===(t=v.accountOptions)||void 0===t?void 0:t[185])===n?"1px solid #81c784":""},src:"".concat(a.prefix,"etc/Req_Icon_").concat(null==s?void 0:s.rawName,".png"),alt:""},"all-moves"+n):null})})]}),(0,o.jsx)(u.Z,{children:null==r?void 0:r.map((e,n)=>{var s,i,r,d;let{actions:p,task:f}=e;if(n>9)return null;let g=getTaskQuantity(n,null==f?void 0:f.taskIndex,v,h);return(0,o.jsxs)(t.Fragment,{children:[(0,o.jsxs)(u.Z,{mb:1,direction:"row",alignItems:"center",gap:2,children:[(0,o.jsx)(j,{src:"".concat(a.prefix,"etc/Req_Icon_").concat(null==f?void 0:f.rawName,".png"),alt:""}),(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(c.Z,{color:0===l&&(null==v?void 0:null===(s=v.accountOptions)||void 0===s?void 0:s[185])===n?"success.light":"text.primary",variant:"subtitle1",children:(0,a.cleanUnderscore)(null==f?void 0:null===(i=f.statText)||void 0===i?void 0:i.replace("{",g))}),(0,o.jsxs)(c.Z,{color:0===l&&(null==v?void 0:null===(r=v.accountOptions)||void 0===r?void 0:r[185])===n?"success.light":"text.primary",variant:"caption",children:["Turn: ",n+1,", by: ",null==h?void 0:null===(d=h[n])||void 0===d?void 0:d.name]})]})]}),(0,o.jsx)(u.Z,{gap:2,children:null==p?void 0:p.map((e,n)=>{let{description:l}=e;return(0,o.jsx)(c.Z,{variant:"body2",children:x()([{regex:/\(Attack\)|\(Buff\)|\(Misc\)/gi,fn:(e,l)=>(0,o.jsx)(c.Z,{variant:"body2",component:"span",sx:{color:null==k?void 0:k[l[0]]},children:l[0]},e+n)}])((0,a.cleanUnderscore)(l.replace("{","X")))},"action"+n)})}),(0,o.jsx)(y.Z,{sx:{my:2}})]},"triplets"+n)})})]})},M=l(41899),b=l(5072),weekly_bosses=()=>{let{state:e}=(0,t.useContext)(s.I),handleCopy=async e=>{try{await navigator.clipboard.writeText(JSON.stringify(e,null,2))}catch(e){console.error(e)}},n=(0,t.useMemo)(()=>getWeeklyBoss(null==e?void 0:e.account,null==e?void 0:e.characters),[null==e?void 0:e.account,null==e?void 0:e.characters]);return(null==n?void 0:n.length)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(u.Z,{direction:"row",gap:2,alignItems:"center",children:[(0,o.jsx)(c.Z,{variant:"h2",sx:{mb:3},children:"Weekly bosses"}),(0,o.jsx)(b.Z,{title:"Copy weekly bosses data",children:(0,o.jsx)(v.Z,{onClick:()=>handleCopy(n),children:(0,o.jsx)(M.Z,{})})})]}),(0,o.jsx)(h.Z,{tabs:null==n?void 0:n.map(e=>{let{bossName:n}=e;return(0,a.cleanUnderscore)(n)}),children:null==n?void 0:n.map((n,l)=>(0,o.jsx)(World2_WeeklyBoss,{...n,bossIndex:l,account:null==e?void 0:e.account,characters:null==e?void 0:e.characters},(null==n?void 0:n.bossName)+l))})]}):(0,o.jsx)("div",{children:"There is no random event data"})}},75934:function(e){"use strict";e.exports=function(e){var n=0;return function(l){return e&&Array.isArray(e)&&e.length&&e.forEach(function(e){return l=function processInputWithRegex(e,l){if(!e.fn||"function"!=typeof e.fn||!e.regex||!(e.regex instanceof RegExp))return l;if("string"==typeof l){for(var o=e.regex,t=null,s=[];null!==(t=o.exec(l));){var i=t.index,r=t[0];s.push(l.substring(0,i)),s.push(e.fn(++n,t)),l=l.substring(i+r.length,l.length+1),o.lastIndex=0}return s.push(l),s}return Array.isArray(l)?l.map(function(n){return processInputWithRegex(e,n)}):l}(e,l)}),l}}}},function(e){e.O(0,[7896,8054,1251,9774,2888,179],function(){return e(e.s=30911)}),_N_E=e.O()}]);