(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2847],{41899:function(e,l,n){"use strict";var o=n(64836);l.Z=void 0;var s=o(n(64938)),i=n(85893),t=(0,s.default)((0,i.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");l.Z=t},57319:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/world-2/weekly-bosses",function(){return n(90444)}])},30509:function(e,l,n){"use strict";var o=n(85893),s=n(67294),i=n(98396),t=n(11703),r=n(40044);l.Z=e=>{let{tabs:l,children:n,onTabChange:a}=e,[d,c]=(0,s.useState)(0),u=(0,i.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),v=Array.isArray(n)?n:[n];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.Z,{centered:!u||u&&l.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:u&&l.length>4?"scrollable":"standard",value:d,onChange:(e,l)=>{c(l),a&&a(l)},children:null==l?void 0:l.map((e,l)=>(0,o.jsx)(r.Z,{label:e},"".concat(e,"-").concat(l)))}),a?n:null==v?void 0:v.map((e,l)=>l===d?e:null)]})}},90444:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return weekly_bosses}});var o=n(85893),s=n(67294),i=n(21480),t=n(70473),r=n(74044),a=n(30925),d=n(72339);let getBossId=e=>Math.max(0,Math.min((null===t.weeklyBosses||void 0===t.weeklyBosses?void 0:t.weeklyBosses.length)-1,Math.floor(e/1e3*(null===t.weeklyBosses||void 0===t.weeklyBosses?void 0:t.weeklyBosses.length)))),getTasksIds=(e,l)=>{let n=[];for(let o=0;o<15;o++){let s=new r.Z(Math.round(l+3*o)),i=Math.max(0,Math.min(2,Math.floor(3*s.rand()))),a=t.weeklyBosses[e];n.push(null==a?void 0:a["x".concat(i+1)])}return n},getShopItems=e=>{var l,n,o,s;let i=new r.Z(Math.round(e+36)),a=Math.max(0,Math.min(t.weeklyBossesShop[0].length-1,Math.floor(i.rand()*t.weeklyBossesShop[0].length))),d=new r.Z(Math.round(e+72)),c=Math.max(0,Math.min(t.weeklyBossesShop[0].length-1,Math.floor(d.rand()*t.weeklyBossesShop[0].length))),u=0;for(;a===c&&u<100;)u+=1,d=new r.Z(e+u),c=Math.max(0,Math.min(t.weeklyBossesShop[0].length-1,Math.floor(d.rand()*t.weeklyBossesShop[0].length)));let v=new r.Z(Math.round(e+10)),h=Math.max(0,Math.min(t.weeklyBossesShop[1].length-1,Math.floor(v.rand()*t.weeklyBossesShop[1].length))),p=new r.Z(Math.round(e+20)),g=Math.max(0,Math.min(t.weeklyBossesShop[1].length-1,Math.floor(p.rand()*t.weeklyBossesShop[1].length))),x=0;for(;h===g&&x<710;)x+=71,p=new r.Z(e+x),g=Math.max(0,Math.min(t.weeklyBossesShop[1].length-1,Math.floor(p.rand()*t.weeklyBossesShop[1].length)));return{shopItems:[null===t.weeklyBossesShop||void 0===t.weeklyBossesShop?void 0:null===(l=t.weeklyBossesShop[0])||void 0===l?void 0:l[a],null===t.weeklyBossesShop||void 0===t.weeklyBossesShop?void 0:null===(n=t.weeklyBossesShop[0])||void 0===n?void 0:n[c],null===t.weeklyBossesShop||void 0===t.weeklyBossesShop?void 0:null===(o=t.weeklyBossesShop[1])||void 0===o?void 0:o[h],null===t.weeklyBossesShop||void 0===t.weeklyBossesShop?void 0:null===(s=t.weeklyBossesShop[1])||void 0===s?void 0:s[g]],extraSeed:x}},getWeeklyBoss=e=>{var l,n;if(!e)return[];let o=Math.round(Math.floor((null==e?void 0:null===(l=e.timeAway)||void 0===l?void 0:l.GlobalTime)/604800)),s=[];for(let e=0;e<10;e++){let l=new r.Z(o+e),i=Math.floor(1e3*l.rand()),{shopItems:a,extraSeed:d}=getShopItems(i),c=getBossId(i),u=null===(n=getTasksIds(c,i))||void 0===n?void 0:n.map(e=>({...null===t.weeklyBossesTasks||void 0===t.weeklyBossesTasks?void 0:t.weeklyBossesTasks[e],taskIndex:e})),{bossName:v}=(null===t.weeklyBosses||void 0===t.weeklyBosses?void 0:t.weeklyBosses[c])||{},h=d,p=[],g=[];for(let e=0;e<15;e++){let e=[];for(let l=0;l<3;l++){h+=1e3;let l=new r.Z(i+h),n=Math.max(0,Math.min((null===t.weeklyBossesActions||void 0===t.weeklyBossesActions?void 0:t.weeklyBossesActions.length)-1,Math.floor(l.rand()*(null===t.weeklyBossesActions||void 0===t.weeklyBossesActions?void 0:t.weeklyBossesActions.length))));if(g.includes(n)){let e=0;for(;g.includes(n)&&e<100;)h+=1e3,l=new r.Z(i+h),n=Math.max(0,Math.min((null===t.weeklyBossesActions||void 0===t.weeklyBossesActions?void 0:t.weeklyBossesActions.length)-1,Math.floor(l.rand()*(null===t.weeklyBossesActions||void 0===t.weeklyBossesActions?void 0:t.weeklyBossesActions.length)))),e++}e.push(n),g.unshift(n),g.length>9&&g.pop()}p.push(e)}let x=Math.floor((o+e)*6048e5);p=p.map((e,l)=>({actions:e.map(e=>null===t.weeklyBossesActions||void 0===t.weeklyBossesActions?void 0:t.weeklyBossesActions[e]),task:null==u?void 0:u[l]})),s.push({bossName:v,shopItems:a,triplets:p,date:new Date(x)})}return s},getTaskQuantity=(e,l,n,o)=>{var s,i,t,r,c,u,v,h,p,g,x,y,w,m,k,f,B,j,Z,M,b,S,I,_,A,T,O,C,W,N;if(e>=(null==o?void 0:o.length))return 0;let F=null==o?void 0:o[e],E=(0,d.m)(F,o,n);return 0===l?null==F?void 0:null===(i=F.skillsInfo)||void 0===i?void 0:null===(s=i.mining)||void 0===s?void 0:s.level:1===l?null==F?void 0:null===(r=F.skillsInfo)||void 0===r?void 0:null===(t=r.fishing)||void 0===t?void 0:t.level:2===l?null==F?void 0:null===(u=F.skillsInfo)||void 0===u?void 0:null===(c=u.chopping)||void 0===c?void 0:c.level:3===l?null==F?void 0:null===(h=F.skillsInfo)||void 0===h?void 0:null===(v=h.worship)||void 0===v?void 0:v.level:4===l?null==F?void 0:null===(g=F.skillsInfo)||void 0===g?void 0:null===(p=g.alchemy)||void 0===p?void 0:p.level:5===l?null==F?void 0:null===(y=F.skillsInfo)||void 0===y?void 0:null===(x=y.catching)||void 0===x?void 0:x.level:6===l?null==F?void 0:null===(m=F.skillsInfo)||void 0===m?void 0:null===(w=m.trapping)||void 0===w?void 0:w.level:7===l?null==F?void 0:null===(f=F.skillsInfo)||void 0===f?void 0:null===(k=f.cooking)||void 0===k?void 0:k.level:8===l?null==F?void 0:null===(j=F.skillsInfo)||void 0===j?void 0:null===(B=j.laboratory)||void 0===B?void 0:B.level:9===l?null==F?void 0:null===(M=F.skillsInfo)||void 0===M?void 0:null===(Z=M.divinity)||void 0===Z?void 0:Z.level:24===l?null==F?void 0:null===(S=F.skillsInfo)||void 0===S?void 0:null===(b=S.construction)||void 0===b?void 0:b.level:10===l?null==F?void 0:F.maxHp:11===l?null==F?void 0:F.maxMp:12===l?null==F?void 0:F.accuracy:13===l?null==F?void 0:null===(I=F.defence)||void 0===I?void 0:I.value:14===l?100*(null==F?void 0:F.movementSpeed):15===l?null==F?void 0:null===(A=F.carryCapBags)||void 0===A?void 0:null===(_=A[0])||void 0===_?void 0:_.capacityPerSlot:16===l?null==F?void 0:F.questCompleted:17===l?Math.ceil((0,a.lavaLog)(null==F?void 0:null===(N=F.kills)||void 0===N?void 0:N[53])):18===l?null==F?void 0:F.level:19===l?Math.ceil((0,a.lavaLog)(null==F?void 0:null===(T=F.kills)||void 0===T?void 0:T[1])):20===l?Math.ceil((0,a.lavaLog)(null==F?void 0:null===(O=F.kills)||void 0===O?void 0:O[116])):21===l?Math.ceil((0,a.lavaLog)(null==F?void 0:null===(C=F.kills)||void 0===C?void 0:C[205])):22===l?Math.ceil((0,a.lavaLog)(null==E?void 0:E.maxDamage)):23===l?Math.ceil((0,a.lavaLog)(null==F?void 0:null===(W=F.kills)||void 0===W?void 0:W[158])):0};var c=n(51233),u=n(15861),v=n(93946),h=n(30509),p=n(82729),g=n(67720),x=n(61599),y=n(75934),w=n.n(y),m=n(40929),k=n(61436);function _templateObject(){let e=(0,p._)(["\n  width: 15px;\n  height: 15px;\n  object-fit: contain;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,p._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: none;\n  object-position: 0;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,p._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return _templateObject2=function(){return e},e}let f={"(ATTACK)":"error.light","(BUFF)":"info.light","(MISC)":"warning.light"},B=x.Z.img(_templateObject()),j=x.Z.img(_templateObject1()),Z=x.Z.img(_templateObject2());var World2_WeeklyBoss=e=>{var l;let{bossIndex:n,bossName:i,shopItems:t,triplets:r,date:d,account:v,characters:h}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.Z,{sx:{width:"100%"},direction:"row",alignItems:"center",gap:2,children:[(0,o.jsx)("img",{style:{width:50,height:50},src:"".concat(a.prefix,"etc/").concat(i,".png"),alt:""}),(0,o.jsxs)(c.Z,{children:[(0,o.jsx)(u.Z,{variant:"h4",children:(0,a.cleanUnderscore)(i)}),(0,o.jsx)(u.Z,{variant:"caption",children:(0,k.Z)(d)?(0,m.Z)(d,"dd/MM/yyyy HH:mm:ss"):null})]})]}),(0,o.jsx)(g.Z,{sx:{my:2}}),(0,o.jsx)(u.Z,{mb:1,variant:"h5",children:"Shop Items"}),(0,o.jsx)(c.Z,{direction:"row",gap:2,flexWrap:"wrap",children:null==t?void 0:t.map(e=>{let{name:l,rawName:n,x1:s}=e,i="FoodG"===n?"FoodG1":n;return(0,o.jsxs)(c.Z,{direction:"row",alignItems:"center",gap:2,children:[l.includes("_UI")?(0,o.jsx)(j,{src:"".concat(a.prefix,"data/").concat(i,".png"),alt:""}):(0,o.jsx)(Z,{src:"".concat(a.prefix,"data/").concat(i,".png"),alt:""}),(0,o.jsxs)(c.Z,{children:[(0,o.jsx)(u.Z,{children:(0,a.cleanUnderscore)(l)}),(0,o.jsxs)(c.Z,{gap:2,direction:"row",alignItems:"center",children:[(0,o.jsx)(B,{src:"".concat(a.prefix,"data/Trophie.png"),alt:""}),(0,o.jsx)(u.Z,{variant:"body1",children:s})]})]})]},n)})}),(0,o.jsx)(g.Z,{sx:{my:2}}),(0,o.jsxs)(c.Z,{mb:1,direction:"row",gap:2,alignItems:"center",children:[(0,o.jsxs)(c.Z,{children:[(0,o.jsx)(u.Z,{variant:"h5",children:"Actions"}),0===n?(0,o.jsxs)(u.Z,{variant:"caption",children:["Current turn: ",(null==v?void 0:null===(l=v.accountOptions)||void 0===l?void 0:l[185])+1]}):null]}),(0,o.jsx)(c.Z,{flexWrap:"wrap",direction:"row",children:null==r?void 0:r.map((e,l)=>{var s;let{task:i}=e;return l<=9?(0,o.jsx)(Z,{style:{border:0===n&&(null==v?void 0:null===(s=v.accountOptions)||void 0===s?void 0:s[185])===l?"1px solid #81c784":""},src:"".concat(a.prefix,"etc/Req_Icon_").concat(null==i?void 0:i.rawName,".png"),alt:""},"all-moves"+l):null})})]}),(0,o.jsx)(c.Z,{children:null==r?void 0:r.map((e,l)=>{var i,t,r,d;let{actions:p,task:x}=e;if(l>9)return null;let y=getTaskQuantity(l,null==x?void 0:x.taskIndex,v,h);return(0,o.jsxs)(s.Fragment,{children:[(0,o.jsxs)(c.Z,{mb:1,direction:"row",alignItems:"center",gap:2,children:[(0,o.jsx)(Z,{src:"".concat(a.prefix,"etc/Req_Icon_").concat(null==x?void 0:x.rawName,".png"),alt:""}),(0,o.jsxs)(c.Z,{children:[(0,o.jsx)(u.Z,{color:0===n&&(null==v?void 0:null===(i=v.accountOptions)||void 0===i?void 0:i[185])===l?"success.light":"text.primary",variant:"subtitle1",children:(0,a.cleanUnderscore)(null==x?void 0:null===(t=x.statText)||void 0===t?void 0:t.replace("{",y))}),(0,o.jsxs)(u.Z,{color:0===n&&(null==v?void 0:null===(r=v.accountOptions)||void 0===r?void 0:r[185])===l?"success.light":"text.primary",variant:"caption",children:["Turn: ",l+1,", by: ",null==h?void 0:null===(d=h[l])||void 0===d?void 0:d.name]})]})]}),(0,o.jsx)(c.Z,{gap:2,children:null==p?void 0:p.map((e,l)=>{let{description:n}=e;return(0,o.jsx)(u.Z,{variant:"body2",children:w()([{regex:/\(Attack\)|\(Buff\)|\(Misc\)/gi,fn:(e,n)=>(0,o.jsx)(u.Z,{variant:"body2",component:"span",sx:{color:null==f?void 0:f[n[0]]},children:n[0]},e+l)}])((0,a.cleanUnderscore)(n.replace("{","X")))},"action"+l)})}),(0,o.jsx)(g.Z,{sx:{my:2}})]},"triplets"+l)})})]})},M=n(41899),b=n(2511),weekly_bosses=()=>{let{state:e}=(0,s.useContext)(i.I),handleCopy=async e=>{try{await navigator.clipboard.writeText(JSON.stringify(e,null,2))}catch(e){console.error(e)}},l=(0,s.useMemo)(()=>getWeeklyBoss(null==e?void 0:e.account,null==e?void 0:e.characters),[null==e?void 0:e.account,null==e?void 0:e.characters]);return(null==l?void 0:l.length)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.Z,{direction:"row",gap:2,alignItems:"center",children:[(0,o.jsx)(u.Z,{variant:"h2",sx:{mb:3},children:"Weekly bosses"}),(0,o.jsx)(b.Z,{title:"Copy weekly bosses data",children:(0,o.jsx)(v.Z,{onClick:()=>handleCopy(l),children:(0,o.jsx)(M.Z,{})})})]}),(0,o.jsx)(h.Z,{tabs:null==l?void 0:l.map(e=>{let{bossName:l}=e;return(0,a.cleanUnderscore)(l)}),children:null==l?void 0:l.map((l,n)=>(0,o.jsx)(World2_WeeklyBoss,{...l,bossIndex:n,account:null==e?void 0:e.account,characters:null==e?void 0:e.characters},(null==l?void 0:l.bossName)+n))})]}):(0,o.jsx)("div",{children:"There is no random event data"})}},75934:function(e){"use strict";function processString(e){var l=0;function processInputWithRegex(e,n){if(!e.fn||"function"!=typeof e.fn||!e.regex||!(e.regex instanceof RegExp))return n;if("string"==typeof n){for(var o=e.regex,s=null,i=[];null!==(s=o.exec(n));){var t=s.index,r=s[0];i.push(n.substring(0,t)),i.push(e.fn(++l,s)),n=n.substring(t+r.length,n.length+1),o.lastIndex=0}return i.push(n),i}return Array.isArray(n)?n.map(function(l){return processInputWithRegex(e,l)}):n}return function(l){return e&&Array.isArray(e)&&e.length&&e.forEach(function(e){return l=processInputWithRegex(e,l)}),l}}e.exports=processString}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=57319)}),_N_E=e.O()}]);