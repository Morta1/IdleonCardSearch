(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1178],{20466:function(t,e,n){"use strict";n.d(e,{Z:function(){return getDay}});var i=n(19013),l=n(13882);function getDay(t){return(0,l.Z)(1,arguments),(0,i.Z)(t).getDay()}},33913:function(t,e,n){"use strict";n.d(e,{Z:function(){return isPast}});var i=n(19013),l=n(13882);function isPast(t){return(0,l.Z)(1,arguments),(0,i.Z)(t).getTime()<Date.now()}},49352:function(t,e,n){"use strict";n.d(e,{Z:function(){return isThursday}});var i=n(19013),l=n(13882);function isThursday(t){return(0,l.Z)(1,arguments),4===(0,i.Z)(t).getDay()}},85148:function(t,e,n){"use strict";n.d(e,{Z:function(){return nextThursday}});var i=n(77349),l=n(20466),o=n(13882);function nextThursday(t){return(0,o.Z)(1,arguments),function(t,e){(0,o.Z)(2,arguments);var n=4-(0,l.Z)(t);return n<=0&&(n+=7),(0,i.Z)(t,n)}(t,4)}},23284:function(t,e,n){"use strict";n.d(e,{Z:function(){return previousThursday}});var i=n(13882),l=n(20466),o=n(7069);function previousThursday(t){return(0,i.Z)(1,arguments),function(t,e){(0,i.Z)(2,arguments);var n=(0,l.Z)(t)-4;return n<=0&&(n+=7),(0,o.Z)(t,n)}(t,4)}},28366:function(t,e,n){"use strict";n.d(e,{Z:function(){return startOfToday}});var i=n(69119);function startOfToday(){return(0,i.Z)(Date.now())}},17598:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/misc/general",function(){return n(20828)}])},20828:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return general}});var i=n(85893),l=n(51233),o=n(77884),s=n(57404),r=n(15861),a=n(86736),c=n(5072);let d={style:{width:32,height:32,objectFit:"contain"}};var Misc_Currencies=t=>{var e;let{money:n=[],WorldTeleports:o,ObolFragments:u,ColosseumTickets:v,SilverPens:h,gems:x,KeysAll:j,minigamePlays:m}=t;return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(s.Z,{className:"box",money:n}),(0,i.jsx)(r.Z,{mt:2,mb:1,textAlign:"center",children:"Currencies"}),(0,i.jsxs)(l.Z,{flexWrap:"wrap",gap:1,justifyContent:"center",direction:"row",children:[(0,i.jsx)(a.M5,{title:"World Teleports",stat:o,icon:"rtt0",img:d}),(0,i.jsx)(a.M5,{title:"Obol Fragments",stat:u,icon:"ObolFrag",img:d}),(0,i.jsx)(c.Z,{title:(0,i.jsx)(l.Z,{gap:2,children:null==v?void 0:null===(e=v.allTickets)||void 0===e?void 0:e.map((t,e)=>{let{rawName:n,amount:o,totalAmount:s,amountPerDay:r,daysSincePickup:c}=t;return(0,i.jsxs)(l.Z,{direction:"row",gap:1,children:[(0,i.jsx)(l.Z,{children:(0,i.jsx)(a.M5,{stat:"",icon:n,img:d})}),(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(a.uQ,{title:"Tickets Per Day",value:r}),(0,i.jsx)(a.uQ,{title:"Days Since Pickup",value:isNaN(c)?0:c}),(0,i.jsx)(a.uQ,{title:"Total Keys",value:isNaN(s)?0:s})]})]},"".concat(n,"-").concat(e))})}),children:(0,i.jsx)(a.M5,{stat:null==v?void 0:v.totalAmount,icon:"TixCol",img:d})}),(0,i.jsx)(a.M5,{title:"Silver Pens",stat:h,icon:"SilverPen",img:d}),(0,i.jsx)(a.M5,{title:"Gems",stat:x,icon:"PremiumGem",img:d}),(0,i.jsx)(a.M5,{title:"Minigame Plays",stat:m,img:d,icon:"MGp"}),null==j?void 0:j.map((t,e)=>{let{rawName:n,amount:o,totalAmount:s,amountPerDay:r,daysSincePickup:u}=t;return(0,i.jsx)(c.Z,{title:(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(a.uQ,{title:"Keys Per Day",value:r}),(0,i.jsx)(a.uQ,{title:"Days Since Pickup",value:isNaN(u)?0:u}),(0,i.jsx)(a.uQ,{title:"Total Keys",value:isNaN(s)?0:s})]}),children:(0,i.jsx)(a.M5,{stat:o,icon:n,img:d})},"".concat(n,"-").concat(e))})]})]})},u=n(30925),v=n(83014),h=n(70473),x=n(9137);let ShrineTooltip=t=>{let{name:e,description:n,shrineLevel:l,progress:o,mapId:s,affectingCharacters:a,progressPerHour:c}=t,d=Math.floor(20*(l-1)+6*l*Math.pow(1.63,l-1));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.Z,{fontWeight:"bold",variant:"h5",children:[(0,u.cleanUnderscore)(e)," Lv.",l]}),(0,i.jsx)(r.Z,{variant:"body1",children:n}),(0,i.jsxs)(r.Z,{fontWeight:"bold",variant:"body1",children:["Map: ",(0,u.cleanUnderscore)(h.mapNames[s])]}),(0,i.jsx)(r.Z,{fontWeight:"bold",children:"Progress:"}),(0,i.jsx)(v.Z,{percent:o/d*100,label:!1}),(0,i.jsxs)(r.Z,{variant:"body1",children:[(0,u.numberWithCommas)(parseInt(o))," / ",(0,u.numberWithCommas)(parseInt(d))]}),(0,i.jsx)(r.Z,{sx:{fontWeight:"bold"},mt:1,children:"Affected by:"}),(0,i.jsx)(r.Z,{variant:"body1",children:null==a?void 0:a.join(", ")}),(0,i.jsxs)(r.Z,{sx:{fontWeight:"bold"},mt:1,children:[c.toFixed(2),"/hr"]}),(0,i.jsx)(x.Z,{date:new Date().getTime()+(d-o)/c*36e5,staticTime:!0})]})};var World3_Shrines=t=>{let{shrines:e,shrinesExpBonus:n}=t;return(0,i.jsx)(l.Z,{sx:{height:"fit-content"},justifyContent:"center",direction:"row",flexWrap:"wrap",gap:2,children:null==e?void 0:e.map((t,e)=>{var l,o,s;let{name:r,rawName:d,shrineLevel:v,desc:h,bonus:x}=t,j=null==n?void 0:null===(o=n.breakdown)||void 0===o?void 0:null===(l=o[e])||void 0===l?void 0:l.reduce((t,e)=>{let{name:n,value:i}=e;return i>0?[...t,n]:t},[]),m=null==n?void 0:null===(s=n.total)||void 0===s?void 0:s[e],p=(0,u.cleanUnderscore)(null==h?void 0:h.replace("{",(0,u.kFormatter)(x,2)));return(0,i.jsx)(c.Z,{title:(0,i.jsx)(ShrineTooltip,{...t,affectingCharacters:j,progressPerHour:m,description:p}),children:(0,i.jsx)(a.M5,{stat:v,icon:d,img:{style:{width:50,height:50}}})},r+e)})})},j=n(98216),m=n(87357),p=n(74861);let StatueTooltip=t=>{let{effect:e,bonus:n,talentMulti:o,name:s,rawName:c,level:d,progress:h,statues:x,characters:m}=t,Z=d*n*o,g=Math.round(Math.pow(d,1.17)*Math.pow(1.35,d/10)+1),f=(0,u.cleanUnderscore)((0,u.pascalCase)(null==e?void 0:e.replace(/(%?)(@)/,"$2$1_").replace("@",Math.floor(10*Z)/10)));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Z,{fontWeight:"bold",variant:"h5",children:(0,j.Z)((0,u.cleanUnderscore)(s.toLowerCase()))}),(0,i.jsx)(r.Z,{variant:"body1",children:f}),(0,i.jsx)(v.Z,{percent:h/g*100,label:!1}),(0,i.jsxs)(r.Z,{variant:"body2",children:[(0,u.notateNumber)(h,"Big")," / ",(0,u.notateNumber)(g,"Big")]}),(0,i.jsxs)(r.Z,{my:2,component:"div",variant:"caption",children:["Voodo Statufication: ",(0,u.notateNumber)(o,"MultiplierInfo"),"x"]}),(0,i.jsx)(l.Z,{children:null==m?void 0:m.map(t=>{let{name:e,talents:n}=t,l=(0,p.U6)(x,c,n);return(0,i.jsx)(a.uQ,{title:e,value:Math.floor(10*l)/10},e)})})]})};var World1_Statues=t=>{let{statues:e,characters:n}=t;return(0,i.jsx)(l.Z,{sx:{height:"fit-content"},flexWrap:"wrap",direction:"row",justifyContent:"center",gap:2,children:null==e?void 0:e.map((t,l)=>{let{name:o,rawName:s,level:r}=t;return(0,i.jsx)(m.Z,{children:(0,i.jsx)(c.Z,{title:(0,i.jsx)(StatueTooltip,{...t,statues:e,characters:n}),children:(0,i.jsx)(a.M5,{stat:r,icon:s,img:{style:{width:40,height:50,objectFit:"contain"}}})})},o+l)})})},Z=n(7906),g=n(295),f=n(53252),b=n(72882),T=n(53184),y=n(53816),S=n(67294);let Tablee=t=>{let{title:e,rows:n}=t;return(0,i.jsx)(b.Z,{children:(0,i.jsxs)(Z.Z,{"aria-label":"simple table",children:[(0,i.jsx)(T.Z,{children:(0,i.jsxs)(y.Z,{children:[(0,i.jsx)(f.Z,{children:e}),(0,i.jsx)(f.Z,{children:"Score"})]})}),(0,i.jsx)(g.Z,{children:n.sort((t,e)=>e.score-t.score).map(t=>(0,i.jsxs)(y.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,i.jsx)(f.Z,{sx:{p:1},component:"th",scope:"row",children:t.name}),(0,i.jsx)(f.Z,{sx:{p:1},component:"th",scope:"row",children:(0,u.numberWithCommas)(parseInt(t.score))})]},t.name))})]})})};var Misc_Highscores=t=>{let{title:e,highscore:n}=t;return(0,i.jsx)(l.Z,{gap:1.5,justifyContent:"center",children:(0,i.jsx)(Tablee,{title:e,rows:n})})},M=n(1972);let TotalStat=t=>{let{text:e,icon:n,stat:o}=t;return(0,i.jsxs)(l.Z,{direction:"row",alignItems:"center",gap:1.5,children:[(0,i.jsx)("img",{style:{width:35,height:35},src:"".concat(u.prefix,"data/").concat(n,".png"),alt:""}),(0,i.jsxs)(r.Z,{variant:"body1",component:"span",children:[e," :"]}),(0,i.jsx)(c.Z,{title:o,children:(0,i.jsx)(r.Z,{variant:"body1",component:"span",children:(0,u.notateNumber)(o)})})]})};var Misc_Totals=t=>{var e,n,o,s,a,c,d,u,v,h,x,j,m,p,Z,g,f,b,T,y,w;let{account:_}=t,calcBubbleLevels=t=>{var e;return t?null===(e=Object.values(t))||void 0===e?void 0:e.reduce((t,e)=>t+(null==e?void 0:e.reduce((t,e)=>{let{level:n}=e;return t+n},0)),0):0},calcStatueLevels=t=>{var e;return t?null===(e=Object.values(t))||void 0===e?void 0:e.reduce((t,e)=>{let{level:n}=e;return t+n},0):0},calcShrineLevels=t=>{var e;return t?null===(e=Object.values(t))||void 0===e?void 0:e.reduce((t,e)=>{let{shrineLevel:n}=e;return t+n},0):0},k=(0,S.useMemo)(()=>{var t;return calcBubbleLevels(null==_?void 0:null===(t=_.alchemy)||void 0===t?void 0:t.bubbles)},[_]),C=(0,S.useMemo)(()=>(0,M.bL)(null==_?void 0:_.stamps),[_]),P=(0,S.useMemo)(()=>calcStatueLevels(null==_?void 0:_.statues),[_]),N=(0,S.useMemo)(()=>calcShrineLevels(null==_?void 0:_.shrines),[_]);return(0,i.jsxs)(l.Z,{gap:1,children:[(0,i.jsx)(r.Z,{variant:"h5",children:"Totals"}),(0,i.jsx)(TotalStat,{text:"Total Bubbles",icon:"aBrewOptionA0",stat:k}),(0,i.jsx)(TotalStat,{text:"Total Stamps",icon:"StampA34",stat:C}),(0,i.jsx)(TotalStat,{text:"Total Statues",icon:"EquipmentStatues1",stat:P}),(0,i.jsx)(TotalStat,{text:"Total Shrines",icon:"UISkillIcon639",stat:N}),(0,i.jsx)(TotalStat,{text:"Highest Damage",icon:"StampA8",stat:null==_?void 0:null===(o=_.tasks)||void 0===o?void 0:null===(n=o[0])||void 0===n?void 0:null===(e=n[1])||void 0===e?void 0:e[0]}),(0,i.jsx)(TotalStat,{text:"PO Orders",icon:"DeliveryBox",stat:null==_?void 0:null===(c=_.tasks)||void 0===c?void 0:null===(a=c[0])||void 0===a?void 0:null===(s=a[1])||void 0===s?void 0:s[5]}),(0,i.jsx)(TotalStat,{text:"Monsters Killed",icon:"UISkillIcon110",stat:null==_?void 0:null===(v=_.tasks)||void 0===v?void 0:null===(u=v[0])||void 0===u?void 0:null===(d=u[0])||void 0===d?void 0:d[0]}),(0,i.jsx)(TotalStat,{text:"Refined Salts",icon:"TaskSc6",stat:null==_?void 0:null===(j=_.tasks)||void 0===j?void 0:null===(x=j[0])||void 0===x?void 0:null===(h=x[2])||void 0===h?void 0:h[0]}),(0,i.jsx)(TotalStat,{text:"Total Mats Printed",icon:"PrintSlot",stat:null==_?void 0:null===(Z=_.tasks)||void 0===Z?void 0:null===(p=Z[0])||void 0===p?void 0:null===(m=p[2])||void 0===m?void 0:m[3]}),(0,i.jsx)(TotalStat,{text:"Trashed Cogs",icon:"Cog3B4",stat:null==_?void 0:null===(b=_.tasks)||void 0===b?void 0:null===(f=b[0])||void 0===f?void 0:null===(g=f[2])||void 0===g?void 0:g[1]}),(0,i.jsx)(TotalStat,{text:"Plants Picked",icon:"GamingPlant1",stat:null==_?void 0:null===(w=_.tasks)||void 0===w?void 0:null===(y=w[0])||void 0===y?void 0:null===(T=y[4])||void 0===T?void 0:T[3]})]})},w=n(23513),_=n(2962),general=()=>{var t,e,n,s,r,a,c,d,u;let{state:v}=(0,S.useContext)(w.I);return(0,i.jsxs)(m.Z,{sx:{width:"100%"},children:[(0,i.jsx)(_.PB,{title:"General | Idleon Toolbox",description:"General account information"}),(0,i.jsxs)(l.Z,{sx:{"& > div":{maxWidth:300}},gap:2,justifyContent:"center",direction:"row",flexWrap:"wrap",children:[(0,i.jsx)(o.Z,{obols:null==v?void 0:null===(t=v.account)||void 0===t?void 0:t.obols,type:"account"}),(0,i.jsx)(Misc_Currencies,{...(null==v?void 0:null===(e=v.account)||void 0===e?void 0:e.currencies)||{}}),(0,i.jsx)(World3_Shrines,{shrines:null==v?void 0:null===(n=v.account)||void 0===n?void 0:n.shrines,shrinesExpBonus:null==v?void 0:null===(s=v.account)||void 0===s?void 0:s.shrinesExpBonus}),(0,i.jsx)(World1_Statues,{statues:null==v?void 0:null===(r=v.account)||void 0===r?void 0:r.statues,characters:null==v?void 0:v.characters}),(0,i.jsxs)(l.Z,{gap:1.5,children:[(0,i.jsx)(Misc_Highscores,{title:"Colosseum",highscore:null==v?void 0:null===(c=v.account)||void 0===c?void 0:null===(a=c.highscores)||void 0===a?void 0:a.coloHighscores}),(0,i.jsx)(Misc_Highscores,{title:"Minigame",highscore:null==v?void 0:null===(u=v.account)||void 0===u?void 0:null===(d=u.highscores)||void 0===d?void 0:d.minigameHighscores})]}),(0,i.jsx)(Misc_Totals,{account:null==v?void 0:v.account})]})]})}}},function(t){t.O(0,[5127,2307,7896,8054,3325,9774,2888,179],function(){return t(t.s=17598)}),_N_E=t.O()}]);