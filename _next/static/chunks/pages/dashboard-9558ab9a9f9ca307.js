!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=(new e.Error).stack;l&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[l]="d124054e-48e2-4454-a357-4f58f9599626",e._sentryDebugIdIdentifier="sentry-dbid-d124054e-48e2-4454-a357-4f58f9599626")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{81840:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(81604)}])},12092:function(e,l,n){"use strict";var t=n(82729),i=n(85893),o=n(51233),d=n(23972),a=n(65298),r=n(40929),s=n(61436);n(67294);var c=n(61599);function _templateObject(){let e=(0,t._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return _templateObject=function(){return e},e}let u=c.Z.img(_templateObject());l.Z=e=>{let{eventName:l,mapName:n,date:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,i.jsx)(u,{src:"".concat(a.prefix,"etc/").concat(l,".png"),alt:""}),(0,i.jsx)(d.Z,{color:null===a.eventsColors||void 0===a.eventsColors?void 0:a.eventsColors[l],children:(0,a.cleanUnderscore)(l)})]}),(0,i.jsx)(d.Z,{children:(0,a.cleanUnderscore)(n)}),(0,s.Z)(t)?(0,r.Z)(t,"dd/MM/yyyy HH:mm:ss"):null]})}},31351:function(e,l,n){"use strict";var t=n(85893),i=n(67294),o=n(83321),d=n(65298);l.Z=e=>{let{children:l,onFileUpload:n}=e,a=(0,i.useRef)(null);return(0,t.jsxs)("div",{"data-sentry-component":"FileUploadButton","data-sentry-source-file":"DownloadButton.jsx",children:[(0,t.jsx)("input",{style:{display:"none"},ref:a,type:"file",onChange:e=>{let l=e.target.files[0];if(l){let e=new FileReader;e.onload=e=>{let l=(0,d.tryToParse)(e.target.result);"string"!=typeof l&&(null==n||n(l),a.current.value="")},e.readAsText(l)}}}),(0,t.jsx)(o.Z,{onClick:()=>{a.current.click()},variant:"outlined",size:"small","data-sentry-element":"Button","data-sentry-source-file":"DownloadButton.jsx",children:l})]})}},81604:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return dashboard}});var t=n(85893),i=n(67294),o=n(58437),d=n(98396),a=n(51233),r=n(33454),s=n(96420),c=n(87357),u=n(82729),v=n(66242),h=n(44267),p=n(23972),m=n(67720),g=n(65298),x=n(61599),y=n(74612),f=n(76972),j=n(69690),k=n(33913),b=n(57532),w=n(94978),C=n(29529),T=n(64194),S=n(12963),Z=n(34500);let isTalentReady=(e,l)=>{var n;let{talents:t}=l,{postOffice:i,afkTime:o,cooldowns:d,flatTalents:a}=e;(0,b.xV)(i,"Magician_Starterpack",2);let r=(new Date().getTime()-o)/1e3;return d?null===(n=Object.entries(d||{}))||void 0===n?void 0:n.reduce((e,l)=>{var n,i,o,d;let[s,c]=l;if(!S.RL[s])return e;let u=null==a?void 0:a.find(e=>{let{talentId:l}=e;return parseInt(s)===l}),v=null===(n=Object.entries((null==t?void 0:null===(o=t.talents)||void 0===o?void 0:null===(i=o.props)||void 0===i?void 0:i.value)||{}))||void 0===n?void 0:n.reduce((e,l)=>{var n,t;let[i,o]=l;return{...e,[null===(t=i.camelToTitleCase())||void 0===t?void 0:null===(n=t.replace(/ /g,"_"))||void 0===n?void 0:n.toUpperCase()]:o}},{});if(!u||!(null==v?void 0:v[null==u?void 0:u.name]))return e;let h=c-r,p=h<0?h:new Date().getTime()+1e3*h;return(null==t?void 0:null===(d=t.alwaysShowTalents)||void 0===d?void 0:d.checked)||(0,k.Z)(p)?[...e,{name:null==u?void 0:u.name,skillIndex:null==u?void 0:u.skillIndex,cooldown:p}]:e},[]):[]},crystalCooldownSkillsReady=e=>{if((0,S.gW)(null==e?void 0:e.class,"Maestro")){var l;return null===(l=Object.entries((null==e?void 0:e.skillsInfo)||{}))||void 0===l?void 0:l.reduce((l,n)=>{let[t,i]=n;if((null==i?void 0:i.index)<10&&"character"!==t){let n=(0,S._X)(null==e?void 0:e.talents,2,"CRYSTAL_COUNTDOWN",null,null,e.addedLevels,!0),o=(0,C.O4)(null==i?void 0:i.index,null==i?void 0:i.level),d=(1-(null==i?void 0:i.expReq)/o)*100;return[...l,{name:t,...i,crystalCountdown:n,reduction:(null==i?void 0:i.level)>0?d:0,ready:(null==i?void 0:i.level)>0&&d>0}]}return l},[])}},hasAvailableToolUpgrade=(e,l)=>{var n,t,i,o,d,a,r,s,c,u,v,h,p;let m=(0,Z.w$)(),g=null==e?void 0:null===(n=e.tools)||void 0===n?void 0:n.slice(0,6),x=[null==e?void 0:null===(i=e.skillsInfo)||void 0===i?void 0:null===(t=i.mining)||void 0===t?void 0:t.level,null==e?void 0:null===(d=e.skillsInfo)||void 0===d?void 0:null===(o=d.chopping)||void 0===o?void 0:o.level,null==e?void 0:null===(r=e.skillsInfo)||void 0===r?void 0:null===(a=r.fishing)||void 0===a?void 0:a.level,null==e?void 0:null===(c=e.skillsInfo)||void 0===c?void 0:null===(s=c.catching)||void 0===s?void 0:s.level,null==e?void 0:null===(v=e.skillsInfo)||void 0===v?void 0:null===(u=v.trapping)||void 0===u?void 0:u.level,null==e?void 0:null===(p=e.skillsInfo)||void 0===p?void 0:null===(h=p.worship)||void 0===h?void 0:h.level];return null==g?void 0:g.reduce((e,l,n)=>{let t=null==x?void 0:x[n],i=(null==m?void 0:m[n])||[],o=Array.isArray(i)?null==i?void 0:i.findLast(e=>{let{lvReqToEquip:l}=e;return t>=l}):null;return o&&(null==o?void 0:o.displayName)!==(null==l?void 0:l.name)&&e.push(o),e},[])};var I=n(74721),D=n(53265),W=n(27496),O=n(44098),A=n(96719);function _templateObject(){let e=(0,u._)(["\n  width: 30px;\n  height: 30px;\n  object-fit: contain;\n"]);return _templateObject=function(){return e},e}let N={anvil:(e,l,n,t,i)=>{var o,d,a,r,s,c,u,v,h,p;let m={};if(null==i?void 0:null===(d=i.anvil)||void 0===d?void 0:null===(o=d.missingHammers)||void 0===o?void 0:o.checked){let t=null==n?void 0:null===(u=n.equippedBubbles)||void 0===u?void 0:u.find(e=>{let{bubbleName:l}=e;return"HAMMER_HAMMER"===l}),{production:i}=(0,T.eW)(null==l?void 0:l[null==n?void 0:n.playerId],l,e),o=null==i?void 0:i.filter(e=>{let{hammers:l}=e;return l>0}),d=null==o?void 0:o.reduce((e,l)=>{let{hammers:n}=l;return e+n},0);m.missingHamemrs=(t?3:2)-d}if((null==i?void 0:null===(r=i.anvil)||void 0===r?void 0:null===(a=r.unspentPoints)||void 0===a?void 0:a.checked)&&(m.unspentPoints=null==n?void 0:null===(h=n.anvil)||void 0===h?void 0:null===(v=h.anvilStats)||void 0===v?void 0:v.availablePoints),null==i?void 0:null===(c=i.anvil)||void 0===c?void 0:null===(s=c.anvilOverdue)||void 0===s?void 0:s.checked){let{anvil:t}=i||{},{stats:o,production:d}=(0,T.eW)(null==l?void 0:l[null==n?void 0:n.playerId],l,e),a=null==d?void 0:null===(p=d.filter(e=>{let{hammers:l}=e;return l>0}))||void 0===p?void 0:p.map(e=>{var l;let t=1e3*(0,T.MH)({...e,stats:o,afkTime:null==n?void 0:n.afkTime});return{date:new Date().getTime()+t,name:null===w.items||void 0===w.items?void 0:null===(l=w.items[null==e?void 0:e.rawName])||void 0===l?void 0:l.displayName,rawName:null==e?void 0:e.rawName}});m.anvilOverdue=null==a?void 0:a.map(e=>{let{date:l,name:n,rawName:t}=e,i=new Date(l-1);return{diff:(0,j.Z)(i,new Date),name:n,rawName:t}}).filter(e=>{var l;let{diff:n}=e;return(null==t?void 0:null===(l=t.showAlertBeforeFull)||void 0===l?void 0:l.checked)?n<=60:n<=0})}return m},worship:(e,l,n,t,i)=>{var o,d,a,r,s,c,u,v,h;let p={};if(!(null==e?void 0:null===(o=e.finishedWorlds)||void 0===o?void 0:o.World2))return p;if(null==i?void 0:null===(a=i.worship)||void 0===a?void 0:null===(d=a.unendingEnergy)||void 0===d?void 0:d.checked){let e=new Date().getTime()+((null==n?void 0:n.afkTime)-t),l=(0,j.Z)(new Date,new Date(e));if(l>=5){let l=null==n?void 0:null===(c=n.activePrayers)||void 0===c?void 0:c.find(e=>{let{name:l}=e;return"Unending_Energy"===l}),t=(0,f.Z)(new Date,new Date(e));p.unendingEnergy=l&&t>10}}if(null==i?void 0:null===(s=i.worship)||void 0===s?void 0:null===(r=s.chargeOverdue)||void 0===r?void 0:r.checked){let e=5*(null==n?void 0:null===(u=n.worship)||void 0===u?void 0:u.maxCharge)/100;p.chargeOverdue=(null==n?void 0:null===(v=n.worship)||void 0===v?void 0:v.currentCharge)>=(null==n?void 0:null===(h=n.worship)||void 0===h?void 0:h.maxCharge)-e}return p},traps:(e,l,n,t,i)=>{var o,d,a,r,s,c,u,v,h,p,m,g,x,y,f,j,b;let w={};if(!(null==e?void 0:null===(o=e.finishedWorlds)||void 0===o?void 0:o.World2))return w;if(null==i?void 0:null===(a=i.traps)||void 0===a?void 0:null===(d=a.missingTraps)||void 0===d?void 0:d.checked){let l=null==e?void 0:null===(c=e.traps)||void 0===c?void 0:c[null==n?void 0:n.playerId],t=(null==n?void 0:null===(v=n.tools)||void 0===v?void 0:null===(u=v[4])||void 0===u?void 0:u.rawName)!=="Blank"?null==n?void 0:null===(h=n.tools)||void 0===h?void 0:h[4]:null,i=null==e?void 0:null===(x=e.alchemy)||void 0===x?void 0:null===(g=x.bubbles)||void 0===g?void 0:null===(m=g.quicc)||void 0===m?void 0:null===(p=m.find(e=>{let{bubbleName:l}=e;return"CALL_ME_ASH"===l}))||void 0===p?void 0:p.level,o=t?parseInt(null!==(j=null==t?void 0:null===(f=t.rawName)||void 0===f?void 0:f.charAt((null==t?void 0:null===(y=t.rawName)||void 0===y?void 0:y.length)-1))&&void 0!==j?j:0)+(i>0?1:0):null==l?void 0:l.length;w.missingTraps=(null==l?void 0:l.length)<Math.min(o,8)}return(null==i?void 0:null===(s=i.traps)||void 0===s?void 0:null===(r=s.trapsOverdue)||void 0===r?void 0:r.checked)&&(w.trapsOverdue=null==e?void 0:null===(b=e.traps)||void 0===b?void 0:b[null==n?void 0:n.playerId].some(e=>(0,k.Z)(null==e?void 0:e.timeLeft))),w},alchemy:(e,l,n,t,i)=>{var o,d,a,r,s,c,u;let v={};if(null==i?void 0:null===(d=i.alchemy)||void 0===d?void 0:null===(o=d.bubbles)||void 0===o?void 0:o.checked){let l=null==e?void 0:null===(c=e.accountOptions)||void 0===c?void 0:c[89],t=null===w.randomList||void 0===w.randomList?void 0:w.randomList[53],i=(0,C.bV)(l,t,11);v.missingBubbles=(null==n?void 0:null===(u=n.equippedBubbles)||void 0===u?void 0:u.length)<(i?3:2)}return(null==e?void 0:null===(s=e.alchemy)||void 0===s?void 0:null===(r=s.activities)||void 0===r?void 0:null===(a=r[null==n?void 0:n.playerId])||void 0===a?void 0:a.activity)===-1&&(v.noActivity=!0),v},obols:(e,l,n,t,i)=>{var o,d,a,r,s;let c={};return(null==e?void 0:null===(o=e.finishedWorlds)||void 0===o?void 0:o.World1)&&(null==i?void 0:null===(a=i.obols)||void 0===a?void 0:null===(d=a.missingObols)||void 0===d?void 0:d.checked)&&(c.missingObols=null==n?void 0:null===(s=n.obols)||void 0===s?void 0:null===(r=s.list)||void 0===r?void 0:r.filter(e=>{let{rawName:l}=e;return"Blank"===l})),c},postOffice:(e,l,n,t,i)=>{var o,d,a,r,s,c,u;let v={};if(!(null==e?void 0:null===(o=e.finishedWorlds)||void 0===o?void 0:o.World1))return v;if(null==i?void 0:null===(a=i.postOffice)||void 0===a?void 0:null===(d=a.unspentPoints)||void 0===d?void 0:d.checked){let e=parseInt(null==i?void 0:null===(c=i.postOffice)||void 0===c?void 0:null===(s=c.unspentPoints)||void 0===s?void 0:null===(r=s.props)||void 0===r?void 0:r.value);v.unspentPoints=(null==n?void 0:null===(u=n.postOffice)||void 0===u?void 0:u.unspentPoints)>(null!=e?e:0)&&(null==n?void 0:n.postOffice.boxes.some(e=>{let{level:l,maxLevel:n}=e;return l<n}))}return v},starSigns:(e,l,n,t,i)=>{var o,d,a,r;let s={};if(null==i?void 0:null===(d=i.starSigns)||void 0===d?void 0:null===(o=d.missingStarSigns)||void 0===o?void 0:o.checked){let l=null==e?void 0:null===(a=e.starSigns)||void 0===a?void 0:a.reduce((e,l)=>{let{starName:n,unlocked:t}=l;return n.includes("Chronus_Cosmos")&&t?e<2?2:e:n.includes("Hydron_Cosmos")&&t&&e<3?3:e},1);s.missingStarSigns=l-(null==n?void 0:null===(r=n.starSigns)||void 0===r?void 0:r.length)}return s},crystalCountdown:(e,l,n,t,i)=>crystalCooldownSkillsReady(n,i),tools:(e,l,n)=>hasAvailableToolUpgrade(n,e),talents:(e,l,n,t,i)=>isTalentReady(n,i),cards:(e,l,n,t,i)=>{var o,d,a,r,s;let c={};if(null==i?void 0:null===(d=i.cards)||void 0===d?void 0:null===(o=d.cardSet)||void 0===o?void 0:o.checked){let e=null==n?void 0:null===(a=n.cards)||void 0===a?void 0:a.cardSet,l=(0,g.cleanUnderscore)(null==e?void 0:e.effect).replace("{","");(null==n?void 0:n.level)>=50&&(null==e?void 0:e.rawName)==="CardSet0"?c.cardSet={text:"".concat(n.name," has Blunder hill card set equipped which is for level < 50")}:"FIGHTING"===n.afkType&&((null==e?void 0:e.rawName)==="CardSet2"||(null==e?void 0:e.rawName)==="CardSet3"||(null==e?void 0:e.rawName)==="CardSet5"||(null==e?void 0:e.rawName)==="CardSet7")?c.cardSet={text:"".concat(n.name," is fighting but has skilling card set (").concat(l,")")}:"FIGHTING"!==n.afkType&&"Nothing"!==n.afkType&&"Paying_Respect"!==n.afkType&&((null==e?void 0:e.rawName)==="CardSet4"||(null==e?void 0:e.rawName)==="CardSet6"||(null==e?void 0:e.rawName)==="CardSet8"||(null==e?void 0:e.rawName)==="CardSet7"||(null==e?void 0:e.rawName)==="CardSet26")&&(c.cardSet={text:"".concat(n.name," is skilling but has fighting card set (").concat(l,")")});let t=null==n?void 0:null===(s=n.cards)||void 0===s?void 0:null===(r=s.equippedCards)||void 0===r?void 0:r.filter(e=>{let{effect:l}=e;return null==l?void 0:l.includes("(Passive)")});(null==t?void 0:t.length)>0&&(c.passiveCards=!0)}return c},divinityStyle:(e,l,n,t,i)=>{var o,d,a,r,s,c,u,v;if(!i.divinityStyle.checked)return null;let h=(null==n?void 0:n.afkTarget)==="Divinity"||(null==n?void 0:n.afkTarget)==="Laboratory"&&((null==e?void 0:null===(d=e.divinity)||void 0===d?void 0:null===(o=d.linkedDeities)||void 0===o?void 0:o[null==n?void 0:n.playerId])===4||(null==n?void 0:n.secondLinkedDeityIndex)===4||(0,C.fe)(e,0));return h&&(null==n?void 0:null===(r=n.skillsInfo)||void 0===r?void 0:null===(a=r.divinity)||void 0===a?void 0:a.level)>=80&&(null==n?void 0:null===(s=n.divStyle)||void 0===s?void 0:s.name)!=="Mindful"?{text:"doesn't have mindful style equipped",icon:"Div_Style_7"}:!h&&(null==n?void 0:null===(u=n.skillsInfo)||void 0===u?void 0:null===(c=u.divinity)||void 0===c?void 0:c.level)>=40&&(null==n?void 0:null===(v=n.divStyle)||void 0===v?void 0:v.name)!=="TranQi"?{text:"doesn't have tranQi style equipped",icon:"Div_Style_5"}:null},equipment:(e,l,n,t,i)=>{var o,d;let a={};return(null==i?void 0:null===(d=i.equipment)||void 0===d?void 0:null===(o=d.availableUpgradesSlots)||void 0===o?void 0:o.checked)&&(a.availableUpgradesSlots=[...(null==n?void 0:n.equipment)||[],...(null==n?void 0:n.tools)||[]].reduce((e,l)=>!((null==l?void 0:l.Upgrade_Slots_Left)>0)||(null==l?void 0:l.Type)==="PREMIUM_HELMET"||(null==l?void 0:l.Type)==="CHAT_RING"||(null==l?void 0:l.Premiumified)?e:[...e,l],[])),a}},Alert=e=>{let{title:l,iconPath:n,style:i={},extra:o}=e;return(0,t.jsxs)(a.Z,{sx:{position:"relative"},"data-sentry-element":"Stack","data-sentry-component":"Alert","data-sentry-source-file":"Characters.jsx",children:[(0,t.jsx)(y.Z,{title:l,"data-sentry-element":"HtmlTooltip","data-sentry-source-file":"Characters.jsx",children:(0,t.jsx)(_,{style:i,src:"".concat(g.prefix).concat(n,".png"),alt:"","data-sentry-element":"IconImg","data-sentry-source-file":"Characters.jsx"})}),o]})},CharacterInfo=e=>{var l,n,o;let{account:d,characters:r,character:s,lastUpdated:c}=e,{name:u,stats:v,afkTime:h,crystalSpawnChance:x,nonConsumeChance:y}=s||{},{cashMulti:f}=(0,i.useMemo)(()=>(0,O.bv)(s,d,r)||{},[s,d]),{dropRate:k}=(0,i.useMemo)(()=>(0,O.VK)(s,d,r)||{},[s,d]),{respawnRate:b}=(0,i.useMemo)(()=>(0,O.P9)(s,d)||{},[s,d]),{afkGains:w}=(0,i.useMemo)(()=>(0,O.WU)(s,r,d),[s,d]),C=(0,i.useMemo)(()=>(0,A.m)(s,r,d),[s,d]);return(0,t.jsxs)(a.Z,{gap:1,"data-sentry-element":"Stack","data-sentry-component":"CharacterInfo","data-sentry-source-file":"Characters.jsx",children:[(0,t.jsx)(W.uQ,{title:u,value:"lv. ".concat((null==v?void 0:v.level)||0),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(W.uQ,{title:"Afk time",value:(()=>{let e=new Date().getTime()+(h-c),l=(0,j.Z)(new Date,new Date(e));return l<=5})()?(0,t.jsx)(p.Z,{children:"Active"}):(0,t.jsx)(D.Z,{type:"up",date:h,lastUpdated:c}),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(m.Z,{flexItem:!0,sx:{background:"black"},"data-sentry-element":"Divider","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(W.uQ,{title:"Damage",value:null===(n=(0,A.C)(C))||void 0===n?void 0:null===(l=n.at(0))||void 0===l?void 0:l.replace(/\[/g,"M"),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(W.uQ,{title:"Hp",value:(0,g.notateNumber)(null==C?void 0:C.maxHp),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(W.uQ,{title:"Mp",value:(0,g.notateNumber)(null==C?void 0:C.maxMp),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(W.uQ,{title:"Accuracy",value:(0,g.notateNumber)(null==C?void 0:C.accuracy),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(W.uQ,{title:"Movement Speed",value:(0,g.notateNumber)(null==C?void 0:C.movementSpeed),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(m.Z,{flexItem:!0,sx:{background:"black"},"data-sentry-element":"Divider","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(W.uQ,{title:"Cash multi",value:"".concat((0,g.notateNumber)(f),"%"),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(W.uQ,{title:"Drop rate",value:"".concat((0,g.notateNumber)(k,"MultiplierInfo"),"x"),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(W.uQ,{title:"Respawn rate",value:"".concat((0,g.notateNumber)(b,"MultiplierInfo"),"%"),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(W.uQ,{title:"Afk gains",value:"".concat((0,g.notateNumber)(100*w,"MultiplierInfo"),"%"),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(W.uQ,{title:"Crystal Chance",value:1/(null==x?void 0:x.value)<100?"".concat(null===(o=(0,g.notateNumber)((null==x?void 0:x.value)*100,"MultiplierInfo"))||void 0===o?void 0:o.replace(".00",""),"%"):"1 in ".concat(Math.floor(1/(null==x?void 0:x.value))),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"}),(0,t.jsx)(W.uQ,{title:"Non consume chance",value:"".concat((0,g.kFormatter)(y,2),"%"),"data-sentry-element":"TitleAndValue","data-sentry-source-file":"Characters.jsx"})]})},_=x.Z.img(_templateObject());var dashboard_Characters=e=>{let{characters:l=[],account:n,lastUpdated:i,trackers:o}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(a.Z,{gap:2,direction:"row",flexWrap:"wrap","data-sentry-element":"Stack","data-sentry-source-file":"Characters.jsx",children:null==l?void 0:l.map((e,d)=>{var r,s,u,x,f,k,b,w,C,T,S,Z,W,O,A,F,M,R,P,U,B,L,E,V,H,G,q,Q,z,K,X,J,Y,$,ee,el,en,et,ei,eo,ed,ea;let{name:er,classIndex:es,afkTarget:ec,afkTime:eu,postOffice:ev}=e,eh=null===(r=Object.entries(o||{}))||void 0===r?void 0:r.reduce((e,l)=>{var n;let[t,i]=l,{options:o,...d}=i,a=null==i?void 0:null===(n=i.options)||void 0===n?void 0:n.reduce((e,l)=>({...e,[null==l?void 0:l.name]:l}),{});return{...e,[t]:{...d,...a}}},{}),ep=null===(s=Object.keys(eh))||void 0===s?void 0:s.reduce((t,o)=>{var d;return t[o]=(null==N?void 0:null===(d=N[o])||void 0===d?void 0:d.call(N,n,l,e,i,eh))||{},t},{}),em=ec&&"_"!==ec?ec:"Nothing";return(0,t.jsx)(v.Z,{sx:{width:300},"data-cy":"character-".concat(er),children:(0,t.jsxs)(h.Z,{children:[(0,t.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,flexWrap:"wrap",children:[(0,t.jsx)(c.Z,{sx:{display:{sm:"none",md:"block"}},children:(0,t.jsx)("img",{src:"".concat(g.prefix,"data/ClassIcons").concat(es,".png"),alt:""})}),(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(p.Z,{children:er}),(()=>{let e=new Date().getTime()+(eu-i),l=(0,j.Z)(new Date,new Date(e));return l<=5})()?(0,t.jsx)(p.Z,{children:"Active"}):(0,t.jsx)(D.Z,{variant:"caption",type:"up",date:eu,lastUpdated:i})]}),(0,t.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,style:{marginLeft:"auto"},children:[(0,t.jsx)(y.Z,{title:(0,g.cleanUnderscore)(em),children:(0,t.jsx)(_,{src:"".concat(g.prefix,"afk_targets/").concat(em,".png"),alt:"activity icon"})}),(0,t.jsx)(y.Z,{title:(0,t.jsx)(CharacterInfo,{characters:l,account:n,character:e,lastUpdated:i}),children:(0,t.jsx)(I.Z,{})})]})]}),(0,t.jsx)(m.Z,{sx:{my:1}}),(0,t.jsxs)(a.Z,{direction:"row",gap:1,flexWrap:"wrap",children:[(null==o?void 0:o.worship)&&(null==ep?void 0:null===(u=ep.worship)||void 0===u?void 0:u.unendingEnergy)?(0,t.jsx)(Alert,{title:"".concat(er," has unending energy prayer and is afk for more than 10 hours"),iconPath:"data/Prayer2"}):null,(null==o?void 0:o.divinityStyle)&&Object.keys(null==ep?void 0:ep.divinityStyle).length?(0,t.jsx)(Alert,{title:"".concat(er," ").concat(null==ep?void 0:null===(x=ep.divinityStyle)||void 0===x?void 0:x.text),iconPath:"etc/".concat(null==ep?void 0:null===(f=ep.divinityStyle)||void 0===f?void 0:f.icon)}):null,(null==o?void 0:o.worship)&&(null==ep?void 0:null===(k=ep.worship)||void 0===k?void 0:k.chargeOverdue)?(0,t.jsx)(Alert,{title:"".concat(er," worship is full"),iconPath:"data/ClassIcons50"}):null,(null==o?void 0:o.traps)&&(null==ep?void 0:null===(b=ep.traps)||void 0===b?void 0:b.trapsOverdue)?(0,t.jsx)(Alert,{title:"".concat(er," traps are overdue"),iconPath:"data/TrapBoxSet1"}):null,(null==o?void 0:o.traps)&&(null==ep?void 0:null===(w=ep.traps)||void 0===w?void 0:w.missingTraps)?(0,t.jsx)(Alert,{title:"".concat(er," is missing a trap"),iconPath:"data/ClassIcons48"}):null,(null==o?void 0:o.alchemy)&&(null==ep?void 0:null===(C=ep.alchemy)||void 0===C?void 0:C.missingBubbles)?(0,t.jsx)(Alert,{title:"".concat(er," is missing an active bubble"),iconPath:"data/aJarB0"}):null,(null==o?void 0:o.alchemy)&&(null==ep?void 0:null===(T=ep.alchemy)||void 0===T?void 0:T.noActivity)?(0,t.jsx)(Alert,{title:"".concat(er," is not doing any alchemy activity"),iconPath:"etc/NoAlcActivity"}):null,(null==o?void 0:o.cards)&&(null==ep?void 0:null===(S=ep.cards)||void 0===S?void 0:S.cardSet)?(0,t.jsx)(Alert,{title:null==ep?void 0:null===(W=ep.cards)||void 0===W?void 0:null===(Z=W.cardSet)||void 0===Z?void 0:Z.text,iconPath:"data/".concat((null==e?void 0:null===(A=e.cards)||void 0===A?void 0:null===(O=A.cardSet)||void 0===O?void 0:O.rawName)||"CardSet0")}):null,(null==o?void 0:o.cards)&&(null==ep?void 0:null===(F=ep.cards)||void 0===F?void 0:F.passiveCards)?(0,t.jsx)(Alert,{title:"".concat(er," has a passive card equipped"),iconPath:"etc/PassiveCard"}):null,(null==o?void 0:o.obols)&&(null==ep?void 0:null===(R=ep.obols)||void 0===R?void 0:null===(M=R.missingObols)||void 0===M?void 0:M.length)>0?(0,t.jsx)(Alert,{title:"".concat(er," has ").concat(null==ep?void 0:null===(U=ep.obols)||void 0===U?void 0:null===(P=U.missingObols)||void 0===P?void 0:P.length," empty obol slots"),iconPath:"data/ObolLocked1"}):null,(null==o?void 0:o.postOffice)&&(null==ep?void 0:null===(B=ep.postOffice)||void 0===B?void 0:B.unspentPoints)?(0,t.jsx)(Alert,{title:"".concat(er," has ").concat(Math.floor(null==ev?void 0:ev.unspentPoints)," unspent points"),iconPath:"data/UIboxUpg0"}):null,(null==o?void 0:o.anvil)&&(null==ep?void 0:null===(L=ep.anvil)||void 0===L?void 0:L.missingHammers)>0?(0,t.jsx)(Alert,{title:"".concat(er," is missing ").concat(null==ep?void 0:null===(E=ep.anvil)||void 0===E?void 0:E.missingHammers," hammers"),iconPath:"data/GemP1"}):null,(null==o?void 0:o.anvil)&&(null==ep?void 0:null===(V=ep.anvil)||void 0===V?void 0:V.unspentPoints)>0?(0,t.jsx)(Alert,{title:"".concat(er," has ").concat(null==ep?void 0:null===(H=ep.anvil)||void 0===H?void 0:H.unspentPoints," unspent points anvil points"),iconPath:"data/ClassIcons43"}):null,(null==o?void 0:o.anvil)&&(null==ep?void 0:null===(q=ep.equipment)||void 0===q?void 0:null===(G=q.availableUpgradesSlots)||void 0===G?void 0:G.length)>0?null==ep?void 0:null===(z=ep.equipment)||void 0===z?void 0:null===(Q=z.availableUpgradesSlots)||void 0===Q?void 0:Q.map((e,l)=>{let{displayName:n,rawName:i,Upgrade_Slots_Left:o}=e;return(0,t.jsx)(Alert,{title:"".concat((0,g.cleanUnderscore)(n)," has ").concat(o," available upgrade slots"),extra:(0,t.jsx)(c.Z,{style:{position:"absolute",width:5,height:5,top:-2,right:-2,borderRadius:"50%",backgroundColor:"#d62727"}}),iconPath:"data/".concat(i)},"slots-".concat(er,"-").concat(d,"-").concat(i,"-").concat(l))}):null,(null==o?void 0:o.anvil)&&(null==ep?void 0:null===(X=ep.anvil)||void 0===X?void 0:null===(K=X.anvilOverdue)||void 0===K?void 0:K.length)>0?null==ep?void 0:null===(Y=ep.anvil)||void 0===Y?void 0:null===(J=Y.anvilOverdue)||void 0===J?void 0:J.map(e=>{let{diff:l,name:n,rawName:i}=e;return(0,t.jsx)(Alert,{title:"".concat((0,g.cleanUnderscore)(n)," ").concat(l<=0?"production is full":"is ".concat(l," minutes away from being full")),iconPath:"data/".concat(i)},"".concat(n,"-").concat(d))}):null,(null==o?void 0:o.starSigns)&&(null==ep?void 0:null===($=ep.starSigns)||void 0===$?void 0:$.missingStarSigns)>0?(0,t.jsx)(Alert,{title:"".concat(er," is missing ").concat(null==ep?void 0:null===(ee=ep.starSigns)||void 0===ee?void 0:ee.missingStarSigns," star signs"),iconPath:"data/SignStar1b"}):null,(null==o?void 0:o.talents)&&(null==ep?void 0:null===(el=ep.talents)||void 0===el?void 0:el.length)>0?null==ep?void 0:null===(en=ep.talents)||void 0===en?void 0:en.map((e,l)=>{let{name:n,skillIndex:o,cooldown:d}=e;return(0,t.jsx)(Alert,{style:{opacity:d>0?.5:1},title:d>0?(0,t.jsx)(D.Z,{type:"countdown",date:d,lastUpdated:i}):"".concat((0,g.cleanUnderscore)((0,g.pascalCase)(n))," is ready"),iconPath:"data/UISkillIcon".concat(o)},o+"-"+l)}):null,(null==o?void 0:null===(et=o.tools)||void 0===et?void 0:et.checked)&&(null==ep?void 0:null===(ei=ep.tools)||void 0===ei?void 0:ei.length)>0?null==ep?void 0:null===(eo=ep.tools)||void 0===eo?void 0:eo.map((l,n)=>{let{rawName:i,displayName:o}=l;return(0,t.jsx)(Alert,{title:"".concat(null==e?void 0:e.name," can equip ").concat((0,g.cleanUnderscore)((0,g.pascalCase)(o))),iconPath:"data/".concat(i)},"".concat(null==e?void 0:e.name,"-").concat(i,"-").concat(n))}):null,(null==o?void 0:o.crystalCountdown)&&(null==ep?void 0:null===(ed=ep.crystalCountdown)||void 0===ed?void 0:ed.length)>0?null==ep?void 0:null===(ea=ep.crystalCountdown)||void 0===ea?void 0:ea.map((e,l)=>{let{name:n,icon:i,reduction:o,crystalCountdown:a}=e,{showMaxed:r,showNonMaxed:s}=(null==eh?void 0:eh.crystalCountdown)||{};r=null==r?void 0:r.checked,s=null==s?void 0:s.checked;let c=a>0&&o>=a;return(r||!c)&&(s||!r||c)&&(s||r)?(0,t.jsx)(Alert,{style:{border:"1px solid",borderColor:c?"#66bb6a":o>0?"#d1921e":"",borderRadius:5,opacity:c||o>0?1:.5},title:"Crystal CD for ".concat((0,g.cleanUnderscore)((0,g.pascalCase)(n))," is ").concat(c?"maxed":""," ").concat(Math.round(100*o)/100,"% ").concat(c?"":"(Max: ".concat(Math.round(100*a)/100,")")),iconPath:"data/".concat(i)},i+"-"+l+"-"+d):null}):null]})]})},er)})})})},F=n(90749),M=n(94229),World3_Library=e=>{let{libraryTimes:l,lastUpdated:n}=e,{bookCount:o,next:d,breakpoints:r,breakdown:s}=l||{},c=new Date().getTime()+1e3*d,u=(0,g.getRealDateInMs)(c);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,"data-sentry-element":"Stack","data-sentry-source-file":"Library.jsx",children:[(0,t.jsx)("img",{width:24,src:"".concat(g.prefix,"data/Libz.png"),alt:""}),(0,t.jsx)(p.Z,{sx:{fontWeight:"bold",fontSize:16},"data-sentry-element":"Typography","data-sentry-source-file":"Library.jsx",children:"Library"}),(0,t.jsx)(y.Z,{title:(0,t.jsx)(W.tq,{breakdown:s,titleStyle:{width:170}}),"data-sentry-element":"Tooltip","data-sentry-source-file":"Library.jsx",children:(0,t.jsx)(I.Z,{fontSize:"small","data-sentry-element":"InfoIcon","data-sentry-source-file":"Library.jsx"})})]}),(0,t.jsxs)(p.Z,{sx:{my:1},"data-sentry-element":"Typography","data-sentry-source-file":"Library.jsx",children:["Book count: ",o]}),(0,t.jsxs)(a.Z,{direction:"row",gap:1,alignItems:"center","data-sentry-element":"Stack","data-sentry-source-file":"Library.jsx",children:[(0,t.jsx)(p.Z,{sx:{width:130},"data-sentry-element":"Typography","data-sentry-source-file":"Library.jsx",children:"Next book in: "})," ",d>0?(0,t.jsx)(y.Z,{title:"End date: "+u,children:(0,t.jsx)(D.Z,{type:"countdown",lastUpdated:n,date:c})}):(0,t.jsx)(p.Z,{variant:"caption",children:"Wait for game update"})]}),null==r?void 0:r.map((e,l)=>{let{breakpoint:o,time:d}=e,r=new Date().getTime()+1e3*d;return r=(0,g.getRealDateInMs)(r),d>0?(0,t.jsxs)(i.Fragment,{children:[(0,t.jsx)(m.Z,{sx:{my:1}}),(0,t.jsxs)(a.Z,{direction:"row",gap:1,children:[(0,t.jsxs)(p.Z,{sx:{width:130},children:[0===o?"0 to 20":o," books in: "]})," ",d>0?(0,t.jsx)(y.Z,{title:"End date: "+r,children:(0,t.jsx)(D.Z,{type:"countdown",lastUpdated:n,staticTime:0===o,date:new Date().getTime()+1e3*d})}):(0,t.jsx)(p.Z,{variant:"caption",children:"Wait for game update"})]})]},"book-timer"+l):null})]})},R=n(46443),P=n(41508),U=n(80034),B=n(8146),L=n(40929),E=n(61436),V=n(12092),H=n(43079),G=n(11163),q=n(29520);function Etc_templateObject(){let e=(0,u._)(["\n  width: 26px;\n  height: 26px;\n  object-fit: contain;\n"]);return Etc_templateObject=function(){return e},e}let Q=x.Z.img(Etc_templateObject()),SectionTitle=e=>{let{title:l}=e;return(0,t.jsx)(p.Z,{textAlign:"center","data-sentry-element":"Typography","data-sentry-component":"SectionTitle","data-sentry-source-file":"Etc.jsx",children:l})},Section=e=>{let{title:l,children:n}=e;return(0,t.jsx)(v.Z,{sx:{height:"fit-content"},"data-sentry-element":"Card","data-sentry-component":"Section","data-sentry-source-file":"Etc.jsx",children:(0,t.jsx)(h.Z,{"data-sentry-element":"CardContent","data-sentry-source-file":"Etc.jsx",children:(0,t.jsxs)(a.Z,{flexWrap:"wrap",gap:1,divider:(0,t.jsx)(m.Z,{flexItem:!0}),"data-sentry-element":"Stack","data-sentry-source-file":"Etc.jsx",children:[(0,t.jsx)(SectionTitle,{title:l,"data-sentry-element":"SectionTitle","data-sentry-source-file":"Etc.jsx"}),(0,t.jsx)(a.Z,{gap:1,divider:(0,t.jsx)(m.Z,{}),"data-sentry-element":"Stack","data-sentry-source-file":"Etc.jsx",children:n})]})})})},TimerCard=e=>{let{tooltipContent:l,icon:n,lastUpdated:i,time:o,timerPlaceholder:d="",forcePlaceholder:r,showAsError:s,page:c}=e,u=(0,G.useRouter)();return(0,t.jsx)(y.Z,{title:l,"data-sentry-element":"Tooltip","data-sentry-component":"TimerCard","data-sentry-source-file":"Etc.jsx",children:(0,t.jsxs)(a.Z,{sx:{cursor:c?"pointer":"auto"},direction:"row",gap:1,alignItems:"center",onClick:()=>c&&u.push({pathname:c}),"data-sentry-element":"Stack","data-sentry-source-file":"Etc.jsx",children:[(0,t.jsx)(Q,{src:"".concat(g.prefix).concat(n),"data-sentry-element":"IconImg","data-sentry-source-file":"Etc.jsx"}),r?(0,t.jsx)(p.Z,{color:"error.light",children:d}):(0,t.jsx)(D.Z,{type:"countdown",date:o,sx:{color:s?"#f91d1d":" "},placeholder:d,lastUpdated:i})]})})};var dashboard_Etc=e=>{var l,n,o,d,r,s,c,u,x,f,j,b,w,T,S,Z,I,D,W,O,A,N,_,F,M,z,K,X,J,Y,$,ee,el,en,et,ei,eo,ed,ea,er,es,ec,eu,ev,eh,ep,em,eg,ex,ey,ef,ej,ek,eb,ew,eC,eT,eS,eZ,eI,eD,eW,eO,eA,eN,e_,eF,eM,eR,eP,eU,eB,eL,eE,eV,eH,eG,eq,eQ,ez,eK,eX,eJ,eY,e$,e0,e1,e2,e3,e4,e5,e9,e6,e7,e8,le,ll,ln,lt,li,lo,ld,la,lr,ls,lc,lu,lv,lh,lp,lm,lg,lx,ly,lf,lj,lk,lb,lw,lC,lT,lS,lZ,lI,lD,lW,lO,lA,lN,l_,lF,lM,lR,lP,lU,lB,lL,lE,lV,lH;let{characters:lG,account:lq,lastUpdated:lQ,trackers:lz}=e,lK=Object.entries(lz||{}).reduce((e,l)=>{let[n,t]=l,i=Object.values(t||{}).every(e=>{let{checked:l}=e;return!l});return{...e,[n]:i}},{}),lX=(0,G.useRouter)(),lJ=(0,i.useMemo)(()=>(0,C.KB)(lq),[lG,lq,lQ]),lY=(0,i.useMemo)(()=>{var e;return(0,R.IS)(null==lq?void 0:null===(e=lq.serverVars)||void 0===e?void 0:e.HappyHours)||[]},[lq]),l$=new Date().getTime()+(3600-((null==lq?void 0:null===(l=lq.timeAway)||void 0===l?void 0:l.GlobalTime)-(null==lq?void 0:null===(n=lq.timeAway)||void 0===n?void 0:n.Printer)))*1e3,l0=new Date().getTime()+Math.max(0,594e6-(1e3*(null==lq?void 0:null===(o=lq.timeAway)||void 0===o?void 0:o.GlobalTime)-(null==lq?void 0:null===(d=lq.companions)||void 0===d?void 0:d.lastFreeClaim))),l1=new Date().getTime()+((null==lq?void 0:null===(c=lq.owl)||void 0===c?void 0:null===(s=c.upgrades)||void 0===s?void 0:null===(r=s[4])||void 0===r?void 0:r.cost)-(null==lq?void 0:null===(u=lq.owl)||void 0===u?void 0:u.feathers))/(null==lq?void 0:null===(x=lq.owl)||void 0===x?void 0:x.featherRate)*1e3,l2=new Date().getTime()+((null==lq?void 0:null===(b=lq.owl)||void 0===b?void 0:null===(j=b.upgrades)||void 0===j?void 0:null===(f=j[8])||void 0===f?void 0:f.cost)-(null==lq?void 0:null===(w=lq.owl)||void 0===w?void 0:w.feathers))/(null==lq?void 0:null===(T=lq.owl)||void 0===T?void 0:T.featherRate)*1e3,l3=(0,g.getDuration)(new Date().getTime(),l2),l4=l2>9007199254740992||(null==l3?void 0:l3.days)>365,l5=new Date().getTime()+((null==lq?void 0:null===(I=lq.kangaroo)||void 0===I?void 0:null===(Z=I.upgrades)||void 0===Z?void 0:null===(S=Z[6])||void 0===S?void 0:S.cost)-(null==lq?void 0:null===(D=lq.kangaroo)||void 0===D?void 0:D.fish))/(null==lq?void 0:null===(W=lq.kangaroo)||void 0===W?void 0:W.fishRate)*6e4,l9=new Date().getTime()+((null==lq?void 0:null===(N=lq.kangaroo)||void 0===N?void 0:null===(A=N.upgrades)||void 0===A?void 0:null===(O=A[11])||void 0===O?void 0:O.cost)-(null==lq?void 0:null===(_=lq.kangaroo)||void 0===_?void 0:_.fish))/(null==lq?void 0:null===(F=lq.kangaroo)||void 0===F?void 0:F.fishRate)*6e4,l6=(0,g.getDuration)(new Date().getTime(),l9),l7=l9>9007199254740992||(null==l6?void 0:l6.days)>365,l8=null==lq?void 0:null===(z=lq.companions)||void 0===z?void 0:null===(M=z.list)||void 0===M?void 0:M.every(e=>{let{acquired:l}=e;return l}),ne=(0,B._m)(lq,"Nitrogen_-_Construction_Trimmer"),nl=(0,C.rb)(lq),nn=new Date().getTime()+(null==lq?void 0:null===(K=lq.timeAway)||void 0===K?void 0:K.ShopRestock)*1e3,nt=new Date().getTime()+((null==lq?void 0:null===(X=lq.timeAway)||void 0===X?void 0:X.ShopRestock)+86400*(null==lq?void 0:null===(J=lq.accountOptions)||void 0===J?void 0:J[39]))*1e3,ni=nl.every(e=>{let{maxed:l}=e;return l}),no=null==lq?void 0:null===($=lq.towers)||void 0===$?void 0:null===(Y=$.data)||void 0===Y?void 0:Y.reduce((e,l)=>{var n,t,i,o,d,a;let r;let s=(null==lq?void 0:null===(t=lq.lab.jewels)||void 0===t?void 0:null===(n=t.slice(3,7))||void 0===n?void 0:n.every(e=>{let{active:l}=e;return l}))?1:0,c=(null==lq?void 0:null===(o=lq.lab.jewels)||void 0===o?void 0:null===(i=o[3])||void 0===i?void 0:i.active)?1+s:0,u=(null==l?void 0:l.slot)!==-1&&(null==l?void 0:l.slot)<c+(ne?1:0),v=(0,P.ZX)(null==lq?void 0:lq.towers,null==l?void 0:l.level,null==l?void 0:l.bonusInc,null==l?void 0:l.index);if(u){let e=(3+ne/100)*(null==lq?void 0:null===(d=lq.construction)||void 0===d?void 0:d.totalBuildRate);r=(v-(null==l?void 0:l.progress))/e*36e5}else r=(v-(null==l?void 0:l.progress))/(null==lq?void 0:null===(a=lq.construction)||void 0===a?void 0:a.totalBuildRate)*36e5;return(null==l?void 0:l.inProgress)&&((null==e?void 0:e.timeLeft)===0||r<(null==e?void 0:e.timeLeft))?{timeLeft:r,icon:"ConTower".concat(null==l?void 0:l.index)}:e},{timeLeft:0,icon:""}),nd=null==lq?void 0:null===(el=lq.refinery)||void 0===el?void 0:null===(ee=el.salts)||void 0===ee?void 0:ee.reduce((e,l,n)=>{let{active:t,rank:i,cost:o,rawName:d,powerCap:a,refined:r,autoRefinePercentage:s}=l;if(!t||0!==s)return e;let c=null==o?void 0:o.every(e=>{let{rawName:l,quantity:t,totalAmount:o}=e;return o>=(0,q.Xf)(null==lq?void 0:lq.refinery,i,t,l,n)}),{squiresCycles:u}=(0,q.vX)(lq,lG,lQ),{timeLeft:v}=(0,q._G)(lq,lG,lQ,{squiresCycles:u},!1,i,a,r,n);return((null==e?void 0:e.timeLeft)===0||v<(null==e?void 0:e.timeLeft))&&c?{timeLeft:v,icon:d}:e},{timeLeft:0,icon:""}),na=null==lq?void 0:null===(en=lq.traps)||void 0===en?void 0:en.reduce((e,l)=>{let n=null==l?void 0:l.map(e=>{let{timeLeft:l}=e;return l});if(0===n.length)return e;let t=Math.min(...n);return 0===e||t<e?t:e},0),nr=(0,U.kV)(lG),{bestWizard:ns,bestChargeSyphon:nc,timeToOverCharge:nu}=(0,i.useMemo)(()=>(0,U.Qq)(lG),[lG]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(a.Z,{direction:"row",flexWrap:"wrap",gap:2,"data-sentry-element":"Stack","data-sentry-source-file":"Etc.jsx",children:[!(null==lK?void 0:lK.General)&&(0,t.jsxs)(Section,{title:"General",children:[(null==lz?void 0:null===(ei=lz.General)||void 0===ei?void 0:null===(et=ei.daily)||void 0===et?void 0:et.checked)&&(0,t.jsx)(TimerCard,{tooltipContent:"Daily reset",lastUpdated:lQ,time:nn,icon:"etc/Daily.png"}),(null==lz?void 0:null===(ed=lz.General)||void 0===ed?void 0:null===(eo=ed.weekly)||void 0===eo?void 0:eo.checked)&&(0,t.jsx)(TimerCard,{tooltipContent:"Weekly reset",lastUpdated:lQ,time:nt,icon:"etc/Weekly.png"}),(null==lz?void 0:null===(er=lz.General)||void 0===er?void 0:null===(ea=er.companions)||void 0===ea?void 0:ea.checked)&&(0,t.jsx)(TimerCard,{page:"account/premium-currency/companions",tooltipContent:"Next companion claim: "+(0,g.getRealDateInMs)(l0),lastUpdated:lQ,time:l0,icon:"afk_targets/Dog.png",timerPlaceholder:"Go claim!",showAsError:!l8}),(null==lz?void 0:null===(ec=lz.General)||void 0===ec?void 0:null===(es=ec.syphonCharge)||void 0===es?void 0:es.checked)&&(null==lq?void 0:null===(eu=lq.finishedWorlds)||void 0===eu?void 0:eu.World2)?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(TimerCard,{page:"account/world-3/worship",tooltipContent:"Overflow syphon Charge (".concat((null==ns?void 0:null===(ev=ns.worship)||void 0===ev?void 0:ev.maxCharge)+nc,"): ")+(0,g.getRealDateInMs)(nu),lastUpdated:lQ,time:nu,icon:"data/UISkillIcon475.png",timerPlaceholder:"Overflowing charge"})}):null,(null==lz?void 0:null===(ep=lz.General)||void 0===ep?void 0:null===(eh=ep.closestFullWorship)||void 0===eh?void 0:eh.checked)&&(null==lq?void 0:null===(em=lq.finishedWorlds)||void 0===em?void 0:em.World2)&&(null==nr?void 0:nr.timeLeft)!==0?(0,t.jsx)(t.Fragment,{children:(null==nr?void 0:nr.timeLeft)!==0?(0,t.jsx)(TimerCard,{page:"account/world-3/worship",tooltipContent:(null==nr?void 0:nr.character)?"Closest full worship - ".concat(null==nr?void 0:nr.character,": ")+(0,g.getRealDateInMs)(new Date().getTime()+(null==nr?void 0:nr.timeLeft)):"All characters charge is full",timerPlaceholder:"Full!",forcePlaceholder:!isFinite(null==nr?void 0:nr.timeLeft),lastUpdated:lQ,time:new Date().getTime()+(null==nr?void 0:nr.timeLeft),icon:"data/WorshipSkull3.png"}):null}):null,(null==lz?void 0:null===(ex=lz.General)||void 0===ex?void 0:null===(eg=ex.dungeonHappyHour)||void 0===eg?void 0:eg.checked)&&(null==lY?void 0:lY.length)>0?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(TimerCard,{page:"account/misc/dungeons",tooltipContent:"Next happy hour: "+(0,g.getRealDateInMs)(null==lY?void 0:lY[0]),lastUpdated:lQ,time:null==lY?void 0:lY[0],icon:"etc/Happy_Hour.png",timerPlaceholder:"Go claim!"})}):null,((null==lz?void 0:null===(ef=lz.General)||void 0===ef?void 0:null===(ey=ef.randomEvents)||void 0===ey?void 0:ey.checked)||(null==lz?void 0:null===(ek=lz.General)||void 0===ek?void 0:null===(ej=ek.sailingTrades)||void 0===ej?void 0:ej.checked))&&((null==lJ?void 0:lJ.length)>0||(null==lq?void 0:null===(eb=lq.finishedWorlds)||void 0===eb?void 0:eb.World4)&&(null==lq?void 0:null===(ew=lq.sailing)||void 0===ew?void 0:ew.trades.length)>0)?(0,t.jsxs)(a.Z,{gap:1,children:[(null==lz?void 0:null===(eT=lz.General)||void 0===eT?void 0:null===(eC=eT.randomEvents)||void 0===eC?void 0:eC.checked)&&(null==lJ?void 0:lJ.length)>0?(0,t.jsx)(y.Z,{dark:!0,title:(0,t.jsx)(V.Z,{...null==lJ?void 0:lJ[0]}),children:(0,t.jsxs)("div",{children:[(0,t.jsxs)(a.Z,{sx:{cursor:"pointer"},onClick:()=>lX.push({pathname:"/account/misc/random-events"}),direction:"row",gap:2,children:[(0,t.jsx)(Q,{src:"".concat(g.prefix,"etc/").concat(null==lJ?void 0:null===(eS=lJ[0])||void 0===eS?void 0:eS.eventName,".png"),alt:""}),(0,E.Z)(null==lJ?void 0:null===(eZ=lJ[0])||void 0===eZ?void 0:eZ.date)?(0,L.Z)(null==lJ?void 0:null===(eI=lJ[0])||void 0===eI?void 0:eI.date,"dd/MM/yyyy HH:mm:ss"):null]}),(0,t.jsx)(m.Z,{sx:{mt:1}})]})}):null,(null==lz?void 0:null===(eW=lz.General)||void 0===eW?void 0:null===(eD=eW.sailingTrades)||void 0===eD?void 0:eD.checked)&&(null==lq?void 0:null===(eO=lq.finishedWorlds)||void 0===eO?void 0:eO.World4)&&(null==lq?void 0:null===(eA=lq.sailing)||void 0===eA?void 0:eA.trades.length)>0?(0,t.jsx)(y.Z,{title:(0,t.jsx)(H.Z,{...null==lq?void 0:null===(e_=lq.sailing)||void 0===e_?void 0:null===(eN=e_.trades)||void 0===eN?void 0:eN[0]}),children:(0,t.jsxs)(a.Z,{sx:{cursor:"pointer"},onClick:()=>lX.push({pathname:"/account/world-5/sailing"}),direction:"row",gap:.5,children:[(0,t.jsxs)(a.Z,{direction:"row",children:[(0,t.jsx)("img",{src:"".concat(g.prefix,"data/").concat(null==lq?void 0:null===(eR=lq.sailing)||void 0===eR?void 0:null===(eM=eR.trades)||void 0===eM?void 0:null===(eF=eM[0])||void 0===eF?void 0:eF.rawName,".png"),alt:""}),"/",(0,t.jsx)("img",{src:"".concat(g.prefix,"data/SailT0.png"),alt:""})]}),(0,E.Z)(new Date(null==lq?void 0:null===(eB=lq.sailing)||void 0===eB?void 0:null===(eU=eB.trades)||void 0===eU?void 0:null===(eP=eU[0])||void 0===eP?void 0:eP.date))?(0,L.Z)(new Date(null==lq?void 0:null===(eV=lq.sailing)||void 0===eV?void 0:null===(eE=eV.trades)||void 0===eE?void 0:null===(eL=eE[0])||void 0===eL?void 0:eL.date),"dd/MM/yyyy HH:mm:ss"):null]})}):null]}):null]}),(!(null==lK?void 0:lK["World 1"])||!(null==lK?void 0:lK["World 2"]))&&(0,t.jsxs)(a.Z,{gap:1,children:[!(null==lK?void 0:lK["World 1"])&&(0,t.jsxs)(Section,{title:"World 1",children:[(null==lz?void 0:null===(eG=lz["World 1"])||void 0===eG?void 0:null===(eH=eG.featherRestart)||void 0===eH?void 0:eH.checked)&&(null==lq?void 0:null===(eq=lq.accountOptions)||void 0===eq?void 0:eq[253])>0?(0,t.jsx)(t.Fragment,{children:isFinite(l1)?l1<9007199254740992?(0,t.jsx)(TimerCard,{page:"account/world-1/owl",tooltipContent:"Next feather restart: "+(0,g.getRealDateInMs)(l1),lastUpdated:lQ,time:l1,icon:"etc/Owl_4.png",timerPlaceholder:"Restart available"}):(0,t.jsxs)(a.Z,{direction:"row",gap:1,alignItems:"center",sx:{cursor:"pointer"},onClick:()=>lX.push({pathname:"account/world-1/owl"}),children:[(0,t.jsx)(Q,{src:"".concat(g.prefix,"etc/Owl_4.png")}),(0,t.jsxs)(p.Z,{children:[(0,g.notateNumber)((0,g.getTimeAsDays)(l1))," days"]})]}):(0,t.jsxs)(a.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,t.jsx)(Q,{src:"".concat(g.prefix,"etc/Owl_4.png")}),(0,t.jsx)(p.Z,{children:"A long time"})]})}):null,(null==lz?void 0:null===(ez=lz["World 1"])||void 0===ez?void 0:null===(eQ=ez.megaFeatherRestart)||void 0===eQ?void 0:eQ.checked)&&(null==lq?void 0:null===(eK=lq.accountOptions)||void 0===eK?void 0:eK[253])>0?(0,t.jsx)(t.Fragment,{children:!(0,k.Z)(l2)&&l4?(0,t.jsx)(y.Z,{sx:{cursor:"pointer"},onClick:()=>lX.push({pathname:"account/world-1/owl"}),title:"Next mega feather: "+(0,g.getRealDateInMs)(l2),children:(0,t.jsxs)(a.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,t.jsx)(Q,{src:"".concat(g.prefix,"etc/Owl_8.png")}),(0,t.jsx)(p.Z,{children:"A long time"})]})}):(0,t.jsx)(TimerCard,{page:"account/world-1/owl",tooltipContent:"Next mega feather: "+(0,g.getRealDateInMs)(l2),lastUpdated:lQ,time:l2,icon:"etc/Owl_8.png",timerPlaceholder:"Mega feather restart available"})}):null]}),(null==lK?void 0:lK["World 2"])||!((null==lq?void 0:null===(eX=lq.kangaroo)||void 0===eX?void 0:eX.fish)>0)?null:(0,t.jsxs)(Section,{title:"World 2",children:[(null==lz?void 0:null===(eY=lz["World 2"])||void 0===eY?void 0:null===(eJ=eY.fisherooReset)||void 0===eJ?void 0:eJ.checked)?l5<9007199254740992?(0,t.jsx)(TimerCard,{page:"account/world-2/kangaroo",tooltipContent:"Next fisheroo reset: "+(0,g.getRealDateInMs)(l5),lastUpdated:lQ,time:l5,icon:"etc/KUpga_6.png",timerPlaceholder:"Restart available"}):(null==lq?void 0:null===(e$=lq.kangaroo)||void 0===e$?void 0:e$.fishRate)<=0?(0,t.jsxs)(a.Z,{direction:"row",gap:1,alignItems:"center",sx:{cursor:"pointer"},onClick:()=>lX.push({pathname:"account/world-2/kangaroo"}),children:[(0,t.jsx)(Q,{src:"".concat(g.prefix,"etc/KUpga_11.png")}),(0,t.jsx)(p.Z,{children:"A long time"})]}):(0,t.jsxs)(a.Z,{direction:"row",gap:1,alignItems:"center",sx:{cursor:"pointer"},onClick:()=>lX.push({pathname:"account/world-2/kangaroo"}),children:[(0,t.jsx)(Q,{src:"".concat(g.prefix,"etc/KUpga_6.png")}),(0,t.jsxs)(p.Z,{children:[(0,g.notateNumber)((0,g.getTimeAsDays)(l5))," days"]})]}):null,(null==lz?void 0:null===(e1=lz["World 2"])||void 0===e1?void 0:null===(e0=e1.greatestCatch)||void 0===e0?void 0:e0.checked)?!(0,k.Z)(l9)&&l7?(0,t.jsx)(y.Z,{title:"Next greatest catch: "+(0,g.getRealDateInMs)(l9),children:(0,t.jsxs)(a.Z,{direction:"row",gap:1,alignItems:"center",sx:{cursor:"pointer"},onClick:()=>lX.push({pathname:"account/world-2/kangaroo"}),children:[(0,t.jsx)(Q,{src:"".concat(g.prefix,"etc/KUpga_11.png")}),(0,t.jsx)(p.Z,{children:"A long time"})]})}):(0,t.jsx)(TimerCard,{page:"account/world-2/kangaroo",tooltipContent:"Next greatest catch: "+(0,g.getRealDateInMs)(l9),lastUpdated:lQ,time:l9,icon:"etc/KUpga_11.png",timerPlaceholder:"Restart available"}):null]})]}),!(null==lK?void 0:lK["World 3"])&&(0,t.jsxs)(Section,{title:"World 3",children:[(null==lz?void 0:null===(e3=lz["World 3"])||void 0===e3?void 0:null===(e2=e3.printer)||void 0===e2?void 0:e2.checked)&&(null==lq?void 0:null===(e4=lq.finishedWorlds)||void 0===e4?void 0:e4.World2)?(0,t.jsx)(TimerCard,{page:"account/world-3/printer",tooltipContent:"Next printer cycle: "+(0,g.getRealDateInMs)(l$),lastUpdated:lQ,time:l$,icon:"data/ConTower0.png"}):null,(null==lz?void 0:null===(e9=lz["World 3"])||void 0===e9?void 0:null===(e5=e9.closestTrap)||void 0===e5?void 0:e5.checked)&&(null==lq?void 0:null===(e6=lq.finishedWorlds)||void 0===e6?void 0:e6.World2)&&0!==na?(0,t.jsx)(TimerCard,{page:"account/world-3/traps",tooltipContent:"Closest trap: "+(0,g.getRealDateInMs)(na),lastUpdated:lQ,time:na,icon:"data/TrapBoxSet1.png"}):null,(null==lz?void 0:null===(e8=lz["World 3"])||void 0===e8?void 0:null===(e7=e8.closestBuilding)||void 0===e7?void 0:e7.checked)&&(null==lq?void 0:null===(le=lq.finishedWorlds)||void 0===le?void 0:le.World2)&&(null==no?void 0:no.timeLeft)!==0?(0,t.jsx)(TimerCard,{page:"account/world-3/buildings",tooltipContent:"Closest building: "+(0,g.getRealDateInMs)(new Date().getTime()+(null==no?void 0:no.timeLeft)),lastUpdated:lQ,time:new Date().getTime()+(null==no?void 0:no.timeLeft),icon:"data/".concat(null==no?void 0:no.icon,".png")}):null,(null==lz?void 0:null===(ln=lz["World 3"])||void 0===ln?void 0:null===(ll=ln.closestSalt)||void 0===ll?void 0:ll.checked)&&(null==lq?void 0:null===(lt=lq.finishedWorlds)||void 0===lt?void 0:lt.World2)&&(null==nd?void 0:nd.timeLeft)!==0?(0,t.jsx)(TimerCard,{page:"account/world-3/refinery",tooltipContent:"Closest salt: "+(0,g.getRealDateInMs)(null==nd?void 0:nd.timeLeft),lastUpdated:lQ,time:null==nd?void 0:nd.timeLeft,icon:"data/".concat(null==nd?void 0:nd.icon,".png")}):null]}),!(null==lK?void 0:lK["World 5"])&&(0,t.jsxs)(Section,{title:"World 5",children:[(null==lz?void 0:null===(lo=lz["World 5"])||void 0===lo?void 0:null===(li=lo.monument)||void 0===li?void 0:li.checked)&&(null==lq?void 0:null===(ld=lq.finishedWorlds)||void 0===ld?void 0:ld.World4)?(0,t.jsx)(TimerCard,{page:"account/world-5/hole",tooltipContent:"Next fight: ".concat((null==lq?void 0:null===(ls=lq.hole)||void 0===ls?void 0:null===(lr=ls.caverns)||void 0===lr?void 0:null===(la=lr.bravery)||void 0===la?void 0:la.timeForNextFight)<0?"now!":(0,g.getRealDateInMs)(null==lq?void 0:null===(lv=lq.hole)||void 0===lv?void 0:null===(lu=lv.caverns)||void 0===lu?void 0:null===(lc=lu.bravery)||void 0===lc?void 0:lc.timeForNextFight)),lastUpdated:lQ,time:new Date().getTime()+(null==lq?void 0:null===(lm=lq.hole)||void 0===lm?void 0:null===(lp=lm.caverns)||void 0===lp?void 0:null===(lh=lp.bravery)||void 0===lh?void 0:lh.timeForNextFight)*1e3,timerPlaceholder:(null==lq?void 0:null===(ly=lq.hole)||void 0===ly?void 0:null===(lx=ly.caverns)||void 0===lx?void 0:null===(lg=lx.bravery)||void 0===lg?void 0:lg.timeForNextFight)<0?"Fight! (".concat(Math.round(10*(null==lq?void 0:null===(lk=lq.hole)||void 0===lk?void 0:null===(lj=lk.caverns)||void 0===lj?void 0:null===(lf=lj.bravery)||void 0===lf?void 0:lf.rewardMulti))/10,"x)"):"",icon:"etc/Bravery_Statue.png"}):null,(null==lz?void 0:null===(lw=lz["World 5"])||void 0===lw?void 0:null===(lb=lw.justice)||void 0===lb?void 0:lb.checked)&&(null==lq?void 0:null===(lC=lq.finishedWorlds)||void 0===lC?void 0:lC.World4)?(0,t.jsx)(TimerCard,{page:"account/world-5/hole",tooltipContent:"Next fight: ".concat((null==lq?void 0:null===(lZ=lq.hole)||void 0===lZ?void 0:null===(lS=lZ.caverns)||void 0===lS?void 0:null===(lT=lS.justice)||void 0===lT?void 0:lT.timeForNextFight)<0?"now!":(0,g.getRealDateInMs)(null==lq?void 0:null===(lW=lq.hole)||void 0===lW?void 0:null===(lD=lW.caverns)||void 0===lD?void 0:null===(lI=lD.justice)||void 0===lI?void 0:lI.timeForNextFight)),lastUpdated:lQ,time:new Date().getTime()+(null==lq?void 0:null===(lN=lq.hole)||void 0===lN?void 0:null===(lA=lN.caverns)||void 0===lA?void 0:null===(lO=lA.justice)||void 0===lO?void 0:lO.timeForNextFight)*1e3,timerPlaceholder:(null==lq?void 0:null===(lM=lq.hole)||void 0===lM?void 0:null===(lF=lM.caverns)||void 0===lF?void 0:null===(l_=lF.justice)||void 0===l_?void 0:l_.timeForNextFight)<0?"Fight! (".concat(Math.round(10*(null==lq?void 0:null===(lU=lq.hole)||void 0===lU?void 0:null===(lP=lU.caverns)||void 0===lP?void 0:null===(lR=lP.justice)||void 0===lR?void 0:lR.rewardMulti))/10,"x)"):"",icon:"data/Justice_Monument_x1.png"}):null]}),(null==lz?void 0:null===(lL=lz.Etc)||void 0===lL?void 0:null===(lB=lL.minibosses)||void 0===lB?void 0:lB.checked)&&(0,t.jsx)(Section,{title:"Bosses",children:(null==nl?void 0:nl.length)>0?(0,t.jsx)(a.Z,{gap:1,sx:{width:ni?200:250},children:(0,t.jsx)(a.Z,{gap:2,sx:{cursor:"pointer"},onClick:()=>lX.push({pathname:"/account/world-3/death-note"}),children:nl.map(e=>{let{rawName:l,name:n,current:i,daysTillNext:o,maxed:d}=e;return(0,t.jsx)(a.Z,{children:(0,t.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,t.jsx)(Q,{src:"".concat(g.prefix,"etc/").concat(l,".png"),alt:""}),(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(p.Z,{children:(0,g.cleanUnderscore)(n)}),(0,t.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,divider:(0,t.jsx)(m.Z,{sx:{bgcolor:"text.secondary"},orientation:"vertical",flexItem:!0}),children:[(0,t.jsxs)(p.Z,{component:"span",color:"text.secondary",children:["Current: ",(0,t.jsx)(p.Z,{color:d?"error.light":"inherit",component:"span",children:d?"Maxed (".concat(i,")"):i})]}),d?null:(0,t.jsxs)(p.Z,{color:"text.secondary",children:["+1 in ",o," days"]})]})]})]})},"miniboss-timer-".concat(l))})})}):null}),(null==lz?void 0:null===(lV=lz.Etc)||void 0===lV?void 0:null===(lE=lV.library)||void 0===lE?void 0:lE.checked)&&(null==lq?void 0:null===(lH=lq.finishedWorlds)||void 0===lH?void 0:lH.World2)?(0,t.jsx)(v.Z,{sx:{width:"fit-content",height:"fit-content"},children:(0,t.jsx)(h.Z,{children:(0,t.jsx)(World3_Library,{libraryTimes:null==lq?void 0:lq.libraryTimes,lastUpdated:lQ})})}):null]})})},z=n(2962),K=n(30778),X=n(13250),J=n(50657),Y=n(37645),$=n(6514),ee=n(50480),el=n(50716),en=n(69368),et=n(57922),ei=n(74509),eo=n(50135),ed=n(90052),ea=n(87109),er=n(93946),es=n(50594),ec=n(29217),eu=n(45111),ev=n(63521),eh=n(83321),ep=n(31351);let FieldsByType=e=>{var l;let{config:n,onChange:o,configType:d}=e;return"characters"===d?(0,t.jsx)(Fields,{config:n,onChange:o,configType:d}):n&&(null===(l=Object.entries(n))||void 0===l?void 0:l.map((e,l)=>{let[n,a]=e;return(0,t.jsxs)(i.Fragment,{children:[(0,t.jsx)(p.Z,{variant:"caption",color:"text.secondary",children:n}),(0,t.jsx)(Fields,{config:a,onChange:o,configType:d,section:n})]},"tracker-".concat(l))}))},Fields=e=>{var l;let{config:n,onChange:o,configType:d,section:r}=e,[s,u]=(0,i.useState)(null),handleArrowClick=e=>{u(s===e?null:e)};return n&&(null===(l=Object.entries(n))||void 0===l?void 0:l.map((e,l)=>{var n,i;let[u,v]=e;return(0,t.jsxs)(c.Z,{children:[(0,t.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",children:[(0,t.jsx)(ee.Z,{sx:{[".".concat(el.Z.root)]:{fontSize:14}},control:(0,t.jsx)(en.Z,{name:u,checked:null==v?void 0:v.checked,size:"small"}),onChange:e=>o(e,d,null,null,r),label:null==u?void 0:u.camelToTitleCase()}),(null==v?void 0:null===(n=v.options)||void 0===n?void 0:n.length)>0?(0,t.jsx)(er.Z,{size:"small",onClick:()=>handleArrowClick(u),children:s===u?(0,t.jsx)(ec.Z,{}):(0,t.jsx)(eu.Z,{})}):null]}),(0,t.jsx)(et.Z,{in:s===u,unmountOnExit:!0,children:(0,t.jsx)(a.Z,{sx:{ml:3,mr:3},children:null==v?void 0:null===(i=v.options)||void 0===i?void 0:i.map((e,l)=>(0,t.jsx)(BaseField,{trackerName:u,option:{...e,optionIndex:l},configType:d,onChange:o,section:r},"".concat(null==e?void 0:e.name,"-").concat(l)))})})]},"tracker-".concat(u,"-").concat(l))}))},BaseField=e=>{var l,n;let{option:i,trackerName:o,onChange:d,configType:r,section:s}=e,{type:c,props:u}=i||{};return(0,t.jsxs)(t.Fragment,{children:[(null==i?void 0:i.category)?(0,t.jsx)(p.Z,{variant:"caption",children:null==i?void 0:null===(l=i.category)||void 0===l?void 0:l.camelToTitleCase()}):null,(0,t.jsxs)(a.Z,{direction:"row","data-sentry-element":"Stack","data-sentry-source-file":"DashboardSettings.jsx",children:["array"!==c?(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(ee.Z,{sx:{minWidth:(null==u?void 0:u.type)==="img"?"inherit":100,[".".concat(el.Z.root)]:{fontSize:14}},control:(0,t.jsx)(en.Z,{name:null==i?void 0:i.name,checked:null==i?void 0:i.checked,size:"small"}),onChange:e=>d(e,r,i,o,s),label:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(p.Z,{children:null==i?void 0:null===(n=i.name)||void 0===n?void 0:n.camelToTitleCase()})})}),(null==i?void 0:i.helperText)?(0,t.jsx)(ei.Z,{sx:{ml:3,mt:0},children:null==i?void 0:i.helperText}):null]}):null,"input"===c?(0,t.jsx)(InputField,{option:i,trackerName:o,configType:r,onChange:d,section:s}):null,"array"===c?(0,t.jsx)(ArrayField,{option:i,trackerName:o,configType:r,onChange:d,section:s}):null]})]})},ArrayField=e=>{var l;let{option:n,onChange:i,configType:o,trackerName:d,section:r}=e,{value:s,type:c}=null==n?void 0:n.props;return(0,t.jsx)(a.Z,{direction:"row",flexWrap:"wrap","data-sentry-element":"Stack","data-sentry-component":"ArrayField","data-sentry-source-file":"DashboardSettings.jsx",children:null===(l=Object.keys(s))||void 0===l?void 0:l.map((e,l)=>(0,t.jsx)(ee.Z,{onChange:e=>i(e,o,n,d,r),control:(0,t.jsx)(en.Z,{name:e,checked:null==s?void 0:s[e],size:"small"}),label:"img"===c?(0,t.jsx)("img",{width:24,height:24,src:"".concat(g.prefix,"data/").concat(e,".png"),alt:""}):e.camelToTitleCase()},"".concat(e,"-").concat(l)))})},InputField=e=>{let{option:l,onChange:n,configType:i,name:o,trackerName:d,section:a}=e,{label:r,value:s,helperText:c="",maxValue:u,minValue:v=0,endAdornment:h=""}=null==l?void 0:l.props;return(0,t.jsx)(eo.Z,{size:"small",label:r.capitalize(),type:"number",sx:{mt:1,width:150,[".".concat(ed.Z.root)]:{m:0}},name:o,value:s,InputProps:{endAdornment:h?(0,t.jsx)(ea.Z,{position:"end",children:h}):null,inputProps:{max:u,min:v,autoComplete:"off"}},onChange:e=>n(e,i,{...l,inputVal:!0},d,a),helperText:c,"data-sentry-element":"TextField","data-sentry-component":"InputField","data-sentry-source-file":"DashboardSettings.jsx"})};var common_DashboardSettings=e=>{let{open:l,onClose:n,config:i,onChange:o,onFileUpload:d}=e,handleSettingChange=(e,l,n,t,d,a)=>{var r,s,c,u,v;let h=JSON.parse(JSON.stringify(i)),p=null==e?void 0:null===(r=e.target)||void 0===r?void 0:r.name,m=d?h[l][d]:h[l];if((null==n?void 0:n.type)==="array"){let e=m[t||(null==n?void 0:n.name)].options[null==n?void 0:n.optionIndex].props.value[p];m[t||(null==n?void 0:n.name)].options[null==n?void 0:n.optionIndex].props.value[p]=!e}else if((null==n?void 0:n.type)==="input"){if(null==n?void 0:n.inputVal)m[t].options[null==n?void 0:n.optionIndex].props.value=null==e?void 0:null===(s=e.target)||void 0===s?void 0:s.value;else{let e=null===(c=m[t].options[null==n?void 0:n.optionIndex])||void 0===c?void 0:c.checked;m[t].options[null==n?void 0:n.optionIndex].checked=!e}}else if(n){let e=null===(u=m[t].options[null==n?void 0:n.optionIndex])||void 0===u?void 0:u.checked;m[t].options[null==n?void 0:n.optionIndex].checked=!e}else{let e=null===(v=m[p])||void 0===v?void 0:v.checked;m[p].checked=!e,m[p].options=m[p].options.map(l=>{if((null==l?void 0:l.type)==="array"){var n;let t=null===(n=Object.entries(l.props.value))||void 0===n?void 0:n.reduce((l,n)=>{let[t]=n;return{...l,[t]:!e}},{});return{...l,checked:!e,props:{...(null==l?void 0:l.props)||{},value:t}}}return{...l,checked:!e}})}o(h)};return(0,t.jsxs)(J.Z,{open:l,onClose:n,fullWidth:!0,"data-sentry-element":"Dialog","data-sentry-component":"DashboardSettings","data-sentry-source-file":"DashboardSettings.jsx",children:[(0,t.jsxs)(Y.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},"data-sentry-element":"DialogTitle","data-sentry-source-file":"DashboardSettings.jsx",children:[(0,t.jsxs)(a.Z,{gap:2,direction:"row","data-sentry-element":"Stack","data-sentry-source-file":"DashboardSettings.jsx",children:[(0,t.jsx)(p.Z,{variant:"h6","data-sentry-element":"Typography","data-sentry-source-file":"DashboardSettings.jsx",children:"Configuration"}),(0,t.jsx)(ep.Z,{onFileUpload:e=>{(null==e?void 0:e.account)&&(null==e?void 0:e.characters)&&d(e)},"data-sentry-element":"FileUploadButton","data-sentry-source-file":"DashboardSettings.jsx",children:"Import"}),(0,t.jsx)(eh.Z,{onClick:()=>(0,g.handleDownload)(i,"it-dashboard-config"),variant:"outlined",size:"small","data-sentry-element":"Button","data-sentry-source-file":"DashboardSettings.jsx",children:"Export"})]}),(0,t.jsx)(er.Z,{onClick:n,"data-sentry-element":"IconButton","data-sentry-source-file":"DashboardSettings.jsx",children:(0,t.jsx)(es.Z,{"data-sentry-element":"CloseIcon","data-sentry-source-file":"DashboardSettings.jsx"})})]}),(0,t.jsx)($.Z,{"data-sentry-element":"DialogContent","data-sentry-source-file":"DashboardSettings.jsx",children:(0,t.jsxs)(ev.Z,{tabs:["Account","Character","Timers"],"data-sentry-element":"Tabber","data-sentry-source-file":"DashboardSettings.jsx",children:[(0,t.jsx)(c.Z,{"data-sentry-element":"Box","data-sentry-source-file":"DashboardSettings.jsx",children:(0,t.jsx)(FieldsByType,{config:null==i?void 0:i.account,configType:"account",onChange:handleSettingChange,"data-sentry-element":"FieldsByType","data-sentry-source-file":"DashboardSettings.jsx"})}),(0,t.jsx)(c.Z,{"data-sentry-element":"Box","data-sentry-source-file":"DashboardSettings.jsx",children:(0,t.jsx)(FieldsByType,{config:null==i?void 0:i.characters,configType:"characters",onChange:handleSettingChange,"data-sentry-element":"FieldsByType","data-sentry-source-file":"DashboardSettings.jsx"})}),(0,t.jsx)(c.Z,{"data-sentry-element":"Box","data-sentry-source-file":"DashboardSettings.jsx",children:(0,t.jsx)(FieldsByType,{config:null==i?void 0:i.timers,configType:"timers",onChange:handleSettingChange,"data-sentry-element":"FieldsByType","data-sentry-source-file":"DashboardSettings.jsx"})})]})})]})},em=n(54971);let migrateToVersion2=function(){var e,l;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={...n};if(t||(t={}),null==t?void 0:null===(l=t.account)||void 0===l?void 0:null===(e=l["World 2"])||void 0===e?void 0:e.alchemy){let e=t.account["World 2"].alchemy.options.map(e=>{let{name:l,category:n}=e;return"bargainTag"!==l||n?"sigils"!==l||n?e:{...e,category:"sigils"}:{...e,category:"liquidShop"}}),l=e.find(e=>{let{name:l}=e;return"gems"===l});l||(e=e.toSpliced(1,0,{name:"gems",checked:!0})),t.account["World 2"].alchemy.options=e}return t.version=2,t},migrateToVersion3=e=>{var l,n,t,i,o,d,a,r,s,c;let u={...e};return u||(u={}),(null==u?void 0:null===(i=u.account)||void 0===i?void 0:null===(t=i["World 5"])||void 0===t?void 0:null===(n=t.hole)||void 0===n?void 0:null===(l=n.options)||void 0===l?void 0:l.length)===7&&(u.account["World 5"].hole.options=[...null==u?void 0:null===(c=u.account)||void 0===c?void 0:null===(s=c["World 5"])||void 0===s?void 0:null===(r=s.hole)||void 0===r?void 0:r.options,{name:"justice",checked:!0,type:"input",props:{label:"Reward multi threshold",value:1,minValue:1,helperText:""}}]),null==u||null===(o=u.timers)||void 0===o||!o["World 5"]||(null==u?void 0:null===(a=u.timers)||void 0===a?void 0:null===(d=a["World 5"])||void 0===d?void 0:d.justice)||(u.timers["World 5"]={...u.timers["World 5"],justice:{checked:!0,options:[]}}),u.version=3,u},migrateToVersion4=e=>{var l,n,t,i;let o={...e};return o||(o={}),(null==o?void 0:null===(i=o.account)||void 0===i?void 0:null===(t=i.General)||void 0===t?void 0:null===(n=t.etc)||void 0===n?void 0:null===(l=n.options)||void 0===l?void 0:l.length)===6&&(o.account.General.etc.options=[...o.account.General.etc.options,{name:"familyObols",checked:!0}]),o.version=4,o},migrateConfig=(e,l)=>{if((null==e?void 0:e.version)===(null==l?void 0:l.version))return l;let n=l;return Object.keys(l||{}).length?((null==l?void 0:l.version)&&(null==l?void 0:l.version)!==1||(n=migrateToVersion2(l)),(null==n?void 0:n.version)===2&&(n=migrateToVersion3(n)),(null==n?void 0:n.version)===3&&(n=migrateToVersion4(n))):n=e,n},eg={version:4,account:{General:{tasks:{checked:!0,options:[{name:"tasks",type:"array",category:"Worlds",props:{value:[1,2,3,4].toSimpleObject()},checked:!0}]},materialTracker:{checked:!0,options:[]},guild:{checked:!0,options:[{name:"daily",checked:!0},{name:"weekly",checked:!0}]},shops:{checked:!0,options:[{name:"shops",type:"array",props:{value:(0,K.gN)(),type:"img"},checked:!0}]},etc:{checked:!0,options:[{name:"dungeonTraits",checked:!0},{name:"randomEvents",checked:!0},{name:"keys",checked:!0},{name:"miniBosses",type:"input",props:{label:"Bosses threshold",value:2,minValue:2},checked:!0},{name:"newCharacters",checked:!0},{name:"gemsFromBosses",checked:!0},{name:"familyObols",checked:!0}]}},"World 1":{stamps:{checked:!0,options:[{name:"gildedStamps",checked:!0}]},owl:{checked:!0,options:[{name:"featherRestart",checked:!0},{name:"megaFeatherRestart",checked:!0}]}},"World 2":{alchemy:{checked:!0,options:[{name:"bargainTag",checked:!0,category:"liquidShop"},{name:"gems",checked:!0},{name:"sigils",checked:!0,category:"sigils"},{name:"liquids",category:"liquids",type:"input",props:{label:"Liquid percent",value:90,maxValue:100,minValue:0},checked:!0},{name:"vials",category:"vials",checked:!0},{name:"vialsAttempts",checked:!0},{name:"subtractGreenStacks",checked:!0},{name:"alternateParticles",checked:!0}]},islands:{checked:!0,options:[{name:"unclaimedDays",type:"input",props:{label:"Threshold",value:1,minValue:1},checked:!0},{name:"shimmerIsland",checked:!0}]},postOffice:{checked:!0,options:[{name:"dailyShipments",type:"array",category:"dailyShipments",checked:!0,props:{value:[1,2,3,4,5,6].toSimpleObject()}},{name:"showAlertOnlyWhen0Shields",checked:!1,helperText:"Daily shipments alert"}]},arcade:{checked:!0,options:[{name:"balls",checked:!0}]},weeklyBosses:{checked:!0,options:[]},killRoy:{checked:!0,options:[]},kangaroo:{checked:!0,options:[{name:"shinyThreshold",type:"input",props:{label:"Shiny Catch %",value:100,minValue:100},checked:!0},{name:"fisherooReset",checked:!0},{name:"greatestCatch",checked:!0}]}},"World 3":{printer:{checked:!0,options:[{name:"includeOakAndCopper",category:"atoms",checked:!1},{name:"showAlertWhenFull",checked:!1}]},library:{checked:!0,options:[{name:"books",checked:!0}]},construction:{checked:!0,options:[{name:"flags",checked:!0},{name:"buildings",checked:!0},{name:"materials",category:"refinery",checked:!0},{name:"rankUp",checked:!0}]},equinox:{checked:!0,options:[{name:"bar",checked:!0},{name:"challenges",checked:!0},{name:"foodLust",checked:!0}]},atomCollider:{checked:!0,options:[{name:"stampReducer",type:"input",props:{label:"Threshold",value:90,maxValue:90,minValue:0,endAdornment:"%"},checked:!0}]}},"World 4":{breeding:{checked:!0,options:[{name:"eggs",checked:!0},{name:"eggsRarity",type:"input",props:{label:"Eggs rarity",value:1,minValue:1,helperText:"1=Copper, 2=Iron, 3=Gold"},checked:!1},{name:"shinies",type:"input",props:{label:"Level threshold",value:5},checked:!0}]},cooking:{checked:!0,options:[{name:"spices",checked:!0}]},laboratory:{checked:!0,options:[{name:"chipsRotation",checked:!0},{name:"jewelsRotation",checked:!0}]}},"World 5":{gaming:{checked:!0,options:[{name:"sprouts",checked:!0},{name:"squirrel",type:"input",props:{label:"Hours threshold",value:1,minValue:1},checked:!0},{name:"shovel",type:"input",props:{label:"Hours threshold",value:1,minValue:1},checked:!0}]},sailing:{checked:!0,options:[{name:"captains",checked:!0},{name:"chests",checked:!0}]},hole:{checked:!0,options:[{name:"buckets",type:"input",props:{label:"Sediment threshold",value:1e3,minValue:1,helperText:"Set 0 for max"},checked:!0},{name:"motherlode",checked:!0},{name:"bravery",checked:!0,type:"input",props:{label:"Reward multi threshold",value:1,minValue:1,helperText:""}},{name:"theWell",checked:!0},{name:"theHarp",checked:!0,type:"input",props:{label:"Power threshold",value:100,minValue:1,helperText:"%"}},{name:"theHive",checked:!0},{name:"grotto",checked:!0},{name:"justice",checked:!0,type:"input",props:{label:"Reward multi threshold",value:1,minValue:1,helperText:""}}]}},"World 6":{sneaking:{checked:!0,options:[{name:"lastLooted",type:"input",props:{label:"Last looted",value:120,minValue:0,helperText:"in minutes"},checked:!0}]},farming:{checked:!0,options:[{name:"plots",type:"input",props:{label:"OG Threshold",value:0,minValue:0,helperText:"1=x2, 2=x4, 3=x8, 4=x16"},checked:!0},{name:"totalCrops",type:"input",props:{label:"Crop Threshold",value:1,minValue:1,helperText:""},checked:!1},{name:"missingPlots",checked:!0}]},summoning:{checked:!0,options:[{name:"familiar",checked:!0,type:"input",props:{label:"Threshold",value:10,minValue:0,helperText:""}}]}}},characters:{cards:{checked:!0,options:[{name:"cardSet",checked:!0}]},anvil:{checked:!0,options:[{name:"unspentPoints",checked:!0},{name:"missingHammers",checked:!0},{name:"anvilOverdue",checked:!0},{name:"showAlertBeforeFull",checked:!0,category:"anvil overdue"}]},worship:{checked:!0,options:[{name:"unendingEnergy",checked:!0},{name:"chargeOverdue",checked:!0}]},traps:{checked:!0,options:[{name:"missingTraps",checked:!0},{name:"trapsOverdue",checked:!0}]},alchemy:{checked:!0,options:[{name:"missingBubbles",checked:!0}]},obols:{checked:!0,options:[{name:"missingObols",checked:!0}]},postOffice:{checked:!0,options:[{name:"unspentPoints",checked:!0,type:"input",props:{label:"Number of boxes",value:1}}]},starSigns:{checked:!0,options:[{name:"missingStarSigns",checked:!0}]},crystalCountdown:{checked:!0,options:[{name:"showMaxed",checked:!0},{name:"showNonMaxed",checked:!1}]},tools:{checked:!0,options:[]},divinityStyle:{checked:!0,options:[]},talents:{checked:!0,options:[{name:"talents",type:"array",category:"cooldowns",checked:!0,props:{value:{printerGoBrrr:!0,refineryThrottle:!0,craniumCooking:!0,"itsYourBirthday!":!0,voidTrialRerun:!0,arenaSpirit:!0,tasteTest:!0}}},{category:"Misc",name:"alwaysShowTalents",checked:!1}]},equipment:{checked:!0,options:[{name:"availableUpgradesSlots",checked:!0}]}},timers:{General:{daily:{checked:!0,options:[]},weekly:{checked:!0,options:[]},companions:{checked:!0,options:[]},syphonCharge:{checked:!0,options:[]},closestFullWorship:{checked:!0,options:[]},dungeonHappyHour:{checked:!0,options:[]},randomEvents:{checked:!0,options:[]},sailingTrades:{checked:!0,options:[]}},Etc:{library:{checked:!0,options:[]},minibosses:{checked:!0,options:[]}},"World 1":{featherRestart:{checked:!0,options:[]},megaFeatherRestart:{checked:!0,options:[]}},"World 2":{fisherooReset:{checked:!0,options:[]},greatestCatch:{checked:!0,options:[]}},"World 3":{printer:{checked:!0,options:[]},closestTrap:{checked:!0,options:[]},closestBuilding:{checked:!0,options:[]},closestSalt:{checked:!0,options:[]}},"World 5":{monument:{checked:!0,options:[]},justice:{checked:!0,options:[]}}}};var dashboard=()=>{let{dispatch:e,state:l}=(0,i.useContext)(o.I),{characters:n,account:u,lastUpdated:v}=l,[h,p]=(0,i.useState)(!1),[m,x]=(0,i.useState)(),[y,f]=i.useState((0,g.tryToParse)(localStorage.getItem("dashboard-filters"))||["account","characters","timers"]),j=(0,d.Z)("(min-width: 1600px)",{noSsr:!0}),k=(0,d.Z)("(min-width: 850px)",{noSsr:!0});(0,i.useEffect)(()=>{let e=migrateConfig(eg,null==l?void 0:l.trackers);x({account:e.account,characters:e.characters,timers:e.timers,version:(null==eg?void 0:eg.version)||1})},[]);let isDisplayed=e=>y.includes(e);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.PB,{title:"Dashboard | Idleon Toolbox",description:"Provides key information about your account and alerts you when there are unfinished tasks","data-sentry-element":"NextSeo","data-sentry-source-file":"dashboard.jsx"}),(0,t.jsxs)(a.Z,{direction:"row",gap:2,justifyContent:"space-between","data-sentry-element":"Stack","data-sentry-source-file":"dashboard.jsx",children:[(0,t.jsxs)(a.Z,{sx:{maxWidth:k||j?em.s:"100%"},"data-sentry-element":"Stack","data-sentry-source-file":"dashboard.jsx",children:[(0,t.jsxs)(a.Z,{mb:1,direction:"row",alignItems:"center",gap:3,flexWrap:"wrap","data-sentry-element":"Stack","data-sentry-source-file":"dashboard.jsx",children:[(0,t.jsxs)(r.Z,{value:y,onChange:(e,l)=>{0!==l.length&&(f(l),localStorage.setItem("dashboard-filters",JSON.stringify(l)))},"data-sentry-element":"ToggleButtonGroup","data-sentry-source-file":"dashboard.jsx",children:[(0,t.jsx)(s.Z,{sx:{textTransform:"none"},value:"account","data-sentry-element":"ToggleButton","data-sentry-source-file":"dashboard.jsx",children:"Account"}),(0,t.jsx)(s.Z,{sx:{textTransform:"none"},value:"characters","data-sentry-element":"ToggleButton","data-sentry-source-file":"dashboard.jsx",children:"Characters"}),(0,t.jsx)(s.Z,{sx:{textTransform:"none"},value:"timers","data-sentry-element":"ToggleButton","data-sentry-source-file":"dashboard.jsx",children:"Timers"})]}),(0,t.jsx)(eh.Z,{variant:"outlined",sx:{textTransform:"none"},startIcon:(0,t.jsx)(M.Z,{}),onClick:()=>p(!0),"data-sentry-element":"Button","data-sentry-source-file":"dashboard.jsx",children:"Configure alerts"})]}),(0,t.jsxs)(a.Z,{gap:2,"data-sentry-element":"Stack","data-sentry-source-file":"dashboard.jsx",children:[isDisplayed("account")?(0,t.jsx)(F.Z,{trackers:null==m?void 0:m.account,characters:n,account:u,lastUpdated:v}):null,isDisplayed("characters")?(0,t.jsx)(dashboard_Characters,{trackers:null==m?void 0:m.characters,characters:n,account:u,lastUpdated:v}):null,isDisplayed("timers")?(0,t.jsx)(dashboard_Etc,{characters:n,account:u,trackers:null==m?void 0:m.timers,lastUpdated:v}):null]})]}),(0,t.jsx)(common_DashboardSettings,{onFileUpload:l=>{let n=migrateConfig(eg,l);x(n),e({type:"trackers",migratedConfig:n})},onChange:l=>{x(l),e({type:"trackers",data:l})},open:h,onClose:()=>p(!1),config:m,"data-sentry-element":"DashboardSettings","data-sentry-source-file":"dashboard.jsx"}),j||k?(0,t.jsxs)(c.Z,{sx:{backgroundColor:g.isProd?"":"#d73333",width:j?300:k?160:0,height:600,position:"sticky",top:100},children:[j?(0,t.jsx)(X.a,{client:"ca-pub-1842647313167572",slot:"2700532291"}):null,k&&!j?(0,t.jsx)(X.a,{client:"ca-pub-1842647313167572",slot:"8040203474"}):null]}):null]})]})}},30778:function(e,l,n){"use strict";n.d(l,{gN:function(){return getRawShopItems},u6:function(){return getShops}});var t=n(65298),i=n(94978);let getShops=e=>{let l=(null==e?void 0:e.ShopStock)||(0,t.tryToParse)(null==e?void 0:e.ShopStock);return parseShops(l)},parseShops=e=>e.reduce((e,l,n)=>{var t;let d=null===(t=Object.values(l))||void 0===t?void 0:t.reduce((e,l,t)=>{var d,a,r,s;let c=null==o?void 0:null===(d=o[n])||void 0===d?void 0:d[t],u=parseInt(l)||0;return u>0&&c?[...e,{amount:l,...null===(r=i.shops[n])||void 0===r?void 0:null===(a=r.items)||void 0===a?void 0:a[t],shopName:null===(s=i.shops[n])||void 0===s?void 0:s.name}]:e},[]);return[...e,d]},[]),getRawShopItems=()=>{var e;return null===(e=Object.entries(i.shops))||void 0===e?void 0:e.reduce((e,l)=>{var n;let[t,{items:i}]=l,d=null==i?void 0:null===(n=i.filter((e,l)=>{var n;return null==o?void 0:null===(n=o[t])||void 0===n?void 0:n[l]}))||void 0===n?void 0:n.map(e=>{let{rawName:l}=e;return l});return[...e,...d]},[]).toSimpleObject()},o={0:[3,8,13,14,17,23].toSimpleObject(),1:[2,8,9,13].toSimpleObject(),2:[0,1,2,3,4,5,6,7,8,9,10,18,19].toSimpleObject(),3:[12].toSimpleObject(),4:[0,1,2,8,9,10,19,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject(),7:[0,1,2,3,4,5,6,7].toSimpleObject()}}},function(e){e.O(0,[637,5085,5152,9774,2888,179],function(){return e(e.s=81840)}),_N_E=e.O()}]);