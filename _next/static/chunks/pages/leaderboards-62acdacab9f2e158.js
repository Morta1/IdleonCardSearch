(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5983],{81426:function(e,n,r){"use strict";r.d(n,{Z:function(){return S}});var t=r(87462),a=r(63366),l=r(67294),i=r(86010),o=r(94780),s=r(34867),c=r(18719),d=r(13264),u=r(29628),p=r(96682),h=r(39707),g=r(66500);function appendLevel(e){return e?`Level${e}`:""}function isNestedContainer(e){return e.unstable_level>0&&e.container}function createGetSelfSpacing(e){return function(n){return`var(--Grid-${n}Spacing${appendLevel(e.unstable_level)})`}}function createGetParentSpacing(e){return function(n){return 0===e.unstable_level?`var(--Grid-${n}Spacing)`:`var(--Grid-${n}Spacing${appendLevel(e.unstable_level-1)})`}}function getParentColumns(e){return 0===e.unstable_level?"var(--Grid-columns)":`var(--Grid-columns${appendLevel(e.unstable_level-1)})`}let filterBreakpointKeys=(e,n)=>e.filter(e=>n.includes(e)),traverseBreakpoints=(e,n,r)=>{let t=e.keys[0];if(Array.isArray(n))n.forEach((n,t)=>{r((n,r)=>{t<=e.keys.length-1&&(0===t?Object.assign(n,r):n[e.up(e.keys[t])]=r)},n)});else if(n&&"object"==typeof n){let a=Object.keys(n).length>e.keys.length?e.keys:filterBreakpointKeys(e.keys,Object.keys(n));a.forEach(a=>{if(-1!==e.keys.indexOf(a)){let l=n[a];void 0!==l&&r((n,r)=>{t===a?Object.assign(n,r):n[e.up(a)]=r},l)}})}else("number"==typeof n||"string"==typeof n)&&r((e,n)=>{Object.assign(e,n)},n)},generateGridSizeStyles=({theme:e,ownerState:n})=>{let r=createGetSelfSpacing(n),t={};return traverseBreakpoints(e.breakpoints,n.gridSize,(e,a)=>{let l={};!0===a&&(l={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===a&&(l={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof a&&(l={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${a} / ${getParentColumns(n)}${isNestedContainer(n)?` + ${r("column")}`:""})`}),e(t,l)}),t},generateGridOffsetStyles=({theme:e,ownerState:n})=>{let r={};return traverseBreakpoints(e.breakpoints,n.gridOffset,(e,t)=>{let a={};"auto"===t&&(a={marginLeft:"auto"}),"number"==typeof t&&(a={marginLeft:0===t?"0px":`calc(100% * ${t} / ${getParentColumns(n)})`}),e(r,a)}),r},generateGridColumnsStyles=({theme:e,ownerState:n})=>{if(!n.container)return{};let r=isNestedContainer(n)?{[`--Grid-columns${appendLevel(n.unstable_level)}`]:getParentColumns(n)}:{"--Grid-columns":12};return traverseBreakpoints(e.breakpoints,n.columns,(e,t)=>{e(r,{[`--Grid-columns${appendLevel(n.unstable_level)}`]:t})}),r},generateGridRowSpacingStyles=({theme:e,ownerState:n})=>{if(!n.container)return{};let r=createGetParentSpacing(n),t=isNestedContainer(n)?{[`--Grid-rowSpacing${appendLevel(n.unstable_level)}`]:r("row")}:{};return traverseBreakpoints(e.breakpoints,n.rowSpacing,(r,a)=>{var l;r(t,{[`--Grid-rowSpacing${appendLevel(n.unstable_level)}`]:"string"==typeof a?a:null==(l=e.spacing)?void 0:l.call(e,a)})}),t},generateGridColumnSpacingStyles=({theme:e,ownerState:n})=>{if(!n.container)return{};let r=createGetParentSpacing(n),t=isNestedContainer(n)?{[`--Grid-columnSpacing${appendLevel(n.unstable_level)}`]:r("column")}:{};return traverseBreakpoints(e.breakpoints,n.columnSpacing,(r,a)=>{var l;r(t,{[`--Grid-columnSpacing${appendLevel(n.unstable_level)}`]:"string"==typeof a?a:null==(l=e.spacing)?void 0:l.call(e,a)})}),t},generateGridDirectionStyles=({theme:e,ownerState:n})=>{if(!n.container)return{};let r={};return traverseBreakpoints(e.breakpoints,n.direction,(e,n)=>{e(r,{flexDirection:n})}),r},generateGridStyles=({ownerState:e})=>{let n=createGetSelfSpacing(e),r=createGetParentSpacing(e);return(0,t.Z)({minWidth:0,boxSizing:"border-box"},e.container&&(0,t.Z)({display:"flex",flexWrap:"wrap"},e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},{margin:`calc(${n("row")} / -2) calc(${n("column")} / -2)`},e.disableEqualOverflow&&{margin:`calc(${n("row")} * -1) 0px 0px calc(${n("column")} * -1)`}),(!e.container||isNestedContainer(e))&&(0,t.Z)({padding:`calc(${r("row")} / 2) calc(${r("column")} / 2)`},(e.disableEqualOverflow||e.parentDisableEqualOverflow)&&{padding:`${r("row")} 0px 0px ${r("column")}`}))},generateSizeClassNames=e=>{let n=[];return Object.entries(e).forEach(([e,r])=>{!1!==r&&void 0!==r&&n.push(`grid-${e}-${String(r)}`)}),n},generateSpacingClassNames=(e,n="xs")=>{function isValidSpacing(e){return void 0!==e&&("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e&&e>0)}if(isValidSpacing(e))return[`spacing-${n}-${String(e)}`];if("object"==typeof e&&!Array.isArray(e)){let n=[];return Object.entries(e).forEach(([e,r])=>{isValidSpacing(r)&&n.push(`spacing-${e}-${String(r)}`)}),n}return[]},generateDirectionClasses=e=>void 0===e?[]:"object"==typeof e?Object.entries(e).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(e)}`];var v=r(85893);let f=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],x=(0,g.Z)(),m=(0,d.Z)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,n)=>n.root});function useThemePropsDefault(e){return(0,u.Z)({props:e,name:"MuiGrid",defaultTheme:x})}function createGrid(e={}){let{createStyledComponent:n=m,useThemeProps:r=useThemePropsDefault,componentName:d="MuiGrid"}=e,u=l.createContext(void 0),useUtilityClasses=(e,n)=>{let{container:r,direction:t,spacing:a,wrap:l,gridSize:i}=e,c={root:["root",r&&"container","wrap"!==l&&`wrap-xs-${String(l)}`,...generateDirectionClasses(t),...generateSizeClassNames(i),...r?generateSpacingClassNames(a,n.breakpoints.keys[0]):[]]};return(0,o.Z)(c,e=>(0,s.Z)(d,e),{})},g=n(generateGridColumnsStyles,generateGridColumnSpacingStyles,generateGridRowSpacingStyles,generateGridSizeStyles,generateGridDirectionStyles,generateGridStyles,generateGridOffsetStyles),x=l.forwardRef(function(e,n){var o,s,d,x,m,b,j,C;let S=(0,p.Z)(),y=r(e),w=(0,h.Z)(y),Z=l.useContext(u),{className:G,children:k,columns:_=12,container:O=!1,component:$="div",direction:N="row",wrap:L="wrap",spacing:M=0,rowSpacing:E=M,columnSpacing:P=M,disableEqualOverflow:T,unstable_level:A=0}=w,B=(0,a.Z)(w,f),z=T;A&&void 0!==T&&(z=e.disableEqualOverflow);let D={},q={},I={};Object.entries(B).forEach(([e,n])=>{void 0!==S.breakpoints.values[e]?D[e]=n:void 0!==S.breakpoints.values[e.replace("Offset","")]?q[e.replace("Offset","")]=n:I[e]=n});let R=null!=(o=e.columns)?o:A?void 0:_,F=null!=(s=e.spacing)?s:A?void 0:M,U=null!=(d=null!=(x=e.rowSpacing)?x:e.spacing)?d:A?void 0:E,W=null!=(m=null!=(b=e.columnSpacing)?b:e.spacing)?m:A?void 0:P,V=(0,t.Z)({},w,{level:A,columns:R,container:O,direction:N,wrap:L,spacing:F,rowSpacing:U,columnSpacing:W,gridSize:D,gridOffset:q,disableEqualOverflow:null!=(j=null!=(C=z)?C:Z)&&j,parentDisableEqualOverflow:Z}),K=useUtilityClasses(V,S),X=(0,v.jsx)(g,(0,t.Z)({ref:n,as:$,ownerState:V,className:(0,i.Z)(K.root,G)},I,{children:l.Children.map(k,e=>{if(l.isValidElement(e)&&(0,c.Z)(e,["Grid"])){var n;return l.cloneElement(e,{unstable_level:null!=(n=e.props.unstable_level)?n:A+1})}return e})}));return void 0!==z&&z!==(null!=Z&&Z)&&(X=(0,v.jsx)(u.Provider,{value:z,children:X})),X});return x.muiName="Grid",x}var b=r(90948),j=r(71657);let C=createGrid({createStyledComponent:(0,b.ZP)("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,n)=>n.root}),componentName:"MuiGrid2",useThemeProps:e=>(0,j.Z)({props:e,name:"MuiGrid2"})});var S=C},18131:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboards",function(){return r(15362)}])},30509:function(e,n,r){"use strict";var t=r(85893),a=r(67294),l=r(98396),i=r(11703),o=r(40044),s=r(30925),c=r(87357);n.Z=e=>{let{tabs:n,icons:r,children:d,onTabChange:u,forceScroll:p,orientation:h="horizontal",iconsOnly:g}=e,[v,f]=(0,a.useState)(0),x=(0,l.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),m=Array.isArray(d)?d:[d];return(0,t.jsxs)(c.Z,{sx:"vertical"===h?{flexGrow:1,display:"flex"}:{},children:[(0,t.jsx)(i.Z,{centered:!x||x&&n.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:x&&n.length>4||p?"scrollable":"standard",value:v,onChange:(e,n)=>{f(n),u&&u(n)},children:null==n?void 0:n.map((e,n)=>(0,t.jsx)(o.Z,{iconPosition:"start",icon:(null==r?void 0:r[n])?(0,t.jsx)("img",{src:"".concat(s.prefix).concat(null==r?void 0:r[n],".png")}):null,wrapped:!0,label:g?"":e,sx:{minWidth:62}},"".concat(e,"-").concat(n)))}),u?d:null==m?void 0:m.map((e,n)=>n===v?e:null)]})}},15362:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return leaderboards}});var t=r(85893),a=r(21785),l=r(23972),i=r(66242),o=r(44267),s=r(417),c=r(50135),d=r(51233),u=r(98456),p=r(30509),h=r(82729),g=r(67294),v=r(78462),f=r(97212),x=r(59334),m=r(23795),b=r(90629),j=r(81426),C=r(30925),S=r(87357),y=r(61599);function _templateObject(){let e=(0,h._)(["\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,h._)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  border-radius: 12px;\n  box-shadow: none;\n  height: ","px;\n  order: ",";\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,h._)(["\n  display: flex;\n  padding: 8px;\n  margin: auto auto 0 auto;\n  justify-content: center;\n  border-radius: 12px 12px 0 0;\n  box-shadow: none;\n  width: 100%;\n  background-color: ",";\n  outline: ",";\n  outline-color: ","\n"]);return _templateObject2=function(){return e},e}let w="#007E85",Z="#cd861b",G="#12141c",specialNotation=(e,n)=>"bits"===e?(0,C.notateNumber)(n,"bits"):"dropRate"===e?(0,C.notateNumber)(n,"MultiplierInfo"):(0,C.notateNumber)(n),TopThree=e=>{let{sectionName:n,topThree:r}=e;return(0,t.jsx)(j.Z,{container:!0,spacing:4,children:r.map((e,a)=>{let i=(null==e?void 0:e[n])||0;return(0,t.jsx)(j.Z,{xs:(null==r?void 0:r.length)===1?12:4,order:0===a?2:1===a?1:3,alignSelf:"flex-end",children:(0,t.jsxs)(_,{height:0===a?125:1===a?115:105,children:[(0,t.jsxs)(d.Z,{sx:{height:"100%"},gap:1,alignItems:"center",justifyContent:"center",direction:"row",children:[(0,t.jsx)(l.Z,{children:a+1}),(0,t.jsx)(S.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)("img",{width:2===a?20:24,height:2===a?20:24,style:{objectFit:"contain"},src:"".concat(C.prefix).concat(0===a?"data/Trophie.png":1===a?"data/G2icon40.png":"data/G2icon39.png"),alt:""})})]}),(0,t.jsx)(O,{loggedMainChar:null==e?void 0:e.loggedMainChar,searchedChar:null==e?void 0:e.searchedChar,children:(0,t.jsxs)(d.Z,{justifyContent:"center",children:[(0,t.jsx)(l.Z,{textAlign:"center",sx:{mt:"auto"},children:(0,t.jsx)(m.Z,{color:"inherit",underline:"hover",target:"_blank",href:"https://idleontoolbox.com?profile=".concat(null==e?void 0:e.mainChar),children:null==e?void 0:e.mainChar})}),(0,t.jsx)(l.Z,{textAlign:"center",children:specialNotation(n,i)})]})})]})},"top-three-".concat(n,"-").concat(null==e?void 0:e.mainChar))})})},k=(0,y.Z)(S.Z,{shouldForwardProp:e=>"inline"!==e})(_templateObject(),e=>{let{inline:n}=e;return n?"inline-flex":"flex"},e=>{let{bgColor:n}=e;return n||"#ffffff21"}),_=(0,y.Z)(b.Z,{shouldForwardProp:e=>"bgColor"!==e&&"order"!==e&&"inline"!==e})(_templateObject1(),e=>{let{height:n}=e;return n},e=>{let{order:n}=e;return n}),O=(0,y.Z)(b.Z,{shouldForwardProp:e=>"searchedChar"!==e&&"loggedMainChar"!==e})(_templateObject2(),e=>{let{outline:n}=e;return n?G:"#161826"},e=>{let{loggedMainChar:n,searchedChar:r}=e;return n||r?"3px solid":"none"},e=>{let{loggedMainChar:n,searchedChar:r}=e;return n?w:r?Z:""});var Leaderboard=e=>{let{leaderboards:n,loggedMainChar:r,searchedChar:a}=e;return(0,t.jsx)(j.Z,{sx:{width:"100%",margin:"0 auto"},justifySelf:"center",container:!0,rowSpacing:3,columnSpacing:{lg:4,xl:12},children:Object.entries(n||{}).map((e,n)=>{var i;let[o,s]=e,c={},d=s.map((e,n)=>{let t=e.mainChar,l=t===r,i=t===a;return(l||i)&&n>=10&&(c[t]=n+1),{...e,...l&&{loggedMainChar:!0},...i&&{searchedChar:!0},index:n+1}}),u=null===(i=Object.entries(c))||void 0===i?void 0:i.map(e=>{let[n,t]=e,a=null==s?void 0:s.find(e=>(null==e?void 0:e.mainChar)===n),l=a.mainChar===r?"loggedMainChar":"searchedChar";return{...a,[l]:!0,index:t}},[]),p=null==d?void 0:d.toSpliced(3),h=null==d?void 0:d.slice(3,10).concat(u),g=(null==s?void 0:s.length)===0;return(0,t.jsxs)(j.Z,{xs:12,lg:6,xl:4,children:[(0,t.jsx)(l.Z,{textAlign:"center",variant:"h4",mt:{xs:3,lg:0},mb:{xs:3,lg:1},children:o.camelToTitleCase()}),g?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.Z,{textAlign:"center",mt:5,variant:"h6",children:"Nothing here yet"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(TopThree,{sectionName:o,topThree:p}),(0,t.jsx)(v.Z,{children:h.map((e,n)=>{let r=(null==e?void 0:e[o])||0;return(0,t.jsx)(f.ZP,{sx:{mb:(null==e?void 0:e.loggedMainChar)||(null==e?void 0:e.searchedChar)?.8:0,backgroundColor:(null==e?void 0:e.loggedMainChar)||(null==e?void 0:e.searchedChar)?G:"#1a1d2a",outline:(null==e?void 0:e.loggedMainChar)||(null==e?void 0:e.searchedChar)?"2px solid":"none",outlineColor:(null==e?void 0:e.loggedMainChar)?w:(null==e?void 0:e.searchedChar)?Z:""},secondaryAction:(0,t.jsx)(l.Z,{children:specialNotation(o,r)}),children:(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(k,{inline:!0,sx:{mr:2},children:(null==e?void 0:e.index)?null==e?void 0:e.index:n+4})," ",(0,t.jsx)(m.Z,{color:"inherit",underline:"hover",target:"_blank",href:"https://idleontoolbox.com?profile=".concat(null==e?void 0:e.mainChar),children:null==e?void 0:e.mainChar})]})},"".concat(o,"-").concat(n))})})]})]},"".concat(o,"-").concat(n))})})},$=r(21480),N=r(2962),L=r(94967);let M=(0,a.D)({trim:!0,limit:50}),E=["general","tasks","skills","character","misc"];var leaderboards=()=>{var e,n,r;let{state:a}=(0,g.useContext)($.I),h=null==a?void 0:null===(n=a.characters)||void 0===n?void 0:null===(e=n[0])||void 0===e?void 0:e.name,[v,f]=(0,g.useState)(null),[x,m]=g.useState(""),[b,j]=(0,g.useState)(""),[C,y]=(0,g.useState)("general");return(0,g.useEffect)(()=>{let getLeaderboards=async()=>{try{let e=await (0,L.$E)(C);f(e),m("")}catch(e){m("Error has occurred while getting leaderboards")}};getLeaderboards()},[C]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.PB,{title:"Leaderboards | Idleon Toolbox",description:"Leaderboards for Idleon MMO"}),(0,t.jsx)(l.Z,{textAlign:"center",variant:"h2",children:"Leaderboards"}),(0,t.jsx)(l.Z,{textAlign:"center",sx:{fontSize:14},component:"div",variant:"caption",children:"* To participate in the leaderboards, please upload your profile with leaderboard consent."}),(0,t.jsx)(l.Z,{mb:3,textAlign:"center",sx:{fontSize:14},component:"div",variant:"caption",children:"* Leaderboards contains the top 100 players of each category"}),(null==v?void 0:v.totalUsers)?(0,t.jsx)(i.Z,{variant:"outlined",sx:{width:"fit-content",margin:"16px auto",borderColor:"success.light"},children:(0,t.jsx)(o.Z,{sx:{"&:last-child":{p:1}},children:(0,t.jsxs)(l.Z,{textAlign:"center",sx:{fontSize:14},component:"div",variant:"caption",children:["Uploaded accounts: ",null==v?void 0:v.totalUsers]})})}):null,(null==v?void 0:v.totalUsers)?(0,t.jsx)(S.Z,{sx:{width:"fit-content",margin:"16px auto",border:"none"},children:(0,t.jsx)(s.Z,{options:(null===(r=Object.values((null==v?void 0:v[C])||{}))||void 0===r?void 0:r[0])||[],getOptionLabel:e=>e.mainChar,id:"user-search",filterOptions:M,sx:{width:230},value:b||null,onChange:(e,n)=>j(n),renderInput:e=>(0,t.jsx)(c.Z,{...e,label:"Search by character name",variant:"standard"})})}):null,(0,t.jsxs)(p.Z,{tabs:["General","Tasks","Skills","Character","Misc"],onTabChange:e=>{y(null==E?void 0:E[e]),f(null),m("")},children:[(0,t.jsx)(Leaderboard,{leaderboards:null==v?void 0:v.general,loggedMainChar:h,searchedChar:null==b?void 0:b.mainChar}),(0,t.jsx)(Leaderboard,{leaderboards:null==v?void 0:v.tasks,loggedMainChar:h,searchedChar:null==b?void 0:b.mainChar}),(0,t.jsx)(Leaderboard,{leaderboards:null==v?void 0:v.skills,loggedMainChar:h,searchedChar:null==b?void 0:b.mainChar}),(0,t.jsx)(Leaderboard,{leaderboards:null==v?void 0:v.character,loggedMainChar:h,searchedChar:null==b?void 0:b.mainChar}),(0,t.jsx)(Leaderboard,{leaderboards:null==v?void 0:v.misc,loggedMainChar:h,searchedChar:null==b?void 0:b.mainChar})]}),v||x?x?(0,t.jsx)(l.Z,{color:"error.light",textAlign:"center",variant:"h6",children:x}):null:(0,t.jsx)(d.Z,{alignItems:"center",justifyContent:"center",mt:3,children:(0,t.jsx)(u.Z,{})})]})}}},function(e){e.O(0,[417,9774,2888,179],function(){return e(e.s=18131)}),_N_E=e.O()}]);