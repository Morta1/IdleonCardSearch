(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{51075:function(l,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(9133)}])},44490:function(l,e,n){"use strict";var i=n(82729),o=n(85893),t=n(51233),d=n(15861),a=n(30925),r=n(40929),u=n(61436);n(67294);var s=n(61599);function _templateObject(){let l=(0,i._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return _templateObject=function(){return l},l}let v=s.Z.img(_templateObject());e.Z=l=>{let{eventName:e,mapName:n,date:i}=l;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,o.jsx)(v,{src:"".concat(a.prefix,"etc/").concat(e,".png"),alt:""}),(0,o.jsx)(d.Z,{color:null===a.eventsColors||void 0===a.eventsColors?void 0:a.eventsColors[e],children:(0,a.cleanUnderscore)(e)})]}),(0,o.jsx)(d.Z,{children:(0,a.cleanUnderscore)(n)}),(0,u.Z)(i)?(0,r.Z)(i,"dd/MM/yyyy HH:mm:ss"):null]})}},16372:function(l,e,n){"use strict";var i=n(85893),o=n(51233),t=n(40929),d=n(61436),a=n(30925),r=n(30622);e.Z=l=>{let{rawName:e,date:n,lootItemCost:u,moneyValue:s}=l;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,children:(0,d.Z)(new Date(n))?(0,t.Z)(new Date(n),"dd/MM/yyyy HH:mm:ss"):null}),(0,i.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:1,justifyContent:"center",children:[(0,i.jsxs)(o.Z,{direction:"row",gap:1,children:[(0,i.jsx)("img",{src:"".concat(a.prefix,"data/").concat(e,".png"),alt:""}),(0,a.notateNumber)(u)]}),(0,i.jsx)(r.Z,{}),(0,i.jsxs)(o.Z,{direction:"row",gap:1,children:[(0,i.jsx)("img",{src:"".concat(a.prefix,"data/SailT0.png"),alt:""}),(0,a.notateNumber)(s)]})]})]})}},68575:function(l,e,n){"use strict";var i=n(85893),o=n(67294),t=n(98396),d=n(11703),a=n(40044);e.Z=l=>{let{tabs:e,children:n,onTabChange:r}=l,[u,s]=(0,o.useState)(0),v=(0,t.Z)(l=>l.breakpoints.down("md"),{noSsr:!0}),c=Array.isArray(n)?n:[n];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{centered:!v||v&&e.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:v&&e.length>4?"scrollable":"standard",value:u,onChange:(l,e)=>{s(e),r&&r(e)},children:null==e?void 0:e.map((l,e)=>(0,i.jsx)(a.Z,{label:l},"".concat(l,"-").concat(e)))}),r?n:null==c?void 0:c.map((l,e)=>e===u?l:null)]})}},9137:function(l,e,n){"use strict";var i=n(85893),o=n(67294),t=n(60970),d=n(33913),a=n(30925),r=n(15861);let u=(0,o.forwardRef)((l,e)=>{let{date:n,startDate:u,lastUpdated:s,stopAtZero:v,type:c,pause:h,staticTime:p,placeholder:m,loop:g,variant:x="inherit",...f}=l,[j,k]=(0,o.useState)();(0,o.useEffect)(()=>{if(n){if(p){if(!isFinite(n))return;return k({...(0,a.getDuration)(new Date().getTime(),n)})}let l=new Date,e=l.getTime()-(null!=s?s:0),i=(0,d.Z)(n);k({...(0,a.getDuration)(null==l?void 0:l.getTime(),n+e*("countdown"===c?-1:1)),overtime:"countdown"===c&&i})}},[n,s]);let tickUp=()=>{let{days:l,hours:e,minutes:n,seconds:i}=j;60===(i+=1)&&(i=0,60===(n+=1)&&(n=0,24===(e+=1)&&(l+=1))),k({...j,days:l,hours:e,minutes:n,seconds:i})},tickDown=()=>{let{days:l,hours:e,minutes:n,seconds:i}=j;if(0===l&&0===e&&0===n&&0===i){if(v)return;if(g)return k({...(0,a.getDuration)(new Date().getTime(),u)})}-1==(i-=1)&&(i=59,-1==(n-=1)&&(n=59,-1==(e-=1)&&(e=0,l-=1))),k({...j,days:l,hours:e,minutes:n,seconds:i})};(0,t.Z)(()=>{if(!j)return null;"countdown"!==c||(null==j?void 0:j.overtime)?tickUp():tickDown()},h||p?null:1e3);let wrapNumber=l=>{let e=String(l);return(null==e?void 0:e.length)===1?"0".concat(l):l};return j?((null==j?void 0:j.overtime)||h)&&m?(0,i.jsx)(r.Z,{...f,ref:e,children:m}):(0,i.jsxs)(r.Z,{...f,ref:e,variant:x,sx:{color:"".concat((null==j?void 0:j.overtime)&&!g?"#f91d1d":"")},component:"span",children:[(null==j?void 0:j.days)?wrapNumber(null==j?void 0:j.days)+"d:":"",wrapNumber(null==j?void 0:j.hours)+"h:",wrapNumber(null==j?void 0:j.minutes)+"m",(null==j?void 0:j.days)?"":":",(null==j?void 0:j.days)?"":wrapNumber(null==j?void 0:j.seconds)+"s"]}):null});e.Z=u},86736:function(l,e,n){"use strict";n.d(e,{Gr:function(){return MissingData},M5:function(){return m},Wd:function(){return PlayersList},Ye:function(){return CardTitleAndValue},iy:function(){return CardAndBorder},j8:function(){return g},u3:function(){return TalentTooltip},uQ:function(){return TitleAndValue},wD:function(){return CenteredStack}});var i=n(82729),o=n(85893),t=n(67294),d=n(30925),a=n(51233),r=n(15861),u=n(49425),s=n(66242),v=n(44267),c=n(61599),h=n(5072),p=n(54685);function _templateObject(){let l=(0,i._)(["\n  & .MuiBadge-badge {\n    background-color: #d5d5dc;\n    color: rgba(0, 0, 0, 0.87);\n  }\n"]);return _templateObject=function(){return l},l}function _templateObject1(){let l=(0,i._)(["\n  height: 20px;\n  object-fit: contain;\n"]);return _templateObject1=function(){return l},l}function _templateObject2(){let l=(0,i._)(["\n  width: 56px;\n  height: 72px;\n  object-fit: contain;\n  opacity: ",";\n"]);return _templateObject2=function(){return l},l}function _templateObject3(){let l=(0,i._)(["\n  position: absolute;\n  left: 50%;\n  top: -3px;\n  pointer-events: none;\n  transform: translateX(-50%);\n"]);return _templateObject3=function(){return l},l}let m=(0,t.forwardRef)((l,e)=>{let{stat:n,icon:i,img:t,title:u="",...s}=l;return(0,o.jsx)(h.Z,{title:u,children:(0,o.jsxs)(a.Z,{alignItems:"center",...s,ref:e,style:{position:"relative",width:"fit-content"},children:[(0,o.jsx)("img",{...t,src:"".concat(d.prefix,"data/").concat(i,".png"),alt:""}),(0,o.jsx)(r.Z,{variant:"body1",component:"span",children:n})]})})});m.displayName="IconWithText";let TitleAndValue=l=>{let{title:e,value:n,boldTitle:i,titleStyle:t={},valueStyle:d={}}=l;return(0,o.jsxs)(a.Z,{direction:"row",flexWrap:"wrap",alignItems:"center",children:[e?(0,o.jsxs)(r.Z,{style:t,fontWeight:i?"bold":500,component:"span",children:[e,":\xa0"]}):null,(0,o.jsx)(r.Z,{fontSize:15,component:"span",sx:d,children:n})]})},g=(0,c.Z)(u.Z)(_templateObject()),CardAndBorder=l=>{let{cardName:e,stars:n,cardIndex:i,name:t,variant:a,rawName:r,amount:u,nextLevelReq:s}=l,v="cardSet"===a?"".concat(d.prefix,"data/").concat(r,".png"):"".concat(d.prefix,"data/2Cards").concat(i,".png");return(0,o.jsxs)(o.Fragment,{children:[n>0?(0,o.jsx)(j,{src:"".concat(d.prefix,"data/CardEquipBorder").concat(n,".png"),alt:""}):null,(0,o.jsx)(h.Z,{title:(0,o.jsx)(CardTooltip,{...l,cardName:"cardSet"===a?t:e,nextLevelReq:s,amount:u}),children:(0,o.jsx)(f,{isCardSet:"cardSet"===a,amount:u,src:v,alt:""})})]})},CardTooltip=l=>{let{displayName:e,effect:n,bonus:i,stars:t,showInfo:u,nextLevelReq:s,amount:v}=l,c=i;return u&&(c=(0,p.BZ)({bonus:i,stars:t})),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.Z,{fontWeight:"bold",variant:"h6",children:(0,d.cleanUnderscore)(e)}),(0,o.jsx)(r.Z,{children:(0,d.cleanUnderscore)(n.replace("{",c))}),u?(0,o.jsx)(a.Z,{mt:1,direction:"row",gap:1,flexWrap:"wrap",children:[1,2,3,4,5,6].map((l,n)=>(0,o.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",children:[0===n?(0,o.jsx)(r.Z,{children:"Base"}):(0,o.jsx)(x,{src:"".concat(d.prefix,"etc/Star").concat(n,".png"),alt:""}),(0,o.jsx)(r.Z,{children:i*(n+1)})]},"".concat(e,"-").concat(n)))}):null,v>=s?(0,o.jsxs)(a.Z,{children:["You've collected ",(0,d.numberWithCommas)(v)," cards"]}):s>0?(0,o.jsxs)(a.Z,{children:["Progress: ",(0,d.numberWithCommas)(v)," / ",(0,d.numberWithCommas)(s)]}):null]})},x=c.Z.img(_templateObject1()),f=c.Z.img(_templateObject2(),l=>{let{amount:e,isCardSet:n}=l;return e||n?1:.5}),j=c.Z.img(_templateObject3()),TalentTooltip=l=>{let{level:e,funcX:n,x1:i,x2:t,funcY:u,y1:s,y2:v,description:c,name:h,talentId:p}=l,m=e>0?(0,d.growth)(n,e,i,t):0,g=e>0?(0,d.growth)(u,e,s,v):0;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,o.jsx)("img",{src:"".concat(d.prefix,"data/UISkillIcon").concat(p,".png"),alt:""}),(0,o.jsx)(r.Z,{fontWeight:"bold",variant:"h6",children:(0,d.cleanUnderscore)(h)})]}),(0,o.jsx)(r.Z,{children:(0,d.cleanUnderscore)(c).replace("{",m).replace("}",g)})]})},PlayersList=l=>{let{players:e,characters:n}=l;return(0,o.jsx)(a.Z,{gap:1,direction:"row",children:e.map(l=>{var e,i;let{index:t}=l;return(0,o.jsx)(h.Z,{title:null==n?void 0:null===(e=n[t])||void 0===e?void 0:e.name,children:(0,o.jsx)("img",{style:{width:24,height:24},src:"".concat(d.prefix,"data/ClassIcons").concat(null==n?void 0:null===(i=n[t])||void 0===i?void 0:i.classIndex,".png"),alt:""})},name+"-head-"+t)})})},MissingData=l=>{let{name:e}=l;return(0,o.jsxs)(r.Z,{variant:"h3",children:["Your account is missing data for ",e]})},CardTitleAndValue=l=>{let{variant:e,raised:n,cardSx:i,imgStyle:t,title:u,value:c,children:h,icon:p}=l;return(0,o.jsx)(s.Z,{variant:e,raised:n,sx:{my:{xs:0,md:3},width:"fit-content",...i},children:(0,o.jsxs)(v.Z,{children:[(0,o.jsx)(r.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:u}),c?p?(0,o.jsxs)(a.Z,{direction:"row",gap:2,alignItems:"center",children:[(0,o.jsx)("img",{style:{objectFit:"contain",...t},src:"".concat(d.prefix).concat(p),alt:""}),(0,o.jsx)(r.Z,{children:c})]}):(0,o.jsx)(r.Z,{children:c}):h]})})},CenteredStack=l=>{let{direction:e="row",children:n}=l;return(0,o.jsx)(a.Z,{gap:1,direction:e,alignItems:"center",children:n})}},9133:function(l,e,n){"use strict";n.r(e),n.d(e,{default:function(){return dashboard}});var i=n(85893),o=n(67294),t=n(23513),d=n(98396),a=n(51233),r=n(15861),u=n(87357),s=n(82729),v=n(66242),c=n(44267),h=n(67720),p=n(30925),m=n(61599),g=n(5072),x=n(76972),f=n(69690),j=n(33913),k=n(4056),b=n(70473),y=n(10924),w=n(33739),Z=n(30796),C=n(88344);let isTalentReady=(l,e)=>{var n;let{talents:i}=e,{postOffice:o,afkTime:t,cooldowns:d,flatTalents:a}=l,r=(0,k.xV)(o,"Magician_Starterpack",2),u=Math.max(0,r),s=(new Date().getTime()-t)/1e3;return d?null===(n=Object.entries(d||{}))||void 0===n?void 0:n.reduce((l,e)=>{var n,o,t;let[d,r]=e;if(!Z.RL[d])return l;let v=null==a?void 0:a.find(l=>{let{talentId:e}=l;return parseInt(d)===e}),c=null===(n=Object.entries((null==i?void 0:null===(t=i.talents)||void 0===t?void 0:null===(o=t.props)||void 0===o?void 0:o.value)||{}))||void 0===n?void 0:n.reduce((l,e)=>{var n,i;let[o,t]=e;return{...l,[null===(i=o.camelToTitleCase())||void 0===i?void 0:null===(n=i.replace(/ /g,"_"))||void 0===n?void 0:n.toUpperCase()]:t}},{});if(!v||!(null==c?void 0:c[null==v?void 0:v.name]))return l;let h=(1-u/100)*r-s,p=h<0?h:new Date().getTime()+1e3*h;return(0,j.Z)(p)?[...l,{name:null==v?void 0:v.name,skillIndex:null==v?void 0:v.skillIndex}]:l},[]):[]},crystalCooldownSkillsReady=l=>{if((0,Z.gW)(null==l?void 0:l.class,"Maestro")){var e;return null===(e=Object.entries((null==l?void 0:l.skillsInfo)||{}))||void 0===e?void 0:e.reduce((e,n)=>{let[i,o]=n;if((null==o?void 0:o.index)<10&&"character"!==i){let n=(0,Z._X)(null==l?void 0:l.talents,2,"CRYSTAL_COUNTDOWN"),t=(0,y.O4)(null==o?void 0:o.index,null==o?void 0:o.level),d=100*(1-Math.max((1-n/100)*t,.98*(null==o?void 0:o.expReq))/t);return[...e,{name:i,...o,crystalCountdown:n,reduction:d,ready:n>0&&d===n}]}return e},[])}},hasAvailableToolUpgrade=(l,e)=>{var n,i,o,t,d,a,r,u,s,v,c,h,p;let m=(0,C.w$)(),g=null==l?void 0:null===(n=l.tools)||void 0===n?void 0:n.slice(0,6),x=[null==l?void 0:null===(o=l.skillsInfo)||void 0===o?void 0:null===(i=o.mining)||void 0===i?void 0:i.level,null==l?void 0:null===(d=l.skillsInfo)||void 0===d?void 0:null===(t=d.chopping)||void 0===t?void 0:t.level,null==l?void 0:null===(r=l.skillsInfo)||void 0===r?void 0:null===(a=r.fishing)||void 0===a?void 0:a.level,null==l?void 0:null===(s=l.skillsInfo)||void 0===s?void 0:null===(u=s.catching)||void 0===u?void 0:u.level,null==l?void 0:null===(c=l.skillsInfo)||void 0===c?void 0:null===(v=c.trapping)||void 0===v?void 0:v.level,null==l?void 0:null===(p=l.skillsInfo)||void 0===p?void 0:null===(h=p.worship)||void 0===h?void 0:h.level];return null==g?void 0:g.reduce((l,e,n)=>{let i=null==x?void 0:x[n],o=null==m?void 0:m[n],t=null==o?void 0:o.findLast(l=>{let{lvReqToEquip:e}=l;return i>=e});return t&&(null==t?void 0:t.displayName)!==(null==e?void 0:e.name)&&l.push(t),l},[])};var A=n(74721),S=n(9137),T=n(86736),_=n(56552),O=n(71251);function _templateObject(){let l=(0,s._)(["\n  width: 30px;\n  height: 30px;\n  object-fit: contain;\n"]);return _templateObject=function(){return l},l}let P={anvil:(l,e,n,i,o)=>{var t,d,a,r,u,s,v,c,h,p;let m={};if(null==o?void 0:null===(d=o.anvil)||void 0===d?void 0:null===(t=d.missingHammers)||void 0===t?void 0:t.checked){let i=null==n?void 0:null===(v=n.equippedBubbles)||void 0===v?void 0:v.find(l=>{let{bubbleName:e}=l;return"HAMMER_HAMMER"===e}),{production:o}=(0,w.eW)(null==e?void 0:e[null==n?void 0:n.playerId],e,l),t=null==o?void 0:o.filter(l=>{let{hammers:e}=l;return e>0}),d=null==t?void 0:t.reduce((l,e)=>{let{hammers:n}=e;return l+n},0);m.missingHamemrs=(i?3:2)-d}if((null==o?void 0:null===(r=o.anvil)||void 0===r?void 0:null===(a=r.unspentPoints)||void 0===a?void 0:a.checked)&&(m.unspentPoints=null==n?void 0:null===(h=n.anvil)||void 0===h?void 0:null===(c=h.anvilStats)||void 0===c?void 0:c.availablePoints),null==o?void 0:null===(s=o.anvil)||void 0===s?void 0:null===(u=s.anvilOverdue)||void 0===u?void 0:u.checked){let{anvil:i}=o||{},{stats:t,production:d}=(0,w.eW)(null==e?void 0:e[null==n?void 0:n.playerId],e,l),a=null==d?void 0:null===(p=d.filter(l=>{let{hammers:e}=l;return e>0}))||void 0===p?void 0:p.map(l=>{var e;let i=1e3*(0,w.MH)({...l,stats:t,afkTime:null==n?void 0:n.afkTime});return{date:new Date().getTime()+i,name:null===b.items||void 0===b.items?void 0:null===(e=b.items[null==l?void 0:l.rawName])||void 0===e?void 0:e.displayName,rawName:null==l?void 0:l.rawName}});m.anvilOverdue=null==a?void 0:a.map(l=>{let{date:e,name:n,rawName:i}=l,o=new Date(e-1);return{diff:(0,f.Z)(o,new Date),name:n,rawName:i}}).filter(l=>{let{diff:e}=l;return(null==i?void 0:i.showAlertBeforeFull)?e<=60:e<=0})}return m},worship:(l,e,n,i,o)=>{var t,d,a,r,u,s,v,c,h;let p={};if(!(null==l?void 0:null===(t=l.finishedWorlds)||void 0===t?void 0:t.World2))return p;if(null==o?void 0:null===(a=o.worship)||void 0===a?void 0:null===(d=a.unendingEnergy)||void 0===d?void 0:d.checked){let l=new Date().getTime()+((null==n?void 0:n.afkTime)-i),e=(0,f.Z)(new Date,new Date(l));if(e>=5){let e=null==n?void 0:null===(s=n.activePrayers)||void 0===s?void 0:s.find(l=>{let{name:e}=l;return"Unending_Energy"===e}),i=(0,x.Z)(new Date,new Date(l));p.unendingEnergy=e&&i>10}}if(null==o?void 0:null===(u=o.worship)||void 0===u?void 0:null===(r=u.chargeOverdue)||void 0===r?void 0:r.checked){let l=5*(null==n?void 0:null===(v=n.worship)||void 0===v?void 0:v.maxCharge)/100;p.chargeOverdue=(null==n?void 0:null===(c=n.worship)||void 0===c?void 0:c.currentCharge)>=(null==n?void 0:null===(h=n.worship)||void 0===h?void 0:h.maxCharge)-l}return p},traps:(l,e,n,i,o)=>{var t,d,a,r,u,s,v,c,h,p,m,g,x,f,k,b,y;let w={};if(!(null==l?void 0:null===(t=l.finishedWorlds)||void 0===t?void 0:t.World2))return w;if(null==o?void 0:null===(a=o.traps)||void 0===a?void 0:null===(d=a.missingTraps)||void 0===d?void 0:d.checked){let e=null==l?void 0:null===(s=l.traps)||void 0===s?void 0:s[null==n?void 0:n.playerId],i=(null==n?void 0:null===(c=n.tools)||void 0===c?void 0:null===(v=c[4])||void 0===v?void 0:v.rawName)!=="Blank"?null==n?void 0:null===(h=n.tools)||void 0===h?void 0:h[4]:null,o=null==l?void 0:null===(x=l.alchemy)||void 0===x?void 0:null===(g=x.bubbles)||void 0===g?void 0:null===(m=g.quicc)||void 0===m?void 0:null===(p=m.find(l=>{let{bubbleName:e}=l;return"CALL_ME_ASH"===e}))||void 0===p?void 0:p.level,t=i?parseInt(null!==(b=null==i?void 0:null===(k=i.rawName)||void 0===k?void 0:k.charAt((null==i?void 0:null===(f=i.rawName)||void 0===f?void 0:f.length)-1))&&void 0!==b?b:0)+(o>0?1:0):null==e?void 0:e.length;w.missingTraps=(null==e?void 0:e.length)<Math.min(t,8)}return(null==o?void 0:null===(u=o.traps)||void 0===u?void 0:null===(r=u.trapsOverdue)||void 0===r?void 0:r.checked)&&(w.trapsOverdue=null==l?void 0:null===(y=l.traps)||void 0===y?void 0:y[null==n?void 0:n.playerId].some(l=>(0,j.Z)(null==l?void 0:l.timeLeft))),w},alchemy:(l,e,n,i,o)=>{var t,d,a,r;let u={};if(null==o?void 0:null===(d=o.alchemy)||void 0===d?void 0:null===(t=d.bubbles)||void 0===t?void 0:t.checked){let e=null==l?void 0:null===(a=l.accountOptions)||void 0===a?void 0:a[89],i=null===b.randomList||void 0===b.randomList?void 0:b.randomList[53],o=(0,y.bV)(e,i,11);u.missingBubbles=(null==n?void 0:null===(r=n.equippedBubbles)||void 0===r?void 0:r.length)<(o?3:2)}return u},obols:(l,e,n,i,o)=>{var t,d,a,r,u;let s={};return(null==l?void 0:null===(t=l.finishedWorlds)||void 0===t?void 0:t.World1)&&(null==o?void 0:null===(a=o.obols)||void 0===a?void 0:null===(d=a.missingObols)||void 0===d?void 0:d.checked)&&(s.missingObols=null==n?void 0:null===(u=n.obols)||void 0===u?void 0:null===(r=u.list)||void 0===r?void 0:r.filter(l=>{let{rawName:e}=l;return"Blank"===e})),s},postOffice:(l,e,n,i,o)=>{var t,d,a,r,u,s,v;let c={};if(!(null==l?void 0:null===(t=l.finishedWorlds)||void 0===t?void 0:t.World1))return c;if(null==o?void 0:null===(a=o.postOffice)||void 0===a?void 0:null===(d=a.unspentPoints)||void 0===d?void 0:d.checked){let l=parseInt(null==o?void 0:null===(s=o.postOffice)||void 0===s?void 0:null===(u=s.unspentPoints)||void 0===u?void 0:null===(r=u.props)||void 0===r?void 0:r.value);c.unspentPoints=(null==n?void 0:null===(v=n.postOffice)||void 0===v?void 0:v.unspentPoints)>(null!=l?l:0)&&(null==n?void 0:n.postOffice.boxes.some(l=>{let{level:e,maxLevel:n}=l;return e<n}))}return c},starSigns:(l,e,n,i,o)=>{var t,d,a,r;let u={};if(null==o?void 0:null===(d=o.starSigns)||void 0===d?void 0:null===(t=d.missingStarSigns)||void 0===t?void 0:t.checked){let e=null==l?void 0:null===(a=l.starSigns)||void 0===a?void 0:a.reduce((l,e)=>{let{starName:n,unlocked:i}=e;return n.includes("Chronus_Cosmos")&&i?l<2?2:l:n.includes("Hydron_Cosmos")&&i&&l<3?3:l},1);u.missingStarSigns=e-(null==n?void 0:null===(r=n.starSigns)||void 0===r?void 0:r.length)}return u},crystalCountdown:(l,e,n,i,o)=>crystalCooldownSkillsReady(n,o),tools:(l,e,n,i,o)=>hasAvailableToolUpgrade(n,l),talents:(l,e,n,i,o)=>isTalentReady(n,o),cards:(l,e,n,i,o)=>{var t,d,a,r;let u={};return(null==o?void 0:null===(d=o.cards)||void 0===d?void 0:null===(t=d.cardSet)||void 0===t?void 0:t.checked)&&(u.cardSet=(null==n?void 0:n.level)>=50&&(null==n?void 0:null===(r=n.cards)||void 0===r?void 0:null===(a=r.cardSet)||void 0===a?void 0:a.rawName)==="CardSet0"),u}},Alert=l=>{let{title:e,iconPath:n,style:o={}}=l;return(0,i.jsx)(g.Z,{title:e,children:(0,i.jsx)(I,{style:o,src:"".concat(p.prefix).concat(n,".png"),alt:""})})},CharacterInfo=l=>{var e,n,t;let{account:d,characters:u,character:s,lastUpdated:v}=l,{name:c,stats:m,afkTime:g,crystalSpawnChance:x,nonConsumeChance:j}=s||{},{cashMulti:k}=(0,o.useMemo)(()=>(0,_.bv)(s,d,u)||{},[s,d]),{dropRate:b}=(0,o.useMemo)(()=>(0,_.VK)(s,d,u)||{},[s,d]),{respawnRate:y}=(0,o.useMemo)(()=>(0,_.P9)(s,d)||{},[s,d]),{afkGains:w}=(0,o.useMemo)(()=>(0,_.WU)(s,u,d),[s,d]),Z=(0,o.useMemo)(()=>(0,O.m)(s,u,d),[s,d]);return(0,i.jsxs)(a.Z,{gap:1,children:[(0,i.jsx)(T.uQ,{title:c,value:"lv. ".concat((null==m?void 0:m.level)||0)}),(0,i.jsx)(T.uQ,{title:"Afk time",value:(()=>{let l=new Date().getTime()+(g-v),e=(0,f.Z)(new Date,new Date(l));return e<=5})()?(0,i.jsx)(r.Z,{children:"Active"}):(0,i.jsx)(S.Z,{type:"up",date:g,lastUpdated:v})}),(0,i.jsx)(h.Z,{flexItem:!0,sx:{background:"black"}}),(0,i.jsx)(T.uQ,{title:"Damage",value:null===(n=(0,O.C)(Z))||void 0===n?void 0:null===(e=n.at(0))||void 0===e?void 0:e.replace(/\[/g,"M")}),(0,i.jsx)(T.uQ,{title:"Hp",value:(0,p.notateNumber)(null==Z?void 0:Z.maxHp)}),(0,i.jsx)(T.uQ,{title:"Mp",value:(0,p.notateNumber)(null==Z?void 0:Z.maxMp)}),(0,i.jsx)(T.uQ,{title:"Accuracy",value:(0,p.notateNumber)(null==Z?void 0:Z.accuracy)}),(0,i.jsx)(T.uQ,{title:"Movement Speed",value:(0,p.notateNumber)(null==Z?void 0:Z.movementSpeed)}),(0,i.jsx)(h.Z,{flexItem:!0,sx:{background:"black"}}),(0,i.jsx)(T.uQ,{title:"Cash multi",value:"".concat((0,p.notateNumber)(k),"%")}),(0,i.jsx)(T.uQ,{title:"Drop rate",value:"".concat((0,p.notateNumber)(b,"MultiplierInfo"),"x")}),(0,i.jsx)(T.uQ,{title:"Respawn rate",value:"".concat((0,p.notateNumber)(y,"MultiplierInfo"),"%")}),(0,i.jsx)(T.uQ,{title:"Afk gains",value:"".concat((0,p.notateNumber)(100*w,"MultiplierInfo"),"%")}),(0,i.jsx)(T.uQ,{title:"Crystal Chance",value:1/(null==x?void 0:x.value)<100?"".concat(null===(t=(0,p.notateNumber)((null==x?void 0:x.value)*100,"MultiplierInfo"))||void 0===t?void 0:t.replace(".00",""),"%"):"1 in ".concat(Math.floor(1/(null==x?void 0:x.value)))}),(0,i.jsx)(T.uQ,{title:"Non consume chance",value:"".concat((0,p.kFormatter)(j,2),"%")})]})},I=m.Z.img(_templateObject());var dashboard_Characters=l=>{let{characters:e=[],account:n,lastUpdated:o,trackers:t}=l;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Z,{gap:2,direction:"row",flexWrap:"wrap",children:null==e?void 0:e.map((l,d)=>{var s,m,x,j,k,b,y,w,Z,C,T,_,O,W,B,M,D,N,R,U,q,V,L,E,F,G,H,Y,Q,z;let{name:X,classIndex:K,afkTarget:J,afkTime:$,postOffice:ll}=l,le=null===(s=Object.entries(t||{}))||void 0===s?void 0:s.reduce((l,e)=>{var n;let[i,o]=e,t=null==o?void 0:null===(n=o.options)||void 0===n?void 0:n.reduce((l,e)=>({...l,[null==e?void 0:e.name]:e}),{});return{...l,[i]:t}},{}),ln=null===(m=Object.keys(le))||void 0===m?void 0:m.reduce((i,t)=>{var d;return i[t]=(null==P?void 0:null===(d=P[t])||void 0===d?void 0:d.call(P,n,e,l,o,le))||{},i},{}),li=J&&"_"!==J?J:"Nothing";return(0,i.jsx)(v.Z,{sx:{width:300},children:(0,i.jsxs)(c.Z,{children:[(0,i.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,flexWrap:"wrap",children:[(0,i.jsx)(u.Z,{sx:{display:{sm:"none",md:"block"}},children:(0,i.jsx)("img",{src:"".concat(p.prefix,"data/ClassIcons").concat(K,".png"),alt:""})}),(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(r.Z,{children:X}),(()=>{let l=new Date().getTime()+($-o),e=(0,f.Z)(new Date,new Date(l));return e<=5})()?(0,i.jsx)(r.Z,{children:"Active"}):(0,i.jsx)(S.Z,{variant:"caption",type:"up",date:$,lastUpdated:o})]}),(0,i.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,style:{marginLeft:"auto"},children:[(0,i.jsx)(g.Z,{title:(0,p.cleanUnderscore)(li),children:(0,i.jsx)(I,{src:"".concat(p.prefix,"afk_targets/").concat(li,".png"),alt:"activity icon"})}),(0,i.jsx)(g.Z,{title:(0,i.jsx)(CharacterInfo,{characters:e,account:n,character:l,lastUpdated:o}),children:(0,i.jsx)(A.Z,{})})]})]}),(0,i.jsx)(h.Z,{sx:{my:1}}),(0,i.jsxs)(a.Z,{direction:"row",gap:1,flexWrap:"wrap",children:[(null==t?void 0:t.worship)&&(null==ln?void 0:null===(x=ln.worship)||void 0===x?void 0:x.unendingEnergy)?(0,i.jsx)(Alert,{title:"".concat(X," has unending energy prayer and is afk for more than 10 hours"),iconPath:"data/Prayer2"}):null,(null==t?void 0:t.worship)&&(null==ln?void 0:null===(j=ln.worship)||void 0===j?void 0:j.chargeOverdue)?(0,i.jsx)(Alert,{title:"".concat(X," worship is full"),iconPath:"data/ClassIcons50"}):null,(null==t?void 0:t.traps)&&(null==ln?void 0:null===(k=ln.traps)||void 0===k?void 0:k.trapsOverdue)?(0,i.jsx)(Alert,{title:"".concat(X," traps are overdue"),iconPath:"data/TrapBoxSet1"}):null,(null==t?void 0:t.traps)&&(null==ln?void 0:null===(b=ln.traps)||void 0===b?void 0:b.missingTraps)?(0,i.jsx)(Alert,{title:"".concat(X," is missing a trap"),iconPath:"data/ClassIcons48"}):null,(null==t?void 0:t.alchemy)&&(null==ln?void 0:null===(y=ln.alchemy)||void 0===y?void 0:y.missingBubbles)?(0,i.jsx)(Alert,{title:"".concat(X," is missing an active bubble"),iconPath:"data/aJarB0"}):null,(null==t?void 0:t.cards)&&(null==ln?void 0:null===(w=ln.cards)||void 0===w?void 0:w.cardSet)?(0,i.jsx)(Alert,{title:"".concat(X," has Blunder hill card set equipped which is for level < 50"),iconPath:"data/CardSet0"}):null,(null==t?void 0:t.obols)&&(null==ln?void 0:null===(C=ln.obols)||void 0===C?void 0:null===(Z=C.missingObols)||void 0===Z?void 0:Z.length)>0?(0,i.jsx)(Alert,{title:"".concat(X," has ").concat(null==ln?void 0:null===(_=ln.obols)||void 0===_?void 0:null===(T=_.missingObols)||void 0===T?void 0:T.length," empty obol slots"),iconPath:"data/ObolLocked1"}):null,(null==t?void 0:t.postOffice)&&(null==ln?void 0:null===(O=ln.postOffice)||void 0===O?void 0:O.unspentPoints)?(0,i.jsx)(Alert,{title:"".concat(X," has ").concat(Math.floor(null==ll?void 0:ll.unspentPoints)," unspent points"),iconPath:"data/UIboxUpg0"}):null,(null==t?void 0:t.anvil)&&(null==ln?void 0:null===(W=ln.anvil)||void 0===W?void 0:W.missingHammers)>0?(0,i.jsx)(Alert,{title:"".concat(X," is missing ").concat(null==ln?void 0:null===(B=ln.anvil)||void 0===B?void 0:B.missingHammers," hammers"),iconPath:"data/GemP1"}):null,(null==t?void 0:t.anvil)&&(null==ln?void 0:null===(M=ln.anvil)||void 0===M?void 0:M.unspentPoints)>0?(0,i.jsx)(Alert,{title:"".concat(X," have ").concat(null==ln?void 0:null===(D=ln.anvil)||void 0===D?void 0:D.unspentPoints," unspent points anvil points"),iconPath:"data/ClassIcons43"}):null,(null==t?void 0:t.anvil)&&(null==ln?void 0:null===(R=ln.anvil)||void 0===R?void 0:null===(N=R.anvilOverdue)||void 0===N?void 0:N.length)>0?null==ln?void 0:null===(q=ln.anvil)||void 0===q?void 0:null===(U=q.anvilOverdue)||void 0===U?void 0:U.map(l=>{let{diff:e,name:n,rawName:o}=l;return(0,i.jsx)(Alert,{title:"".concat((0,p.cleanUnderscore)(n)," ").concat(e<=0?"production is full":"is ".concat(e," minutes away from being full")),iconPath:"data/".concat(o)},"".concat(n,"-").concat(d))}):null,(null==t?void 0:t.starSigns)&&(null==ln?void 0:null===(V=ln.starSigns)||void 0===V?void 0:V.missingStarSigns)>0?(0,i.jsx)(Alert,{title:"".concat(X," is missing ").concat(null==ln?void 0:null===(L=ln.starSigns)||void 0===L?void 0:L.missingStarSigns," star signs"),iconPath:"data/SignStar1b"}):null,(null==t?void 0:t.talents)&&(null==ln?void 0:null===(E=ln.talents)||void 0===E?void 0:E.length)>0?null==ln?void 0:null===(F=ln.talents)||void 0===F?void 0:F.map((l,e)=>{let{name:n,skillIndex:o}=l;return(0,i.jsx)(Alert,{title:"".concat((0,p.cleanUnderscore)((0,p.pascalCase)(n))," is ready"),iconPath:"data/UISkillIcon".concat(o)},o+"-"+e)}):null,(null==t?void 0:null===(G=t.tools)||void 0===G?void 0:G.checked)&&(null==ln?void 0:null===(H=ln.tools)||void 0===H?void 0:H.length)>0?null==ln?void 0:null===(Y=ln.tools)||void 0===Y?void 0:Y.map((e,n)=>{let{rawName:o,displayName:t}=e;return(0,i.jsx)(Alert,{title:"".concat(null==l?void 0:l.name," can equip ").concat((0,p.cleanUnderscore)((0,p.pascalCase)(t))),iconPath:"data/".concat(o)},"".concat(null==l?void 0:l.name,"-").concat(o,"-").concat(n))}):null,(null==t?void 0:t.crystalCountdown)&&(null==ln?void 0:null===(Q=ln.crystalCountdown)||void 0===Q?void 0:Q.length)>0?null==ln?void 0:null===(z=ln.crystalCountdown)||void 0===z?void 0:z.map((l,e)=>{let{name:n,icon:o,reduction:t,crystalCountdown:a}=l,{showMaxed:r,showNonMaxed:u}=(null==le?void 0:le.crystalCountdown)||{};r=null==r?void 0:r.checked,u=null==u?void 0:u.checked;let s=a>0&&t===a;return(r||!s)&&(u||!r||s)&&(u||r)?(0,i.jsx)(Alert,{style:{border:"1px solid #fbb9b9",borderRadius:5,opacity:s?1:.5},title:"Crystal CD for ".concat((0,p.cleanUnderscore)((0,p.pascalCase)(n))," is ").concat(s?"maxed":""," ").concat((0,p.notateNumber)(t,"Smaller"),"% ").concat(s?"":"(Max: ".concat((0,p.notateNumber)(a,"Smaller"),")")),iconPath:"data/".concat(o)},o+"-"+e+"-"+d):null}):null]})]})},X)})})})},W=n(80488),B=n(47212),M=n(88054),D=n(89260),N=n(67896),R=n(72664),U=n(73592);let areKeysOverdue=l=>{var e,n,i;let o=null==l?void 0:null===(e=l.currencies)||void 0===e?void 0:e.KeysAll,t=null==l?void 0:null===(i=l.currencies)||void 0===i?void 0:null===(n=i.ColosseumTickets)||void 0===n?void 0:n.allTickets,d=null==o?void 0:o.filter(l=>{let{daysSincePickup:e}=l;return e>=3}),a=null==t?void 0:t.filter((e,n)=>{var i;let{daysSincePickup:o}=e;return(0===n||(null==l?void 0:null===(i=l.finishedWorlds)||void 0===i?void 0:i["World".concat(n)]))&&o>=3});return[...d||[],...a||[]]};var hooks_useAlerts=l=>{let{alertsMap:e,data:n,extraData:i,trackers:t}=l,[d,a]=(0,o.useState)();return(0,o.useEffect)(()=>{let l=t&&Object.values(t).some(l=>l);if(l){let l=Object.entries(t||{}).reduce((l,o)=>{let[t,d]=o;if((null==d?void 0:d.checked)&&(null==e?void 0:e[t])){var a,r;let o=null==d?void 0:null===(a=d.options)||void 0===a?void 0:a.reduce((l,e)=>({...l,[null==e?void 0:e.name]:e}),{});l[t]=(null==e?void 0:null===(r=e[t])||void 0===r?void 0:r.call(e,n,o,i))||{}}return l},{}),o=Object.values(l).some(l=>Array.isArray(l)?l.length>0:l);a(o?l:null)}else a(null)},[n,t]),d};function Account_templateObject(){let l=(0,s._)(["\n  width: 15px;\n  height: 15px;\n  position: absolute;\n  left: -5px;\n  bottom: 30%;\n"]);return Account_templateObject=function(){return l},l}function _templateObject1(){let l=(0,s._)(["\n  width: ",";\n  height: ",";\n  object-fit: contain;\n  ","\n  position: ",";\n"]);return _templateObject1=function(){return l},l}let q={atomCollider:(l,e)=>{var n,i,o,t,d,a,r;let u={};return(null==l?void 0:null===(n=l.finishedWorlds)||void 0===n?void 0:n.World2)&&(null==e?void 0:null===(i=e.stampReducer)||void 0===i?void 0:i.checked)&&(u.stampReducer=(null==l?void 0:null===(o=l.atoms)||void 0===o?void 0:o.stampReducer)>=(null==e?void 0:null===(d=e.stampReducer)||void 0===d?void 0:null===(t=d.props)||void 0===t?void 0:t.value),u.stampReducerValue=null==e?void 0:null===(r=e.stampReducer)||void 0===r?void 0:null===(a=r.props)||void 0===a?void 0:a.value),u},arcade:(l,e)=>{var n,i,o,t,d,a;let r={};if(!(null==l?void 0:null===(n=l.finishedWorlds)||void 0===n?void 0:n.World1))return r;if(null==e?void 0:null===(i=e.balls)||void 0===i?void 0:i.checked){let e=Math.floor(Math.min((null==l?void 0:null===(o=l.timeAway)||void 0===o?void 0:o.GlobalTime)-(null==l?void 0:null===(t=l.timeAway)||void 0===t?void 0:t.Arcade),(0,W.he)(null==l?void 0:l.stamps))/Math.max((0,W.gq)(l),1800)),n=5*(null==l?void 0:null===(d=l.arcade)||void 0===d?void 0:d.maxBalls)/100;r.balls=e>=(null==l?void 0:null===(a=l.arcade)||void 0===a?void 0:a.maxBalls)-n}return r},alchemy:(l,e)=>{var n,i,o,t,d,a,r,u,s,v,c,h,p,m,g,x,f;let j={};if(!(null==l?void 0:null===(n=l.finishedWorlds)||void 0===n?void 0:n.World1))return j;if(null==e?void 0:null===(i=e.bargainTag)||void 0===i?void 0:i.checked){let{x1:e,x2:n,index:i}=(null===b.liquidsShop||void 0===b.liquidsShop?void 0:b.liquidsShop.find(l=>{let{name:e}=l;return"BARGAIN_TAG"===e}))||{},o=Math.round(e*Math.pow(n,null==l?void 0:null===(r=l.alchemy)||void 0===r?void 0:null===(a=r.multiplierArray)||void 0===a?void 0:a[i]));j.bargainTag=1===o}if(null==e?void 0:null===(o=e.liquids)||void 0===o?void 0:o.checked){let n=null==l?void 0:null===(u=l.alchemy)||void 0===u?void 0:u.liquids,i=(null==e?void 0:null===(v=e.liquids)||void 0===v?void 0:null===(s=v.props)||void 0===s?void 0:s.value)/100;j.liquids=null==l?void 0:null===(h=l.alchemy)||void 0===h?void 0:null===(c=h.liquidCauldrons)||void 0===c?void 0:c.map((l,e)=>({current:null==n?void 0:n[e],max:l,index:e})).filter(l=>{let{current:e,max:n}=l;return n&&e>=n*i-5})}if((null==e?void 0:null===(t=e.sigils)||void 0===t?void 0:t.checked)&&(j.sigils=null==l?void 0:null===(g=l.alchemy)||void 0===g?void 0:null===(m=g.p2w)||void 0===m?void 0:null===(p=m.sigils)||void 0===p?void 0:p.filter(l=>{let{characters:e,progress:n,boostCost:i}=l;return e.length>0&&n>=i})),null==e?void 0:null===(d=e.vials)||void 0===d?void 0:d.checked){let{subtractGreenStacks:n}=e||{};j.vials=null==l?void 0:null===(f=l.alchemy)||void 0===f?void 0:null===(x=f.vials)||void 0===x?void 0:x.filter(e=>{var i,o,t,d,a,r;let{level:u,itemReq:s}=e,v=null===M.ln||void 0===M.ln?void 0:M.ln[u],c=(null==l?void 0:null===(o=l.storage)||void 0===o?void 0:null===(i=o.find(l=>{var e;let{name:n}=l;return n===(null==s?void 0:null===(e=s[0])||void 0===e?void 0:e.name)}))||void 0===i?void 0:i.amount)||0;(null==n?void 0:n.checked)&&(c-=1e7);let h=parseInt((null==s?void 0:null===(d=s[1])||void 0===d?void 0:null===(t=d.name.split("d"))||void 0===t?void 0:t[1])||0),p=null==l?void 0:null===(r=l.alchemy)||void 0===r?void 0:null===(a=r.liquids)||void 0===a?void 0:a[h-1];return c>v&&p>3*u})}return j},gaming:(l,e)=>{var n,i,o,t,d,a,r,u,s,v,c,h,m,g,x,f,j,k,b;if(!(null==l?void 0:null===(n=l.finishedWorlds)||void 0===n?void 0:n.World4))return!1;let{sprouts:y,squirrel:w,shovel:Z}=e,C={};(null==y?void 0:y.checked)&&(null==l?void 0:null===(i=l.gaming)||void 0===i?void 0:i.availableSprouts)>=(null==l?void 0:null===(o=l.gaming)||void 0===o?void 0:o.sproutsCapacity)&&(C.sprouts=null==l?void 0:null===(h=l.gaming)||void 0===h?void 0:h.availableSprouts),(null==y?void 0:y.checked)&&(null==l?void 0:null===(t=l.gaming)||void 0===t?void 0:t.availableDrops)>=(null==l?void 0:null===(d=l.gaming)||void 0===d?void 0:d.sproutsCapacity)&&(C.drops=null==l?void 0:null===(m=l.gaming)||void 0===m?void 0:m.availableDrops);let A=null==l?void 0:null===(r=l.gaming)||void 0===r?void 0:null===(a=r.imports)||void 0===a?void 0:a.find(l=>{let{name:e,acquired:n}=l;return"Dirty_Shovel"===e&&n});if(A&&Z&&(null==l?void 0:null===(u=l.gaming)||void 0===u?void 0:u.lastShovelClicked)>=0){let n=new Date().getTime()-(null==l?void 0:null===(g=l.gaming)||void 0===g?void 0:g.lastShovelClicked)*1e3,{hours:i}=(0,p.getDuration)(new Date().getTime(),n);i>=(null==e?void 0:null===(f=e.shovel)||void 0===f?void 0:null===(x=f.props)||void 0===x?void 0:x.value)&&(C.shovel=(0,p.getDuration)(new Date().getTime(),n))}let S=null==l?void 0:null===(v=l.gaming)||void 0===v?void 0:null===(s=v.imports)||void 0===s?void 0:s.find(l=>{let{name:e,acquired:n}=l;return"Autumn_Squirrel"===e&&n});if(S&&w&&(null==l?void 0:null===(c=l.gaming)||void 0===c?void 0:c.lastAcornClicked)>=0){let n=new Date().getTime()-(null==l?void 0:null===(j=l.gaming)||void 0===j?void 0:j.lastAcornClicked)*1e3,{hours:i}=(0,p.getDuration)(new Date().getTime(),n);i>=(null==e?void 0:null===(b=e.squirrel)||void 0===b?void 0:null===(k=b.props)||void 0===k?void 0:k.value)&&(C.squirrel=(0,p.getDuration)(new Date().getTime(),n))}return C},guild:(l,e)=>{var n,i,o,t,d,a,r,u,s;let v={};if(!(null==l?void 0:null===(n=l.accountOptions)||void 0===n?void 0:n[37]))return!1;let{daily:c,weekly:h}=e;return(null==c?void 0:c.checked)&&(v.daily=null==l?void 0:null===(d=l.guild)||void 0===d?void 0:null===(t=d.guildTasks)||void 0===t?void 0:null===(o=t.daily)||void 0===o?void 0:null===(i=o.filter(l=>{let{requirement:e,progress:n}=l;return n<e}))||void 0===i?void 0:i.length),(null==h?void 0:h.checked)&&(v.weekly=null==l?void 0:null===(s=l.guild)||void 0===s?void 0:null===(u=s.guildTasks)||void 0===u?void 0:null===(r=u.weekly)||void 0===r?void 0:null===(a=r.filter(l=>{let{requirement:e,progress:n}=l;return n<e}))||void 0===a?void 0:a.length),v},sailing:(l,e)=>{var n;let i={};if(!(null==l?void 0:null===(n=l.finishedWorlds)||void 0===n?void 0:n.World4))return i;let{captains:o}=e;if(null==o?void 0:o.checked){let{captains:e,shopCaptains:n}=(null==l?void 0:l.sailing)||{};i.captains=null==n?void 0:n.reduce((l,n)=>{let{captainType:i,firstBonusIndex:o,secondBonusIndex:t,firstBonusValue:d,secondBonusValue:a,firstBonusDescription:r,secondBonusDescription:u}=n,s=null==e?void 0:e.filter(l=>{let e=(null==l?void 0:l.firstBonusIndex)===o&&(null==l?void 0:l.secondBonusIndex)===t,n=(null==l?void 0:l.secondBonusIndex)===o&&(null==l?void 0:l.firstBonusIndex)===t,i=(null==l?void 0:l.firstBonusIndex)===o||(null==l?void 0:l.firstBonusIndex)===t;if(e||n){if(o===t)return d+a>(null==l?void 0:l.firstBonusValue)+(null==l?void 0:l.secondBonusValue);{let e=d>(null==l?void 0:l.firstBonusValue)&&a>(null==l?void 0:l.secondBonusValue),n=d>(null==l?void 0:l.secondBonusValue)&&a>(null==l?void 0:l.firstBonusValue);return e||n}}if(i){let e=(null==l?void 0:l.firstBonusIndex)===(null==l?void 0:l.secondBonusIndex);if(e){if(o===(null==l?void 0:l.firstBonusIndex))return d>(null==l?void 0:l.firstBonusValue)+(null==l?void 0:l.secondBonusValue);if(t===(null==l?void 0:l.firstBonusIndex))return a>(null==l?void 0:l.firstBonusValue)+(null==l?void 0:l.secondBonusValue)}}return!1});if((null==s?void 0:s.length)>0&&-1!==i){var v;let e=o===t,i={captain:n,isSameValue:e,badCaptains:null===(v=s.map(l=>{let{captainIndex:n,firstBonusDescription:i,secondBonusDescription:o,firstBonusValue:t,secondBonusValue:d}=l;return{captainIndex:n,firstBonusValue:t,secondBonusValue:d,bonus:e?i.substring(i.indexOf("%")).replace("%",t+d+"%"):[i.substring(i.indexOf("%")).replace("%",t+"%"),o.substring(o.indexOf("%")).replace("%",d+"%")]}}))||void 0===v?void 0:v.sort((l,e)=>(null==e?void 0:e.firstBonusValue)+(null==e?void 0:e.secondBonusValue)-((null==l?void 0:l.firstBonusValue)+(null==l?void 0:l.secondBonusValue))),bonus:e?null==r?void 0:r.substring(null==r?void 0:r.indexOf("%")).replace("%",d+a+"%"):[null==r?void 0:r.substring(null==r?void 0:r.indexOf("%")).replace("%",d+"%"),null==u?void 0:u.substring(null==u?void 0:u.indexOf("%")).replace("%",a+"%")]};return[...l,i]}return l},[])}return i},breeding:(l,e)=>{var n,i,o,t,d,a,r,u;let s={};if(!(null==l?void 0:null===(n=l.finishedWorlds)||void 0===n?void 0:n.World3))return s;if(null==e?void 0:null===(i=e.shinies)||void 0===i?void 0:i.checked){let n=null==l?void 0:null===(d=l.breeding)||void 0===d?void 0:null===(t=d.pets)||void 0===t?void 0:t.reduce((n,i)=>{let o=null==i?void 0:i.filter(n=>{var i,o,t,d;let{monsterRawName:a,shinyLevel:r}=n;return(null==l?void 0:null===(o=l.breeding)||void 0===o?void 0:null===(i=o.fencePetsObject)||void 0===i?void 0:i[a])&&r>=(null==e?void 0:null===(d=e.shinies)||void 0===d?void 0:null===(t=d.props)||void 0===t?void 0:t.value)});return[...n,...o]},[]);s.shinies={pets:n,threshold:null==e?void 0:null===(r=e.shinies)||void 0===r?void 0:null===(a=r.props)||void 0===a?void 0:a.value}}return(null==e?void 0:null===(o=e.eggs)||void 0===o?void 0:o.checked)&&(s.eggs=null==l?void 0:null===(u=l.breeding)||void 0===u?void 0:u.eggs.slice(0,15).every(l=>l>0)),s},printer:(l,e)=>{var n;let i={};if(!(null==l?void 0:null===(n=l.finishedWorlds)||void 0===n?void 0:n.World2))return i;let{includeOakAndCopper:o,showAlertWhenFull:t}=e,d=(0,U.J)(l,t),a=["atom",...(null==o?void 0:o.checked)?[]:["Copper","OakTree"]].toSimpleObject();return i.atoms=Object.entries(d||{}).filter(l=>{let[e,{atoms:n}]=l;return!(null==a?void 0:a[e])&&n}).map(l=>{var e;let[n,i]=l;return{name:null===b.items||void 0===b.items?void 0:null===(e=b.items[n])||void 0===e?void 0:e.displayName,rawName:n,...i}}),i},shops:(l,e)=>{var n;let i={};return i.items=null==l?void 0:null===(n=l.shopStock)||void 0===n?void 0:n.reduce((n,i,o)=>{var t,d,a,r;if((2===o||3===o)&&!(null==l?void 0:null===(t=l.finishedWorlds)||void 0===t?void 0:t.World1)||4===o&&!(null==l?void 0:null===(d=l.finishedWorlds)||void 0===d?void 0:d.World2)||5===o&&!(null==l?void 0:null===(a=l.finishedWorlds)||void 0===a?void 0:a.World3)||6===o&&!(null==l?void 0:null===(r=l.finishedWorlds)||void 0===r?void 0:r.World4))return[...n,[]];let u=null==i?void 0:i.filter(l=>{var n,i,o;let{rawName:t}=l;return null==e?void 0:null===(o=e.shops)||void 0===o?void 0:null===(i=o.props)||void 0===i?void 0:null===(n=i.value)||void 0===n?void 0:n[t]});return[...n,u]},[]),i},construction:(l,e)=>{var n,i,o,t,d,a,r,u,s;let v={};if(!(null==l?void 0:null===(n=l.finishedWorlds)||void 0===n?void 0:n.World2))return v;let{materials:c,rankUp:h,flags:p,buildings:m}=e||{};return(null==p?void 0:p.checked)&&(v.flags=null==l?void 0:null===(o=l.construction)||void 0===o?void 0:null===(i=o.board)||void 0===i?void 0:i.filter(l=>{let{flagPlaced:e,currentAmount:n,requiredAmount:i}=l;return e&&n===i})),(null==m?void 0:m.checked)&&(v.buildings=null==l?void 0:null===(d=l.towers)||void 0===d?void 0:null===(t=d.data)||void 0===t?void 0:t.filter(e=>{let n=(0,B.ZX)(null==l?void 0:l.towers,null==e?void 0:e.level,null==e?void 0:e.bonusInc,null==e?void 0:e.index);return(null==e?void 0:e.progress)>=n})),(null==c?void 0:c.checked)&&(v.materials=null==l?void 0:null===(r=l.refinery)||void 0===r?void 0:null===(a=r.salts)||void 0===a?void 0:a.reduce((e,n,i)=>{var o,t,d,a;let{rank:r,cost:u,rawName:s}=n,v=i>0?i-1:null,c=null==l?void 0:null===(t=l.refinery)||void 0===t?void 0:null===(o=t.salts)||void 0===o?void 0:o[v],h=(0,R.B4)(i,r,u,l),p=(0,R.B4)(v,null==c?void 0:c.rank,null==c?void 0:c.cost,l);return 1===h.length&&(null==h?void 0:null===(a=h[0])||void 0===a?void 0:null===(d=a.rawName)||void 0===d?void 0:d.includes("Refinery"))||(null==c?void 0:c.autoRefinePercentage)>0||(null==p?void 0:p.active)&&(null==p?void 0:p.length)>0||h.length>0&&(e=[...e,{rawName:s,missingMats:h}]),e},[])),(null==h?void 0:h.checked)&&(v.rankUp=null==l?void 0:null===(s=l.refinery)||void 0===s?void 0:null===(u=s.salts)||void 0===u?void 0:u.filter(l=>{let{refined:e,powerCap:n}=l;return e>=n-.2*n/100})),v},postOffice:(l,e)=>{var n,i,o;let t={};return(null==l?void 0:null===(n=l.finishedWorlds)||void 0===n?void 0:n.World1)&&(null==e?void 0:null===(i=e.postOffice)||void 0===i?void 0:i.checked)&&(t.shipments=null==l?void 0:null===(o=l.postOfficeShipments)||void 0===o?void 0:o.filter((l,n)=>{var i,o,t;let{streak:d}=l;return(null==e?void 0:null===(t=e.postOffice)||void 0===t?void 0:null===(o=t.props)||void 0===o?void 0:null===(i=o.value)||void 0===i?void 0:i[n+1])&&d<=0})),t},equinox:(l,e)=>{var n;let i=null==l?void 0:l.equinox,o=null==i?void 0:i.upgrades[9],{bar:t,challenges:d,foodLust:a}=e,r={};return t&&(r.bar=(null==i?void 0:i.currentCharge)>=(null==i?void 0:i.chargeRequired)&&(null==i?void 0:i.upgrades.filter(l=>l.unlocked).some(l=>l.lvl<l.maxLvl))),d&&(r.challenges=null==i?void 0:null===(n=i.challenges.filter(l=>l.active&&l.current>=l.goal))||void 0===n?void 0:n.length),a&&(r.foodLust=(null==o?void 0:o.lvl)>0&&(null==o?void 0:o.bonus)>=(null==o?void 0:o.lvl)),r},etc:(l,e,n)=>{var i,o,t,d,a,r,u,s,v,c,h,m,g,x,f,j,k,b,y,w,Z,A,S,T,_;let O={};if((null==e?void 0:null===(i=e.randomEvents)||void 0===i?void 0:i.checked)&&(O.randomEvents=(null==l?void 0:null===(c=l.accountOptions)||void 0===c?void 0:c[137])===0),null==e?void 0:null===(o=e.materialTracker)||void 0===o?void 0:o.checked){let e=(0,p.tryToParse)(localStorage.getItem("material-tracker"));if(Object.keys(e||{}).length>0){let i=(0,C.Nx)(n,l);O.materialTracker=null===(h=Object.values(e||{}))||void 0===h?void 0:h.reduce((l,e)=>{let n,{item:o,threshold:t}=e,{amount:d}=(0,C.AN)(i,null==o?void 0:o.displayName);return(d<t?n="below":d<=t+.02*t&&(n="close to"),n)?[...l,{item:o,threshold:t,quantityOwned:d,text:n}]:l},[])}}if(null==e?void 0:null===(t=e.dungeonTraits)||void 0===t?void 0:t.checked){let e=null==l?void 0:null===(m=l.dungeons)||void 0===m?void 0:m.rank;O.dungeonTraits=null==l?void 0:null===(x=l.dungeons)||void 0===x?void 0:null===(g=x.statBoosts)||void 0===g?void 0:g.reduce((l,n)=>{let{section:i,levelReq:o,bonuses:t}=n,d=null==t?void 0:t.every(l=>{let{isActive:e}=l;return!e});return e>o&&d?[...l,i]:l},[])}if((null==e?void 0:null===(d=e.keys)||void 0===d?void 0:d.checked)&&(O.keys=areKeysOverdue(l)),(null==l?void 0:null===(a=l.finishedWorlds)||void 0===a?void 0:a.World1)&&(null==e?void 0:e.weeklyBosses)&&(O.weeklyBosses=(null==l?void 0:null===(f=l.accountOptions)||void 0===f?void 0:f[190])===0),(null==l?void 0:null===(r=l.finishedWorlds)||void 0===r?void 0:r.World1)&&(null==e?void 0:e.killRoy)&&(O.killRoy=null==l?void 0:null===(j=l.accountOptions)||void 0===j?void 0:j[113]),!(null==l?void 0:null===(u=l.finishedWorlds)||void 0===u?void 0:u.World3))return O;if((null==e?void 0:null===(s=e.gildedStamps)||void 0===s?void 0:s.checked)&&(0,N.RB)(null==l?void 0:l.rift,"Stamp_Mastery")&&(O.gildedStamps=null==l?void 0:null===(k=l.accountOptions)||void 0===k?void 0:k[154]),null==e?void 0:null===(v=e.miniBosses)||void 0===v?void 0:v.checked){let n=[],i=null==l?void 0:null===(b=l.accountOptions)||void 0===b?void 0:b[96],o=null==l?void 0:null===(y=l.accountOptions)||void 0===y?void 0:y[98];if(i>3&&(null==l?void 0:null===(w=l.finishedWorlds)||void 0===w?void 0:w.World3)){let l=Math.min(10,Math.floor(Math.pow(i-3,.55)));l>=(null==e?void 0:null===(S=e.miniBosses)||void 0===S?void 0:null===(A=S.props)||void 0===A?void 0:A.value)&&n.push({rawName:"mini3b",name:"Dilapidated_Slush",currentCount:l})}if(o>3&&(null==l?void 0:null===(Z=l.finishedWorlds)||void 0===Z?void 0:Z.World2)){let l=Math.min(8,Math.floor(Math.pow(o-3,.5)));l>=(null==e?void 0:null===(_=e.miniBosses)||void 0===_?void 0:null===(T=_.props)||void 0===T?void 0:T.value)&&n.push({rawName:"mini4b",name:"Mutated_Mush",currentCount:l})}O.miniBosses=n.length>0?n:null}return O},cooking:(l,e)=>{var n,i,o,t;let d={};return null!=l&&null!==(n=l.finishedWorlds)&&void 0!==n&&!!n.World3&&((null==e?void 0:null===(i=e.spices)||void 0===i?void 0:i.checked)&&(d.spices=D.Cz-(null==l?void 0:null===(t=l.cooking)||void 0===t?void 0:null===(o=t.spices)||void 0===o?void 0:o.numberOfClaims)),d)},tasks:(l,e)=>{var n,i;let o=[];return(null==e?void 0:null===(n=e.tasks)||void 0===n?void 0:n.checked)&&(o=null==l?void 0:null===(i=l.tasksDescriptions)||void 0===i?void 0:i.reduce((l,n,i)=>{var o,t,d;let a=null==n?void 0:n[8],r=(null==a?void 0:a.level)===0;return r&&(null==e?void 0:null===(d=e.tasks)||void 0===d?void 0:null===(t=d.props)||void 0===t?void 0:null===(o=t.value)||void 0===o?void 0:o[i+1])?[...l,i]:l},[])),o}},Account_Alert=l=>{let{title:e,iconPath:n,vial:o,atom:t,imgStyle:d={}}=l;return(0,i.jsx)(g.Z,{title:e,children:(0,i.jsxs)(u.Z,{sx:{position:"relative"},children:[(0,i.jsx)(L,{style:{...d},vial:o,src:"".concat(p.prefix).concat(n,".png"),alt:""}),t?(0,i.jsx)(V,{vial:o,src:"".concat(p.prefix,"etc/Particle.png"),alt:""}):null,o?(0,i.jsx)("img",{onError:l=>{l.target.src="".concat(p.prefix,"data/aVials12.png"),l.target.style="opacity: 0;"},src:"".concat(p.prefix,"data/aVials").concat((null==o?void 0:o.level)===0?"1":null==o?void 0:o.level,".png"),style:{opacity:(null==o?void 0:o.level)===0?.5:1,width:35,height:40},alt:"vial image missing"},"".concat(null==o?void 0:o.name)):null]})})},RefineryTitle=l=>{let{missingMats:e}=l;return(0,i.jsxs)(a.Z,{alignItems:"center",children:["Missing materials",(0,i.jsx)(a.Z,{direction:"row",children:e.map(l=>{let{rawName:e}=l;return(0,i.jsx)(L,{src:"".concat(p.prefix,"data/").concat(e,".png"),alt:""},e)})})]})},ShopTitle=l=>{let{shop:e}=l;return(0,i.jsx)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",children:null==e?void 0:e.map((l,e)=>{let{amount:n,rawName:o}=l;return(0,i.jsxs)(a.Z,{alignItems:"center",children:[(0,i.jsx)(L,{src:"".concat(p.prefix,"data/").concat(o,".png")},"shop"+o),(0,i.jsx)(r.Z,{children:(0,p.notateNumber)(n)})]},o+e)})})},V=m.Z.img(Account_templateObject()),L=m.Z.img(_templateObject1(),l=>{let{vial:e}=l;return e?"20px":"30px"},l=>{let{vial:e}=l;return e?"20px":"30px"},l=>{let{vial:e}=l;return e?"top: 50%;left: 50%;transform:translate(-60%, -70%);":""},l=>{let{vial:e}=l;return e?"absolute":"relative"});var dashboard_Account=l=>{var e,n,o,t,d,u,s,h,m,g,x,f,j,k,b,y,w,Z,C,A,S,T,_,O,P,I,W,B,M,D,N,R,U,V,L,E,F,G,H,Y,Q,z,X,K,J,$,ll,le,ln,li,lo,lt,ld,la,lr,lu,ls,lv,lc,lh,lp,lm,lg,lx,lf,lj,lk,lb,ly,lw,lZ,lC,lA,lS,lT,l_,lO,lP,lI,lW,lB,lM,lD,lN,lR,lU,lq,lV,lL,lE,lF,lG,lH,lY,lQ,lz,lX,lK,lJ,l$,l0,l1,l3,l2;let{account:l5,characters:l4,trackers:l6}=l,l9=hooks_useAlerts({alertsMap:q,data:l5,extraData:l4,trackers:l6});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(v.Z,{sx:{width:"fit-content"},children:(0,i.jsx)(c.Z,{children:l9?(0,i.jsxs)(a.Z,{direction:"row",gap:2,flexWrap:"wrap",children:[(null==l6?void 0:l6.atomCollider)&&(null==l9?void 0:null===(e=l9.atomCollider)||void 0===e?void 0:e.stampReducer)?(0,i.jsx)(Account_Alert,{title:"Stamp reducer has reached your threshold (".concat(null==l9?void 0:null===(n=l9.atomCollider)||void 0===n?void 0:n.stampReducerValue,"%)"),iconPath:"data/Atom0"}):null,(null==l6?void 0:l6.construction)&&(null==l9?void 0:null===(t=l9.construction)||void 0===t?void 0:null===(o=t.flags)||void 0===o?void 0:o.length)>0?(0,i.jsx)(Account_Alert,{title:"There are ".concat(null==l9?void 0:null===(u=l9.construction)||void 0===u?void 0:null===(d=u.flags)||void 0===d?void 0:d.length," flags finished in construction board"),iconPath:"data/CogFLflag"}):null,(null==l6?void 0:l6.alchemy)&&(null==l9?void 0:null===(s=l9.alchemy)||void 0===s?void 0:s.bargainTag)?(0,i.jsx)(Account_Alert,{title:"You haven't use bargain tag even once today",iconPath:"data/aShopItems10"}):null,(null==l6?void 0:l6.etc)&&(null==l9?void 0:null===(h=l9.etc)||void 0===h?void 0:h.randomEvents)?(0,i.jsx)(Account_Alert,{title:"You haven't done a random event today",iconPath:"etc/Mega_Grumblo"}):null,(null==l6?void 0:l6.etc)&&(null==l9?void 0:null===(m=l9.etc)||void 0===m?void 0:m.weeklyBosses)?(0,i.jsx)(Account_Alert,{title:"You haven't done a weekly (W2) boss fight today",iconPath:"data/Trophie"}):null,(null==l6?void 0:l6.etc)&&(null==l9?void 0:null===(g=l9.etc)||void 0===g?void 0:g.killRoy)<21?(0,i.jsx)(Account_Alert,{title:(null==l9?void 0:null===(x=l9.etc)||void 0===x?void 0:x.killRoy)===0?"You haven't done a killroy this week":(null==l9?void 0:null===(f=l9.etc)||void 0===f?void 0:f.killRoy)>0&&(null==l9?void 0:null===(j=l9.etc)||void 0===j?void 0:j.killRoy)<21?"You haven't done a killroy this week (You have 1 killroy left)":"",iconPath:"etc/Killroy"}):null,(null==l6?void 0:l6.cooking)&&(null==l9?void 0:null===(k=l9.cooking)||void 0===k?void 0:k.spices)>0?(0,i.jsx)(Account_Alert,{title:"You have ".concat(null==l9?void 0:null===(b=l9.cooking)||void 0===b?void 0:b.spices," spice clicks left"),iconPath:"data/CookingSpice0"}):null,(null==l6?void 0:l6.arcade)&&(null==l9?void 0:null===(y=l9.arcade)||void 0===y?void 0:y.balls)?(0,i.jsx)(Account_Alert,{title:"Max ball capacity has reached",iconPath:"data/PachiBall0"}):null,(null==l6?void 0:l6.gaming)&&(null==l9?void 0:null===(w=l9.gaming)||void 0===w?void 0:w.sprouts)?(0,i.jsx)(Account_Alert,{title:"Max sprouts capacity has reached (".concat(null==l9?void 0:null===(Z=l9.gaming)||void 0===Z?void 0:Z.sprouts,")"),imgStyle:{objectFit:"none"},iconPath:"etc/Sprouts"}):null,(null==l6?void 0:l6.gaming)&&(null==l9?void 0:null===(C=l9.gaming)||void 0===C?void 0:C.drops)?(0,i.jsx)(Account_Alert,{title:"Sprinkler drops has reached it's capacity (".concat(null==l9?void 0:null===(A=l9.gaming)||void 0===A?void 0:A.drops,")"),iconPath:"data/GamingItem0b"}):null,(null==l6?void 0:l6.gaming)&&(null==l9?void 0:null===(T=l9.gaming)||void 0===T?void 0:null===(S=T.squirrel)||void 0===S?void 0:S.hours)>=1?(0,i.jsx)(Account_Alert,{title:"".concat(null==l9?void 0:null===(O=l9.gaming)||void 0===O?void 0:null===(_=O.squirrel)||void 0===_?void 0:_.hours," hours has passed since you've clicked the squirrel"),iconPath:"data/GamingItem2"}):null,(null==l6?void 0:l6.gaming)&&(null==l9?void 0:null===(I=l9.gaming)||void 0===I?void 0:null===(P=I.shovel)||void 0===P?void 0:P.hours)>=1?(0,i.jsx)(Account_Alert,{title:"".concat(null==l9?void 0:null===(B=l9.gaming)||void 0===B?void 0:null===(W=B.shovel)||void 0===W?void 0:W.hours," hours has passed since you've clicked the shovel"),iconPath:"data/GamingItem1"}):null,(null==l6?void 0:l6.equinox)&&(null==l9?void 0:null===(M=l9.equinox)||void 0===M?void 0:M.bar)?(0,i.jsx)(Account_Alert,{title:"Your Equinox bar is full",iconPath:"data/Quest78"}):null,(null==l6?void 0:l6.equinox)&&(null==l9?void 0:null===(D=l9.equinox)||void 0===D?void 0:D.challenges)>0?(0,i.jsx)(Account_Alert,{title:"You have ".concat(null==l9?void 0:null===(N=l9.equinox)||void 0===N?void 0:N.challenges," challenges to validate"),iconPath:"data/Quest78"}):null,(null==l6?void 0:l6.equinox)&&(null==l9?void 0:null===(R=l9.equinox)||void 0===R?void 0:R.foodLust)?(0,i.jsx)(Account_Alert,{title:"Food Lust is maxed",iconPath:"etc/Dream_Upgrade_10"}):null,(null==l6?void 0:l6.etc)&&(null==l9?void 0:null===(U=l9.etc)||void 0===U?void 0:U.gildedStamps)>0?(0,i.jsx)(Account_Alert,{title:"You have ".concat(null==l9?void 0:null===(V=l9.etc)||void 0===V?void 0:V.gildedStamps," available gilded stamps"),iconPath:"data/GildedStamp"}):null,(null==l6?void 0:l6.etc)&&(null==l9?void 0:null===(E=l9.etc)||void 0===E?void 0:null===(L=E.miniBosses)||void 0===L?void 0:L.length)>0?null==l9?void 0:null===(G=l9.etc)||void 0===G?void 0:null===(F=G.miniBosses)||void 0===F?void 0:F.map(l=>{let{rawName:e,name:n,currentCount:o}=l;return(0,i.jsx)(Account_Alert,{title:"You can kill ".concat(o," ").concat((0,p.cleanUnderscore)(n),"s"),iconPath:"etc/".concat(e)},e)}):null,(null==l6?void 0:l6.alchemy)&&(null==l9?void 0:null===(Y=l9.alchemy)||void 0===Y?void 0:null===(H=Y.sigils)||void 0===H?void 0:H.length)>0?null==l9?void 0:null===(z=l9.alchemy)||void 0===z?void 0:null===(Q=z.sigils)||void 0===Q?void 0:Q.map(l=>{let{name:e,index:n}=l;return(0,i.jsx)(Account_Alert,{title:"".concat((0,p.cleanUnderscore)((0,p.pascalCase)(e))," is already unlocked"),iconPath:"data/aSiga".concat(n)},e)}):null,(null==l6?void 0:l6.alchemy)&&(null==l9?void 0:null===(K=l9.alchemy)||void 0===K?void 0:null===(X=K.liquids)||void 0===X?void 0:X.length)>0?null==l9?void 0:null===($=l9.alchemy)||void 0===$?void 0:null===(J=$.liquids)||void 0===J?void 0:J.map(l=>{let{index:e}=l;return(0,i.jsx)(Account_Alert,{title:"".concat((0,p.getNumberWithOrdinal)(e+1)," liquid is full"),iconPath:"data/Liquid".concat(e+1,"_x1")},"liq"+e)}):null,(null==l6?void 0:l6.tasks)&&(null==l9?void 0:null===(ll=l9.tasks)||void 0===ll?void 0:ll.length)>0?null==l9?void 0:null===(le=l9.tasks)||void 0===le?void 0:le.map(l=>(0,i.jsx)(Account_Alert,{title:"Daily task in world ".concat(l+1," not done yet"),iconPath:"etc/Merit_".concat(l)},"task"+l)):null,(null==l6?void 0:l6.sailing)&&(null==l9?void 0:null===(li=l9.sailing)||void 0===li?void 0:null===(ln=li.captains)||void 0===ln?void 0:ln.length)>0?null==l9?void 0:null===(lt=l9.sailing)||void 0===lt?void 0:null===(lo=lt.captains)||void 0===lo?void 0:lo.map(l=>{let{captain:e,bonus:n,badCaptains:o}=l;return(0,i.jsx)(Account_Alert,{title:(0,i.jsxs)(a.Z,{children:[(0,i.jsxs)(r.Z,{sx:{mb:1},children:["Captain ",(0,i.jsx)(r.Z,{component:"span",sx:{fontWeight:"bold"},children:null==e?void 0:e.captainIndex})," with ",(0,p.cleanUnderscore)(n)," from the shop is better than ",o.length," of your captains"]}),(0,i.jsx)(a.Z,{children:null==o?void 0:o.map(l=>{let{captainIndex:e,bonus:n}=l;return(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(r.Z,{component:"span",sx:{fontWeight:"bold"},children:e}),": ",(0,p.cleanUnderscore)(n)]},"cap-".concat(e))})})]}),iconPath:"etc/Captain_".concat(null==e?void 0:e.captainType)},"captain"+(null==e?void 0:e.captainIndex))}):null,(null==l6?void 0:l6.construction)&&(null==l9?void 0:null===(la=l9.construction)||void 0===la?void 0:null===(ld=la.materials)||void 0===ld?void 0:ld.length)>0?null==l9?void 0:null===(lu=l9.construction)||void 0===lu?void 0:null===(lr=lu.materials)||void 0===lr?void 0:lr.map(l=>{let{rawName:e,missingMats:n}=l;return(0,i.jsx)(Account_Alert,{title:(0,i.jsx)(RefineryTitle,{missingMats:n}),iconPath:"data/".concat(e)},e)}):null,(null==l6?void 0:l6.construction)&&(null==l9?void 0:null===(lv=l9.construction)||void 0===lv?void 0:null===(ls=lv.rankUp)||void 0===ls?void 0:ls.length)>0?null==l9?void 0:null===(lh=l9.construction)||void 0===lh?void 0:null===(lc=lh.rankUp)||void 0===lc?void 0:lc.map(l=>{let{rawName:e,saltName:n}=l;return(0,i.jsx)(Account_Alert,{title:"".concat((0,p.cleanUnderscore)(n)," is ready to rank up"),iconPath:"data/".concat(e)},e)}):null,(null==l6?void 0:l6.construction)&&(null==l9?void 0:null===(lm=l9.construction)||void 0===lm?void 0:null===(lp=lm.buildings)||void 0===lp?void 0:lp.length)>0?null==l9?void 0:null===(lx=l9.construction)||void 0===lx?void 0:null===(lg=lx.buildings)||void 0===lg?void 0:lg.map(l=>{let{name:e,index:n}=l;return(0,i.jsx)(Account_Alert,{title:"".concat((0,p.cleanUnderscore)((0,p.pascalCase)(e))," is ready to be built"),iconPath:"data/ConTower".concat(n)},e)}):null,(null==l6?void 0:l6.etc)&&(null==l9?void 0:null===(lj=l9.etc)||void 0===lj?void 0:null===(lf=lj.keys)||void 0===lf?void 0:lf.length)>0?null==l9?void 0:null===(lb=l9.etc)||void 0===lb?void 0:null===(lk=lb.keys)||void 0===lk?void 0:lk.map((l,e)=>{let{rawName:n,totalAmount:o}=l;return(0,i.jsx)(Account_Alert,{title:"".concat(o," of ").concat((0,p.cleanUnderscore)((0,p.pascalCase)(name))," keys are ready"),iconPath:"data/".concat(n)},n+""+e)}):null,(null==l6?void 0:l6.etc)&&(null==l9?void 0:null===(lw=l9.etc)||void 0===lw?void 0:null===(ly=lw.materialTracker)||void 0===ly?void 0:ly.length)>0?null==l9?void 0:null===(lC=l9.etc)||void 0===lC?void 0:null===(lZ=lC.materialTracker)||void 0===lZ?void 0:lZ.map((l,e)=>{let{item:n,threshold:o,quantityOwned:t,text:d}=l;return(0,i.jsx)(Account_Alert,{title:"Your ".concat((0,p.cleanUnderscore)((0,p.pascalCase)(null==n?void 0:n.displayName))," is ").concat(d," the threshold (").concat((0,p.notateNumber)(t),"/").concat((0,p.notateNumber)(o),")"),iconPath:"data/".concat(null==n?void 0:n.rawName)},(null==n?void 0:n.rawName)+""+e)}):null,(null==l6?void 0:l6.postOffice)&&(null==l9?void 0:null===(lS=l9.postOffice)||void 0===lS?void 0:null===(lA=lS.shipments)||void 0===lA?void 0:lA.length)>0?null==l9?void 0:null===(l_=l9.postOffice)||void 0===l_?void 0:null===(lT=l_.shipments)||void 0===lT?void 0:lT.map(l=>{let{index:e}=l;return(0,i.jsx)(Account_Alert,{title:"Order streak for shipment #".concat(e+1," is 0"),iconPath:"data/UIlilbox"},"shipment"+e)}):null,(null==l6?void 0:l6.etc)&&(null==l9?void 0:null===(lP=l9.etc)||void 0===lP?void 0:null===(lO=lP.dungeonTraits)||void 0===lO?void 0:lO.length)>0?null==l9?void 0:null===(lW=l9.etc)||void 0===lW?void 0:null===(lI=lW.dungeonTraits)||void 0===lI?void 0:lI.map((l,e)=>(0,i.jsx)(Account_Alert,{title:"You haven't selected a trait for ".concat(l),iconPath:"data/DungTraitB0"},"dungeonTraits"+e)):null,(null==l6?void 0:l6.breeding)&&(null==l9?void 0:null===(lB=l9.breeding)||void 0===lB?void 0:lB.eggs)?(0,i.jsx)(Account_Alert,{title:"Eggs are at full capacity",iconPath:"data/PetEgg1"},"breeding-eggs"):null,(null==l6?void 0:l6.breeding)&&(null==l9?void 0:null===(lN=l9.breeding)||void 0===lN?void 0:null===(lD=lN.shinies)||void 0===lD?void 0:null===(lM=lD.pets)||void 0===lM?void 0:lM.length)>0?null==l9?void 0:null===(lq=l9.breeding)||void 0===lq?void 0:null===(lU=lq.shinies)||void 0===lU?void 0:null===(lR=lU.pets)||void 0===lR?void 0:lR.map((l,e)=>{var n,o;let{monsterName:t,monsterRawName:d,shinyLevel:a,icon:r}=l;return(0,i.jsx)(Account_Alert,{imgStyle:{filter:"hue-rotate(".concat((0,p.randomFloatBetween)(45,180),"deg)")},title:"".concat((0,p.cleanUnderscore)(t)," has surpassed the shiny level threshold (").concat(null==l9?void 0:null===(o=l9.breeding)||void 0===o?void 0:null===(n=o.shinies)||void 0===n?void 0:n.threshold,")"),iconPath:"Mface23"===r&&"shovelR"!==d?"afk_targets/".concat(t):"data/".concat(r)},t+e)}):null,(null==l6?void 0:null===(lV=l6.printer)||void 0===lV?void 0:lV.checked)&&(null==l9?void 0:null===(lE=l9.printer)||void 0===lE?void 0:null===(lL=lE.atoms)||void 0===lL?void 0:lL.length)>0?null==l9?void 0:null===(lG=l9.printer)||void 0===lG?void 0:null===(lF=lG.atoms)||void 0===lF?void 0:lF.map(l=>{let{name:e,rawName:n}=l;return(0,i.jsx)(Account_Alert,{title:"Printing is at capacity for ".concat((0,p.cleanUnderscore)(e)),atom:!0,iconPath:"data/".concat(n)},"printer-atoms-"+n)}):null,(null==l6?void 0:l6.alchemy)&&(null==l9?void 0:null===(lY=l9.alchemy)||void 0===lY?void 0:null===(lH=lY.vials)||void 0===lH?void 0:lH.length)>0?null==l9?void 0:null===(lz=l9.alchemy)||void 0===lz?void 0:null===(lQ=lz.vials)||void 0===lQ?void 0:lQ.map(l=>(0,i.jsx)(Account_Alert,{vial:l,title:"You have enough materials to upgrade ".concat((0,p.cleanUnderscore)(null==l?void 0:l.name)," vial"),iconPath:"data/".concat(null==l?void 0:l.mainItem)},null==l?void 0:l.mainItem)):null,(null==l6?void 0:l6.shops)&&(null==l9?void 0:null===(lK=l9.shops)||void 0===lK?void 0:null===(lX=lK.items)||void 0===lX?void 0:lX.length)>0?null==l9?void 0:null===(l$=l9.shops)||void 0===l$?void 0:null===(lJ=l$.items)||void 0===lJ?void 0:lJ.map((l,e)=>{var n;return(null==l?void 0:l.length)>0?(0,i.jsx)(Account_Alert,{title:(0,i.jsx)(ShopTitle,{shop:l}),iconPath:"data/ShopEZ".concat(e)},"shop"+e+(null==l?void 0:null===(n=l[0])||void 0===n?void 0:n.rawName)):null}):null,(null==l6?void 0:l6.guild)&&(null==l9?void 0:null===(l0=l9.guild)||void 0===l0?void 0:l0.daily)?(0,i.jsx)(Account_Alert,{title:"You have ".concat(null==l9?void 0:null===(l1=l9.guild)||void 0===l1?void 0:l1.daily," uncompleted daily tasks"),iconPath:"etc/GP",imgStyle:{filter:"sepia(1) hue-rotate(46deg) saturate(1)"}}):null,(null==l6?void 0:l6.guild)&&(null==l9?void 0:null===(l3=l9.guild)||void 0===l3?void 0:l3.weekly)?(0,i.jsx)(Account_Alert,{title:"You have ".concat(null==l9?void 0:null===(l2=l9.guild)||void 0===l2?void 0:l2.weekly," uncompleted weekly tasks"),iconPath:"etc/GP",imgStyle:{filter:"sepia(1) hue-rotate(140deg) saturate(1)"}}):null]}):(0,i.jsx)(r.Z,{children:"There are no account alerts to display"})})})})},E=n(94229),F=n(93946),World3_Library=l=>{let{libraryTimes:e,lastUpdated:n}=l,{bookCount:t,next:d,breakpoints:u}=e||{},s=new Date().getTime()+1e3*d,v=(0,p.getRealDateInMs)(s);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,i.jsx)("img",{src:"".concat(p.prefix,"data/Libz.png"),alt:""}),(0,i.jsx)(r.Z,{sx:{fontWeight:"bold",fontSize:18},children:"Library"})]}),(0,i.jsxs)("h4",{children:["Book count: ",t]}),(0,i.jsxs)(a.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,i.jsx)(r.Z,{sx:{width:130},children:"Next book in: "})," ",d>0?(0,i.jsx)(g.Z,{title:"End date: "+v,children:(0,i.jsx)(S.Z,{type:"countdown",lastUpdated:n,date:s})}):(0,i.jsx)(r.Z,{variant:"caption",children:"Wait for game update"})]}),null==u?void 0:u.map((l,e)=>{let{breakpoint:t,time:d}=l,u=new Date().getTime()+1e3*d;return u=(0,p.getRealDateInMs)(u),d>0?(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(h.Z,{sx:{my:1}}),(0,i.jsxs)(a.Z,{direction:"row",gap:1,children:[(0,i.jsxs)(r.Z,{sx:{width:130},children:[0===t?"0 to 20":t," books in: "]})," ",d>0?(0,i.jsx)(g.Z,{title:"End date: "+u,children:(0,i.jsx)(S.Z,{type:"countdown",lastUpdated:n,staticTime:0===t,date:new Date().getTime()+1e3*d})}):(0,i.jsx)(r.Z,{variant:"caption",children:"Wait for game update"})]})]},"book-timer"+e):null})]})},G=n(23795),H=n(16372),Y=n(44490),Q=n(15265),z=n(95331),X=n(81426);function Etc_templateObject(){let l=(0,s._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return Etc_templateObject=function(){return l},l}let K=m.Z.img(Etc_templateObject()),TimerCard=l=>{let{tooltipContent:e,icon:n,lastUpdated:o,time:t,timerPlaceholder:d="",forcePlaceholder:u}=l;return(0,i.jsx)(v.Z,{sx:{height:"fit-content"},children:(0,i.jsx)(c.Z,{children:(0,i.jsx)(g.Z,{title:e,children:(0,i.jsxs)(a.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,i.jsx)(K,{src:"".concat(p.prefix).concat(n)}),u?(0,i.jsx)(r.Z,{color:"error.light",children:d}):(0,i.jsx)(S.Z,{type:"countdown",date:t,placeholder:d,lastUpdated:o})]})})})})};var dashboard_Etc=l=>{var e,n,t,d,u,s,h,m,x,f,j,k,b,w,Z,C,A,S;let{characters:T,account:_,lastUpdated:O}=l,P=(0,y.ai)(null==T?void 0:T[0],_),I=(0,o.useMemo)(()=>(0,y.KB)(_),[T,_,O]),M=(0,o.useMemo)(()=>{var l;return(0,W.IS)(null==_?void 0:null===(l=_.serverVars)||void 0===l?void 0:l.HappyHours)||[]},[_]),D=new Date().getTime()+(3600-((null==_?void 0:null===(e=_.timeAway)||void 0===e?void 0:e.GlobalTime)-(null==_?void 0:null===(n=_.timeAway)||void 0===n?void 0:n.Printer)))*1e3,N=new Date().getTime()+Math.max(0,594e6-(1e3*(null==_?void 0:null===(t=_.timeAway)||void 0===t?void 0:t.GlobalTime)-(null==_?void 0:null===(d=_.companions)||void 0===d?void 0:d.lastFreeClaim))),R=(0,z._m)(_,"Nitrogen_-_Construction_Trimmer"),U=null==_?void 0:null===(s=_.towers)||void 0===s?void 0:null===(u=s.data)||void 0===u?void 0:u.reduce((l,e)=>{var n,i,o,t,d,a;let r;let u=(null==_?void 0:null===(i=_.lab.jewels)||void 0===i?void 0:null===(n=i.slice(3,7))||void 0===n?void 0:n.every(l=>{let{active:e}=l;return e}))?1:0,s=(null==_?void 0:null===(t=_.lab.jewels)||void 0===t?void 0:null===(o=t[3])||void 0===o?void 0:o.active)?1+u:0,v=(null==e?void 0:e.slot)!==-1&&(null==e?void 0:e.slot)<s+(R?1:0),c=(0,B.ZX)(null==_?void 0:_.towers,null==e?void 0:e.level,null==e?void 0:e.bonusInc,null==e?void 0:e.index);if(v){let l=(3+R/100)*(null==_?void 0:null===(d=_.construction)||void 0===d?void 0:d.totalBuildRate);r=(c-(null==e?void 0:e.progress))/l*36e5}else r=(c-(null==e?void 0:e.progress))/(null==_?void 0:null===(a=_.construction)||void 0===a?void 0:a.totalBuildRate)*36e5;return(null==e?void 0:e.inProgress)&&((null==l?void 0:l.timeLeft)===0||r<(null==l?void 0:l.timeLeft))?{timeLeft:r,icon:"ConTower".concat(null==e?void 0:e.index)}:l},{timeLeft:0,icon:""}),q=null==_?void 0:null===(h=_.traps)||void 0===h?void 0:h.reduce((l,e)=>{let n=null==e?void 0:e.map(l=>{let{timeLeft:e}=l;return e});if(0===n.length)return l;let i=Math.min(...n);return 0===l||i<l?i:l},0),V=(0,Q.kV)(T),{bestWizard:L,bestChargeSyphon:E,timeToOverCharge:F}=(0,o.useMemo)(()=>(0,Q.Qq)(T),[T]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.Z,{direction:"row",flexWrap:"wrap",gap:2,children:[(0,i.jsxs)(X.Z,{sx:{width:360},container:!0,spacing:1,children:[(0,i.jsx)(X.Z,{xs:6,children:(null==_?void 0:null===(m=_.finishedWorlds)||void 0===m?void 0:m.World2)?(0,i.jsx)(TimerCard,{tooltipContent:"Next printer cycle: "+(0,p.getRealDateInMs)(D),lastUpdated:O,time:D,icon:"data/ConTower0.png"}):null}),(0,i.jsx)(X.Z,{xs:6,children:(null==_?void 0:null===(x=_.finishedWorlds)||void 0===x?void 0:x.World2)&&0!==q?(0,i.jsx)(TimerCard,{tooltipContent:"Closest trap: "+(0,p.getRealDateInMs)(q),lastUpdated:O,time:q,icon:"data/TrapBoxSet1.png"}):null}),(0,i.jsx)(X.Z,{xs:6,children:(null==_?void 0:null===(f=_.finishedWorlds)||void 0===f?void 0:f.World2)&&(null==U?void 0:U.timeLeft)!==0?(0,i.jsx)(TimerCard,{tooltipContent:"Closest building: "+(0,p.getRealDateInMs)(new Date().getTime()+(null==U?void 0:U.timeLeft)),lastUpdated:O,time:new Date().getTime()+(null==U?void 0:U.timeLeft),icon:"data/".concat(null==U?void 0:U.icon,".png")}):null}),(0,i.jsx)(X.Z,{xs:6,children:(null==_?void 0:null===(j=_.finishedWorlds)||void 0===j?void 0:j.World2)&&(null==V?void 0:V.timeLeft)!==0?(0,i.jsx)(TimerCard,{tooltipContent:"Closest full worship - ".concat(null==V?void 0:V.character,": ")+(0,p.getRealDateInMs)(new Date().getTime()+(null==V?void 0:V.timeLeft)),timerPlaceholder:"Full!",forcePlaceholder:!isFinite(null==V?void 0:V.timeLeft),lastUpdated:O,time:new Date().getTime()+(null==V?void 0:V.timeLeft),icon:"data/WorshipSkull3.png"}):null}),(0,i.jsx)(X.Z,{xs:6,children:(0,i.jsx)(TimerCard,{tooltipContent:"Next companion claim: "+(0,p.getRealDateInMs)(N),lastUpdated:O,time:N,icon:"afk_targets/Dog.png",timerPlaceholder:"Go claim!"})}),(0,i.jsx)(X.Z,{xs:6,children:(null==M?void 0:M.length)>0?(0,i.jsx)(TimerCard,{tooltipContent:"Next happy hour: "+(0,p.getRealDateInMs)(null==M?void 0:M[0]),lastUpdated:O,time:null==M?void 0:M[0],icon:"etc/Happy_Hour.png",timerPlaceholder:"Go claim!"}):null}),(0,i.jsx)(X.Z,{xs:6,children:(null==_?void 0:null===(k=_.finishedWorlds)||void 0===k?void 0:k.World2)?(0,i.jsx)(TimerCard,{tooltipContent:"Overflow syphon Charge (".concat((null==L?void 0:null===(b=L.worship)||void 0===b?void 0:b.maxCharge)+E,"): ")+(0,p.getRealDateInMs)(F),lastUpdated:O,time:F,icon:"data/UISkillIcon475.png",timerPlaceholder:"Overflowing charge"}):null}),(0,i.jsx)(X.Z,{xs:6,children:(null==_?void 0:null===(w=_.finishedWorlds)||void 0===w?void 0:w.World2)?(0,i.jsx)(v.Z,{sx:{width:"100%",height:"fit-content"},children:(0,i.jsx)(c.Z,{children:(0,i.jsx)(a.Z,{direction:"row",alignItems:"center",gap:2,children:(0,i.jsx)(g.Z,{title:(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(r.Z,{sx:{fontWeight:"bold"},children:"Giant Mob Chance"}),(0,i.jsxs)(r.Z,{children:["+",null==P?void 0:P.crescentShrineBonus,"% from Crescent shrine"]}),(0,i.jsxs)(r.Z,{children:["+",null==P?void 0:P.giantMobVial,"% from Shaved Ice vial"]}),(null==P?void 0:P.glitterbugPrayer)>0?(0,i.jsxs)(r.Z,{children:["-",null==P?void 0:P.glitterbugPrayer,"% from Glitterbug prayer"]}):null]}),children:(0,i.jsxs)(a.Z,{gap:1,direction:"row",alignItems:"center",children:[(0,i.jsx)(K,{src:"".concat(p.prefix,"data/Prayer5.png")}),(0,i.jsxs)(r.Z,{children:["1 in ",(0,p.notateNumber)(Math.floor(1/(null==P?void 0:P.chance)))]})]})})})})}):null})]}),(0,i.jsxs)(a.Z,{gap:1,sx:{width:250},children:[(null==I?void 0:I.length)>0?(0,i.jsx)(v.Z,{sx:{width:"100%",height:"fit-content"},children:(0,i.jsx)(c.Z,{children:(0,i.jsxs)(a.Z,{gap:2,children:[(0,i.jsx)(Y.Z,{...null==I?void 0:I[0]}),(0,i.jsx)(G.Z,{underline:"none",href:"https://idleontoolbox.com/account/misc/random-events",children:"See more..."})]})})}):null,(null==_?void 0:null===(Z=_.finishedWorlds)||void 0===Z?void 0:Z.World4)?(0,i.jsx)(v.Z,{sx:{width:"100%",height:"fit-content"},children:(0,i.jsx)(c.Z,{children:(0,i.jsxs)(a.Z,{gap:2,children:[(0,i.jsx)(H.Z,{...null==_?void 0:null===(A=_.sailing)||void 0===A?void 0:null===(C=A.trades)||void 0===C?void 0:C[0]}),(0,i.jsx)(G.Z,{underline:"none",href:"https://idleontoolbox.com/account/world-5/sailing",children:"See more..."})]})})}):null]}),(null==_?void 0:null===(S=_.finishedWorlds)||void 0===S?void 0:S.World2)?(0,i.jsx)(v.Z,{sx:{width:"fit-content",height:"fit-content"},children:(0,i.jsx)(c.Z,{children:(0,i.jsx)(World3_Library,{libraryTimes:null==_?void 0:_.libraryTimes,lastUpdated:O})})}):null]})})},J=n(2962),$=n(25081),ll=n(13250),le=n(50657),ln=n(37645),li=n(6514),lo=n(50480),lt=n(69368),ld=n(57922),la=n(50135),lr=n(87109),lu=n(50594),ls=n(29217),lv=n(45111),lc=n(68575);let Fields=l=>{var e;let{config:n,onChange:t,configType:d}=l,[r,s]=(0,o.useState)(null),handleArrowClick=l=>{s(r===l?null:l)};return n&&(null===(e=Object.entries(n))||void 0===e?void 0:e.map((l,e)=>{var n,o;let[s,v]=l;return(0,i.jsxs)(u.Z,{children:[(0,i.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",children:[(0,i.jsx)(lo.Z,{control:(0,i.jsx)(lt.Z,{name:s,checked:null==v?void 0:v.checked,size:"small"}),onChange:l=>t(l,d),label:null==s?void 0:s.camelToTitleCase()}),(null==v?void 0:null===(n=v.options)||void 0===n?void 0:n.length)>0?(0,i.jsx)(F.Z,{size:"small",onClick:()=>handleArrowClick(s),children:r===s?(0,i.jsx)(ls.Z,{}):(0,i.jsx)(lv.Z,{})}):null]}),(0,i.jsx)(ld.Z,{in:r===s,unmountOnExit:!0,children:(0,i.jsx)(a.Z,{sx:{ml:3,mr:3},children:null==v?void 0:null===(o=v.options)||void 0===o?void 0:o.map((l,e)=>(0,i.jsx)(BaseField,{trackerName:s,option:{...l,optionIndex:e},configType:d,onChange:t},"".concat(null==l?void 0:l.name,"-").concat(e)))})})]},"tracker-".concat(s,"-").concat(e))}))},BaseField=l=>{var e,n;let{option:o,trackerName:t,onChange:d,configType:u}=l,{type:s,props:v}=o||{};return(0,i.jsxs)(i.Fragment,{children:[(null==o?void 0:o.category)?(0,i.jsx)(r.Z,{variant:"caption",children:null==o?void 0:null===(e=o.category)||void 0===e?void 0:e.camelToTitleCase()}):null,(0,i.jsxs)(a.Z,{direction:"row",children:["array"!==s?(0,i.jsx)(lo.Z,{sx:{minWidth:(null==v?void 0:v.type)==="img"?"inherit":100},control:(0,i.jsx)(lt.Z,{name:null==o?void 0:o.name,checked:null==o?void 0:o.checked,size:"small"}),onChange:l=>d(l,u,o,t),label:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.Z,{children:null==o?void 0:null===(n=o.name)||void 0===n?void 0:n.camelToTitleCase()})})}):null,"input"===s?(0,i.jsx)(InputField,{option:o,trackerName:t,configType:u,onChange:d}):null,"array"===s?(0,i.jsx)(ArrayField,{option:o,configType:u,onChange:d}):null]})]})},ArrayField=l=>{var e;let{option:n,onChange:o,configType:t}=l,{value:d,type:r}=null==n?void 0:n.props;return(0,i.jsx)(a.Z,{direction:"row",flexWrap:"wrap",children:null===(e=Object.keys(d))||void 0===e?void 0:e.map((l,e)=>(0,i.jsx)(lo.Z,{onChange:l=>o(l,t,n),control:(0,i.jsx)(lt.Z,{name:l,checked:null==d?void 0:d[l],size:"small"}),label:"img"===r?(0,i.jsx)("img",{width:24,height:24,src:"".concat(p.prefix,"data/").concat(l,".png"),alt:""}):l.camelToTitleCase()},"".concat(l,"-").concat(e)))})},InputField=l=>{let{option:e,onChange:n,configType:o,name:t,trackerName:d}=l,{label:a,value:r,helperText:u="",maxValue:s,minValue:v=0,endAdornment:c=""}=null==e?void 0:e.props;return(0,i.jsx)(la.Z,{size:"small",label:a.capitalize(),type:"number",sx:{mt:1,width:150},name:t,value:r,InputProps:{endAdornment:c?(0,i.jsx)(lr.Z,{position:"end",children:c}):null,inputProps:{max:s,min:v,autoComplete:"off"}},onChange:l=>n(l,o,{...e,inputVal:!0},d),helperText:u})};var common_DashboardSettings=l=>{let{open:e,onClose:n,config:o,onChange:t}=l,handleSettingChange=(l,e,n,i)=>{var d,a,r,u,s;let v=JSON.parse(JSON.stringify(o)),c=null==l?void 0:null===(d=l.target)||void 0===d?void 0:d.name;if((null==n?void 0:n.type)==="array"){let l=v[e][null==n?void 0:n.name].options[null==n?void 0:n.optionIndex].props.value[c];v[e][null==n?void 0:n.name].options[null==n?void 0:n.optionIndex].props.value[c]=!l}else if((null==n?void 0:n.type)==="input"){if(null==n?void 0:n.inputVal)v[e][i].options[null==n?void 0:n.optionIndex].props.value=null==l?void 0:null===(a=l.target)||void 0===a?void 0:a.value;else{let l=null===(r=v[e][i].options[null==n?void 0:n.optionIndex])||void 0===r?void 0:r.checked;v[e][i].options[null==n?void 0:n.optionIndex].checked=!l}}else if(n){let l=null===(u=v[e][i].options[null==n?void 0:n.optionIndex])||void 0===u?void 0:u.checked;v[e][i].options[null==n?void 0:n.optionIndex].checked=!l}else{let l=null===(s=v[e][c])||void 0===s?void 0:s.checked;v[e][c].checked=!l,v[e][c].options=v[e][c].options.map(e=>{if((null==e?void 0:e.type)==="array"){var n;let i=null===(n=Object.entries(e.props.value))||void 0===n?void 0:n.reduce((e,n)=>{let[i]=n;return{...e,[i]:!l}},{});return{...e,checked:!l,props:{...(null==e?void 0:e.props)||{},value:i}}}return{...e,checked:!l}})}t(v)};return(0,i.jsxs)(le.Z,{open:e,onClose:n,fullWidth:!0,children:[(0,i.jsxs)(ln.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Dashboard configurations",(0,i.jsx)(F.Z,{onClick:n,children:(0,i.jsx)(lu.Z,{})})]}),(0,i.jsx)(li.Z,{children:(0,i.jsxs)(lc.Z,{tabs:["Account","Character"],children:[(0,i.jsx)(u.Z,{children:(0,i.jsx)(Fields,{config:null==o?void 0:o.account,configType:"account",onChange:handleSettingChange})}),(0,i.jsx)(u.Z,{children:(0,i.jsx)(Fields,{config:null==o?void 0:o.characters,configType:"characters",onChange:handleSettingChange})})]})})]})},lh=n(32805);let lp={account:{tasks:{checked:!0,options:[{name:"tasks",type:"array",category:"Worlds",props:{value:[1,2,3,4,5].toSimpleObject()},checked:!0}]},atomCollider:{checked:!0,options:[{name:"stampReducer",type:"input",props:{label:"Threshold",value:90,maxValue:90,minValue:0,endAdornment:"%"},checked:!0}]},arcade:{checked:!0,options:[{name:"balls",checked:!0}]},alchemy:{checked:!0,options:[{name:"bargainTag",checked:!0},{name:"sigils",checked:!0},{name:"liquids",category:"liquids",type:"input",props:{label:"Liquid percent",value:90,maxValue:100,minValue:0},checked:!0},{name:"vials",category:"vials",checked:!0},{name:"subtractGreenStacks",checked:!0}]},cooking:{checked:!0,options:[{name:"spices",checked:!0}]},gaming:{checked:!0,options:[{name:"sprouts",checked:!0},{name:"squirrel",type:"input",props:{label:"Hours threshold",value:1,minValue:1},checked:!0},{name:"shovel",type:"input",props:{label:"Hours threshold",value:1,minValue:1},checked:!0}]},guild:{checked:!0,options:[{name:"daily",checked:!0},{name:"weekly",checked:!0}]},sailing:{checked:!0,options:[{name:"captains",checked:!0}]},breeding:{checked:!0,options:[{name:"eggs",checked:!0},{name:"shinies",type:"input",props:{label:"Level threshold",value:5},checked:!0}]},printer:{checked:!0,options:[{name:"includeOakAndCopper",category:"atoms",checked:!1},{name:"showAlertWhenFull",checked:!1}]},shops:{checked:!0,options:[{name:"shops",type:"array",props:{value:(0,$.gN)(),type:"img"},checked:!0}]},construction:{checked:!0,options:[{name:"flags",checked:!0},{name:"buildings",checked:!0},{name:"materials",category:"refinery",checked:!0},{name:"rankUp",checked:!0}]},postOffice:{checked:!0,options:[{name:"postOffice",type:"array",category:"shipments streak",props:{value:[1,2,3,4,5,6].toSimpleObject()},checked:!0}]},equinox:{checked:!0,options:[{name:"bar",checked:!0},{name:"challenges",checked:!0},{name:"foodLust",checked:!0}]},etc:{checked:!0,options:[{name:"dungeonTraits",checked:!0},{name:"materialTracker",checked:!0},{name:"randomEvents",checked:!0},{name:"gildedStamps",checked:!0},{name:"keys",checked:!0},{name:"miniBosses",type:"input",props:{label:"Bosses threshold",value:1,minValue:1},checked:!0},{name:"weeklyBosses",checked:!0},{name:"killRoy",checked:!0}]}},characters:{cards:{checked:!0,options:[{name:"cardSet",checked:!0}]},anvil:{checked:!0,options:[{name:"unspentPoints",checked:!0},{name:"missingHammers",checked:!0},{name:"anvilOverdue",checked:!0},{name:"showAlertBeforeFull",checked:!0,category:"anvil overdue"}]},worship:{checked:!0,options:[{name:"unendingEnergy",checked:!0},{name:"chargeOverdue",checked:!0}]},traps:{checked:!0,options:[{name:"missingTraps",checked:!0},{name:"trapsOverdue",checked:!0}]},alchemy:{checked:!0,options:[{name:"missingBubbles",checked:!0}]},obols:{checked:!0,options:[{name:"missingObols",checked:!0}]},postOffice:{checked:!0,options:[{name:"unspentPoints",checked:!0,type:"input",props:{label:"Number of boxes",value:1}}]},starSigns:{checked:!0,options:[{name:"missingStarSigns",checked:!0}]},crystalCountdown:{checked:!0,options:[{name:"showMaxed",checked:!0},{name:"showNonMaxed",checked:!1}]},tools:{checked:!0,options:[]},talents:{checked:!0,options:[{name:"talents",type:"array",category:"cooldowns",checked:!0,props:{value:{printerGoBrrr:!0,refineryThrottle:!0,craniumCooking:!0,"itsYourBirthday!":!0,voidTrialRerun:!0,arenaSpirit:!0,tasteTest:!0}}}]}}};var dashboard=()=>{var l,e,n;let{dispatch:s,state:v}=(0,o.useContext)(t.I),{characters:c,account:h,lastUpdated:m}=v,[g,x]=(0,o.useState)(!1),[f,j]=(0,o.useState)(lp),k=(0,d.Z)("(min-width: 1600px)",{noSsr:!0}),b=(0,d.Z)("(min-width: 850px)",{noSsr:!0}),y=new Date().getTime()+(null==h?void 0:null===(l=h.timeAway)||void 0===l?void 0:l.ShopRestock)*1e3,w=new Date().getTime()+((null==h?void 0:null===(e=h.timeAway)||void 0===e?void 0:e.ShopRestock)+86400*(null==h?void 0:null===(n=h.accountOptions)||void 0===n?void 0:n[39]))*1e3;return(0,o.useEffect)(()=>{var l,e,n,i,o,t;let d=null==v||null===(l=v.trackers)||void 0===l||!l.account||Object.keys(null==lp?void 0:lp.account).length!==Object.keys(null==v?void 0:null===(e=v.trackers)||void 0===e?void 0:e.account).length,a=null==v||null===(n=v.trackers)||void 0===n||!n.characters||Object.keys(null==lp?void 0:lp.characters).length!==Object.keys(null==v?void 0:null===(i=v.trackers)||void 0===i?void 0:i.characters).length;j({account:d?null==lp?void 0:lp.account:null==v?void 0:null===(o=v.trackers)||void 0===o?void 0:o.account,characters:a?null==lp?void 0:lp.characters:null==v?void 0:null===(t=v.trackers)||void 0===t?void 0:t.characters})},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(J.PB,{title:"Dashboard | Idleon Toolbox",description:"Provides key information about your account and alerts you when there are unfinished tasks"}),(0,i.jsxs)(a.Z,{direction:"row",gap:2,justifyContent:"space-between",children:[(0,i.jsxs)(a.Z,{sx:{maxWidth:b||k?lh.s:"100%"},children:[(0,i.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:3,children:[(0,i.jsx)(r.Z,{variant:"h2",children:"Dashboard"}),(0,i.jsx)(F.Z,{title:"Configure alerts",onClick:()=>x(!0),children:(0,i.jsx)(E.Z,{})})]}),(0,i.jsxs)(a.Z,{mb:1,mt:"4px",gap:2,direction:"row",flexWrap:"wrap",children:[(0,i.jsx)(T.Ye,{cardSx:{my:0},title:"Daily Reset",children:(0,i.jsx)(S.Z,{variant:"caption",type:"countdown",lastUpdated:m,date:y})}),(0,i.jsx)(T.Ye,{cardSx:{my:0},title:"Weekly Reset",children:(0,i.jsx)(S.Z,{variant:"caption",type:"countdown",lastUpdated:m,date:w})})]}),(0,i.jsxs)(a.Z,{gap:2,children:[(0,i.jsx)(dashboard_Account,{trackers:null==f?void 0:f.account,characters:c,account:h,lastUpdated:m}),(0,i.jsx)(dashboard_Characters,{trackers:null==f?void 0:f.characters,characters:c,account:h,lastUpdated:m}),(0,i.jsx)(dashboard_Etc,{characters:c,account:h,lastUpdated:m})]})]}),(0,i.jsx)(common_DashboardSettings,{onChange:l=>{j(l),s({type:"trackers",data:l})},open:g,onClose:()=>x(!1),config:f}),k||b?(0,i.jsxs)(u.Z,{sx:{backgroundColor:p.isProd?"":"#d73333",width:k?300:b?160:0,height:600},children:[k?(0,i.jsx)(ll.a,{client:"ca-pub-1842647313167572",slot:"2700532291"}):null,b&&!k?(0,i.jsx)(ll.a,{client:"ca-pub-1842647313167572",slot:"8040203474"}):null]}):null]})]})}},73592:function(l,e,n){"use strict";n.d(e,{J:function(){return calcTotals},h:function(){return getPrinter}});var i=n(30925),o=n(19834),t=n(16727),d=n(30796),a=n(10924),r=n(88344),u=n(95331);let getPrinter=(l,e,n)=>{let o=(0,i.tryToParse)(null==l?void 0:l.Print)||(null==l?void 0:l.Printer),t=(0,i.tryToParse)(null==l?void 0:l.PrinterXtra)||(null==l?void 0:l.PrinterXtra);return parsePrinter(o,t,e,n)},parsePrinter=(l,e,n,r)=>{var u,s,v,c,h,p,m;let g=(0,o.s8)(r,n,3),x=(0,t.YS)(null==r?void 0:null===(u=r.sailing)||void 0===u?void 0:u.artifacts,"Gold_Relic"),f=(null==x?void 0:x.acquired)===3?null==x?void 0:x.eldritchMultiplier:(null==x?void 0:x.acquired)===2?null==x?void 0:x.ancientMultiplier:0,j=null==r?void 0:null===(c=r.lab)||void 0===c?void 0:null===(v=c.labBonuses)||void 0===v?void 0:null===(s=v.find(l=>"Wired_In"===l.name))||void 0===s?void 0:s.active,k=null==r?void 0:null===(h=r.lab)||void 0===h?void 0:h.connectedPlayers,b=null==r?void 0:null===(p=r.accountOptions)||void 0===p?void 0:p[125],y=null==r?void 0:null===(m=r.accountOptions)||void 0===m?void 0:m[138],w=null==n?void 0:n.filter(l=>(null==l?void 0:l.class)==="Divine_Knight"),Z=null==w?void 0:w.reduce((l,e)=>{let{talents:n}=e,i=(0,d._X)(n,3,"KING_OF_THE_REMEMBERED",!1,!0);return i>l?i:l},0),C=(0,a.fi)(null==r?void 0:r.totalSkillsLevels,null==r?void 0:r.rift,3),A=l.slice(5,l.length);return n.map((l,n)=>{let o=A.slice(14*n,14*n+14);if(e){let l=null==e?void 0:e.slice(10*n,10*n+10);o.splice(-4,0,l),o=o.flat()}return o.reduce((l,e,t,d)=>{if(t%2==0){let e=d.slice(t,t+2).map((l,e)=>l),a=e[1],r=null==k?void 0:k.find(l=>{let{playerId:e}=l;return e===n}),u=(1+b*(2+f)/100)*(1+Z*(0,i.lavaLog)(y)/100)*(1+C/100),s=j&&r?g.includes(n)?6*u:2*u:g.includes(n)?3*u:u;a*=s;let v=[{name:"Lab",value:r&&j?2:0},{name:"Harriep God",value:g.includes(n)?3:0},{name:"Skill Mastery",value:1+C/100},{name:"Divine Knight",value:1+Z*(0,i.lavaLog)(y)/100},{name:"Gold Relic",value:1+b*(2+f)/100}];return[...l,{item:e[0],value:e[1],active:t>=o.length-4,boostedValue:a,breakdown:v}]}return l},[])})},calcTotals=(l,e)=>{var n,i;let{printer:o,storage:t}=l||{},d=(0,u.Xp)(null==l?void 0:null===(n=l.accountOptions)||void 0===n?void 0:n[133]),a=null==o?void 0:o.reduce((l,e)=>(e.forEach(e=>{let{boostedValue:n,item:i,active:o}=e;if("Blank"!==i&&o){if(null==l?void 0:l[i]){var a;l[i]={...l[i],boostedValue:n+(null===(a=l[i])||void 0===a?void 0:a.boostedValue)}}else{let e=(0,r.ju)(t,i,!0,!0);l[i]={boostedValue:n,atomable:e>=d-.01*d,storageItem:e}}}}),l),{});a=calcAtoms(a,d,e);let s=null===(i=Object.entries(a))||void 0===i?void 0:i.reduce((l,e)=>{var n;let[,i]=e;return l+(null!==(n=null==i?void 0:i.atoms)&&void 0!==n?n:0)},0);return{...a,atom:{boostedValue:s,atoms:s}}},calcAtoms=function(){var l;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return null===(l=Object.entries(e))||void 0===l?void 0:l.reduce((l,e)=>{let[o,t]=e,{boostedValue:d,atomable:a,storageItem:r}=t,u=d,s;if(null==i?void 0:i.checked)s=a;else{let l=d>=n&&!a,e=d>n-r&&!a;u=l?d-n:e?d-(n-r):d,s=l||e||a}return l[o]={...t,...s?{atoms:u/1e7}:{}},l},{})}},72664:function(l,e,n){"use strict";n.d(e,{B4:function(){return hasMissingMats},wt:function(){return getRefinery}});var i=n(30925),o=n(70473),t=n(88344);let getRefinery=(l,e,n)=>{let o=(0,i.tryToParse)(null==l?void 0:l.Refinery)||(null==l?void 0:l.Refinery);return parseRefinery(o,e,n)},parseRefinery=(l,e,n)=>{var i,d,a,r,u;let s=null==l?void 0:l[1],v=null==l?void 0:l[2],c=null==s?void 0:s.reduce((l,e,n)=>{var i;return"Blank"!==e?[...l,{rawName:e,name:null===(i=o.items[e])||void 0===i?void 0:i.displayName,amount:null==v?void 0:v[n],owner:"refinery"}]:l},[]),h=[...e,...c],p=null==n?void 0:null===(d=n[2])||void 0===d?void 0:null===(i=d[2])||void 0===i?void 0:i[6],m=null==l?void 0:l.slice(3,3+(null==l?void 0:null===(a=l[0])||void 0===a?void 0:a[0])),g=null==m?void 0:m.reduce((l,e,n)=>{let i="Refinery".concat(n+1),[d,a,,r,u]=e,{saltName:s,cost:v}=null===o.refinery||void 0===o.refinery?void 0:o.refinery[i],c=null==v?void 0:v.map(l=>{let e=(0,t.ju)(h,null==l?void 0:l.name,!0);return{...l,totalAmount:e}});return[...l,{saltName:s,cost:c,rawName:i,powerCap:getPowerCap(a),refined:d,rank:a,active:r,autoRefinePercentage:u}]},[]);return{salts:g,refinerySaltTaskLevel:p,timePastCombustion:null==l?void 0:null===(r=l[0])||void 0===r?void 0:r[1],timePastSynthesis:null==l?void 0:null===(u=l[0])||void 0===u?void 0:u[2],totalLevels:null==g?void 0:g.reduce((l,e)=>{let{rank:n}=e;return l+n},0),refineryStorage:c}},getPowerCap=l=>{var e;let n=null===(e=o.randomList[18])||void 0===e?void 0:e.split(" ");return parseFloat(Math.max(null==n?void 0:n[Math.min(l,(null==n?void 0:n.length)-2)],25))},hasMissingMats=(l,e,n,i)=>null==n?void 0:n.filter(n=>{var o;let{rawName:t,quantity:d,totalAmount:a}=n;return a<Math.floor(Math.pow(e,(null==t?void 0:t.includes("Refinery"))&&l<=(null==i?void 0:null===(o=i.refinery)||void 0===o?void 0:o.refinerySaltTaskLevel)?1.3:1.5))*d})},25081:function(l,e,n){"use strict";n.d(e,{gN:function(){return getRawShopItems},u6:function(){return getShops}});var i=n(30925),o=n(70473);let getShops=l=>{let e=(null==l?void 0:l.ShopStock)||(0,i.tryToParse)(null==l?void 0:l.ShopStock);return parseShops(e)},parseShops=l=>l.reduce((l,e,n)=>{var i;let d=null===(i=Object.values(e))||void 0===i?void 0:i.reduce((l,e,i)=>{var d,a,r,u;let s=null==t?void 0:null===(d=t[n])||void 0===d?void 0:d[i],v=parseInt(e)||0;return v>0&&s?[...l,{amount:e,...null===(r=o.shops[n])||void 0===r?void 0:null===(a=r.items)||void 0===a?void 0:a[i],shopName:null===(u=o.shops[n])||void 0===u?void 0:u.name}]:l},[]);return[...l,d]},[]),getRawShopItems=()=>{var l;return null===(l=Object.entries(o.shops))||void 0===l?void 0:l.reduce((l,e)=>{var n;let[i,{items:o}]=e,d=null==o?void 0:null===(n=o.filter((l,e)=>{var n;return null==t?void 0:null===(n=t[i])||void 0===n?void 0:n[e]}))||void 0===n?void 0:n.map(l=>{let{rawName:e}=l;return e});return[...l,...d]},[]).toSimpleObject()},t={0:[8,13,14,17,23].toSimpleObject(),1:[2,8,9,13].toSimpleObject(),2:[0,1,2,3,4,8,9,10,18].toSimpleObject(),3:[12].toSimpleObject(),4:[0,1,2,8,9,10,19,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject()}}},function(l){l.O(0,[5127,8548,7896,8054,1251,9774,2888,179],function(){return l(l.s=51075)}),_N_E=l.O()}]);