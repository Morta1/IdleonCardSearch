(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5983],{81426:function(e,n,r){"use strict";r.d(n,{Z:function(){return S}});var t=r(87462),l=r(63366),a=r(67294),i=r(86010),o=r(94780),s=r(34867),d=r(18719),c=r(13264),u=r(29628),p=r(96682),g=r(39707),h=r(66500);function appendLevel(e){return e?`Level${e}`:""}function isNestedContainer(e){return e.unstable_level>0&&e.container}function createGetSelfSpacing(e){return function(n){return`var(--Grid-${n}Spacing${appendLevel(e.unstable_level)})`}}function createGetParentSpacing(e){return function(n){return 0===e.unstable_level?`var(--Grid-${n}Spacing)`:`var(--Grid-${n}Spacing${appendLevel(e.unstable_level-1)})`}}function getParentColumns(e){return 0===e.unstable_level?"var(--Grid-columns)":`var(--Grid-columns${appendLevel(e.unstable_level-1)})`}let filterBreakpointKeys=(e,n)=>e.filter(e=>n.includes(e)),traverseBreakpoints=(e,n,r)=>{let t=e.keys[0];if(Array.isArray(n))n.forEach((n,t)=>{r((n,r)=>{t<=e.keys.length-1&&(0===t?Object.assign(n,r):n[e.up(e.keys[t])]=r)},n)});else if(n&&"object"==typeof n){let l=Object.keys(n).length>e.keys.length?e.keys:filterBreakpointKeys(e.keys,Object.keys(n));l.forEach(l=>{if(-1!==e.keys.indexOf(l)){let a=n[l];void 0!==a&&r((n,r)=>{t===l?Object.assign(n,r):n[e.up(l)]=r},a)}})}else("number"==typeof n||"string"==typeof n)&&r((e,n)=>{Object.assign(e,n)},n)},generateGridSizeStyles=({theme:e,ownerState:n})=>{let r=createGetSelfSpacing(n),t={};return traverseBreakpoints(e.breakpoints,n.gridSize,(e,l)=>{let a={};!0===l&&(a={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===l&&(a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof l&&(a={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${l} / ${getParentColumns(n)}${isNestedContainer(n)?` + ${r("column")}`:""})`}),e(t,a)}),t},generateGridOffsetStyles=({theme:e,ownerState:n})=>{let r={};return traverseBreakpoints(e.breakpoints,n.gridOffset,(e,t)=>{let l={};"auto"===t&&(l={marginLeft:"auto"}),"number"==typeof t&&(l={marginLeft:0===t?"0px":`calc(100% * ${t} / ${getParentColumns(n)})`}),e(r,l)}),r},generateGridColumnsStyles=({theme:e,ownerState:n})=>{if(!n.container)return{};let r=isNestedContainer(n)?{[`--Grid-columns${appendLevel(n.unstable_level)}`]:getParentColumns(n)}:{"--Grid-columns":12};return traverseBreakpoints(e.breakpoints,n.columns,(e,t)=>{e(r,{[`--Grid-columns${appendLevel(n.unstable_level)}`]:t})}),r},generateGridRowSpacingStyles=({theme:e,ownerState:n})=>{if(!n.container)return{};let r=createGetParentSpacing(n),t=isNestedContainer(n)?{[`--Grid-rowSpacing${appendLevel(n.unstable_level)}`]:r("row")}:{};return traverseBreakpoints(e.breakpoints,n.rowSpacing,(r,l)=>{var a;r(t,{[`--Grid-rowSpacing${appendLevel(n.unstable_level)}`]:"string"==typeof l?l:null==(a=e.spacing)?void 0:a.call(e,l)})}),t},generateGridColumnSpacingStyles=({theme:e,ownerState:n})=>{if(!n.container)return{};let r=createGetParentSpacing(n),t=isNestedContainer(n)?{[`--Grid-columnSpacing${appendLevel(n.unstable_level)}`]:r("column")}:{};return traverseBreakpoints(e.breakpoints,n.columnSpacing,(r,l)=>{var a;r(t,{[`--Grid-columnSpacing${appendLevel(n.unstable_level)}`]:"string"==typeof l?l:null==(a=e.spacing)?void 0:a.call(e,l)})}),t},generateGridDirectionStyles=({theme:e,ownerState:n})=>{if(!n.container)return{};let r={};return traverseBreakpoints(e.breakpoints,n.direction,(e,n)=>{e(r,{flexDirection:n})}),r},generateGridStyles=({ownerState:e})=>{let n=createGetSelfSpacing(e),r=createGetParentSpacing(e);return(0,t.Z)({minWidth:0,boxSizing:"border-box"},e.container&&(0,t.Z)({display:"flex",flexWrap:"wrap"},e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},{margin:`calc(${n("row")} / -2) calc(${n("column")} / -2)`},e.disableEqualOverflow&&{margin:`calc(${n("row")} * -1) 0px 0px calc(${n("column")} * -1)`}),(!e.container||isNestedContainer(e))&&(0,t.Z)({padding:`calc(${r("row")} / 2) calc(${r("column")} / 2)`},(e.disableEqualOverflow||e.parentDisableEqualOverflow)&&{padding:`${r("row")} 0px 0px ${r("column")}`}))},generateSizeClassNames=e=>{let n=[];return Object.entries(e).forEach(([e,r])=>{!1!==r&&void 0!==r&&n.push(`grid-${e}-${String(r)}`)}),n},generateSpacingClassNames=(e,n="xs")=>{function isValidSpacing(e){return void 0!==e&&("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e&&e>0)}if(isValidSpacing(e))return[`spacing-${n}-${String(e)}`];if("object"==typeof e&&!Array.isArray(e)){let n=[];return Object.entries(e).forEach(([e,r])=>{isValidSpacing(r)&&n.push(`spacing-${e}-${String(r)}`)}),n}return[]},generateDirectionClasses=e=>void 0===e?[]:"object"==typeof e?Object.entries(e).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(e)}`];var v=r(85893);let f=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],m=(0,h.Z)(),x=(0,c.Z)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,n)=>n.root});function useThemePropsDefault(e){return(0,u.Z)({props:e,name:"MuiGrid",defaultTheme:m})}function createGrid(e={}){let{createStyledComponent:n=x,useThemeProps:r=useThemePropsDefault,componentName:c="MuiGrid"}=e,u=a.createContext(void 0),useUtilityClasses=(e,n)=>{let{container:r,direction:t,spacing:l,wrap:a,gridSize:i}=e,d={root:["root",r&&"container","wrap"!==a&&`wrap-xs-${String(a)}`,...generateDirectionClasses(t),...generateSizeClassNames(i),...r?generateSpacingClassNames(l,n.breakpoints.keys[0]):[]]};return(0,o.Z)(d,e=>(0,s.Z)(c,e),{})},h=n(generateGridColumnsStyles,generateGridColumnSpacingStyles,generateGridRowSpacingStyles,generateGridSizeStyles,generateGridDirectionStyles,generateGridStyles,generateGridOffsetStyles),m=a.forwardRef(function(e,n){var o,s,c,m,x,b,C,j;let S=(0,p.Z)(),y=r(e),w=(0,g.Z)(y),Z=a.useContext(u),{className:G,children:k,columns:_=12,container:O=!1,component:$="div",direction:N="row",wrap:M="wrap",spacing:L=0,rowSpacing:E=L,columnSpacing:P=L,disableEqualOverflow:B,unstable_level:T=0}=w,A=(0,l.Z)(w,f),D=B;T&&void 0!==B&&(D=e.disableEqualOverflow);let R={},q={},z={};Object.entries(A).forEach(([e,n])=>{void 0!==S.breakpoints.values[e]?R[e]=n:void 0!==S.breakpoints.values[e.replace("Offset","")]?q[e.replace("Offset","")]=n:z[e]=n});let F=null!=(o=e.columns)?o:T?void 0:_,I=null!=(s=e.spacing)?s:T?void 0:L,W=null!=(c=null!=(m=e.rowSpacing)?m:e.spacing)?c:T?void 0:E,V=null!=(x=null!=(b=e.columnSpacing)?b:e.spacing)?x:T?void 0:P,U=(0,t.Z)({},w,{level:T,columns:F,container:O,direction:N,wrap:M,spacing:I,rowSpacing:W,columnSpacing:V,gridSize:R,gridOffset:q,disableEqualOverflow:null!=(C=null!=(j=D)?j:Z)&&C,parentDisableEqualOverflow:Z}),K=useUtilityClasses(U,S),X=(0,v.jsx)(h,(0,t.Z)({ref:n,as:$,ownerState:U,className:(0,i.Z)(K.root,G)},z,{children:a.Children.map(k,e=>{if(a.isValidElement(e)&&(0,d.Z)(e,["Grid"])){var n;return a.cloneElement(e,{unstable_level:null!=(n=e.props.unstable_level)?n:T+1})}return e})}));return void 0!==D&&D!==(null!=Z&&Z)&&(X=(0,v.jsx)(u.Provider,{value:D,children:X})),X});return m.muiName="Grid",m}var b=r(90948),C=r(71657);let j=createGrid({createStyledComponent:(0,b.ZP)("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,n)=>n.root}),componentName:"MuiGrid2",useThemeProps:e=>(0,C.Z)({props:e,name:"MuiGrid2"})});var S=j},18131:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboards",function(){return r(15362)}])},30509:function(e,n,r){"use strict";var t=r(85893),l=r(67294),a=r(98396),i=r(11703),o=r(40044);n.Z=e=>{let{tabs:n,children:r,onTabChange:s,forceScroll:d}=e,[c,u]=(0,l.useState)(0),p=(0,a.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),g=Array.isArray(r)?r:[r];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{centered:!p||p&&n.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:p&&n.length>4||d?"scrollable":"standard",value:c,onChange:(e,n)=>{u(n),s&&s(n)},children:null==n?void 0:n.map((e,n)=>(0,t.jsx)(o.Z,{wrapped:!0,label:e},"".concat(e,"-").concat(n)))}),s?r:null==g?void 0:g.map((e,n)=>n===c?e:null)]})}},15362:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return leaderboards}});var t=r(85893),l=r(21785),a=r(15861),i=r(66242),o=r(44267),s=r(417),d=r(50135),c=r(51233),u=r(98456),p=r(30509),g=r(82729),h=r(67294),v=r(78462),f=r(97212),m=r(59334),x=r(23795),b=r(90629),C=r(81426),j=r(30925),S=r(87357),y=r(61599);function _templateObject(){let e=(0,g._)(["\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,g._)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  border-radius: 12px;\n  box-shadow: none;\n  height: ","px;\n  order: ",";\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,g._)(["\n  display: flex;\n  padding: 8px;\n  margin: auto auto 0 auto;\n  justify-content: center;\n  border-radius: 12px 12px 0 0;\n  box-shadow: none;\n  width: 100%;\n  background-color: ",";\n  outline: ",";\n  outline-color: ","\n"]);return _templateObject2=function(){return e},e}let w="#007E85",Z="#cd861b",G="#12141c",specialNotation=(e,n)=>"bits"===e?(0,j.notateNumber)(n,"bits"):"dropRate"===e?(0,j.notateNumber)(n,"MultiplierInfo"):(0,j.notateNumber)(n),TopThree=e=>{let{sectionName:n,topThree:r}=e;return(0,t.jsx)(C.Z,{container:!0,spacing:4,children:r.map((e,l)=>{let i=(null==e?void 0:e[n])||0;return(0,t.jsx)(C.Z,{xs:(null==r?void 0:r.length)===1?12:4,order:0===l?2:1===l?1:3,alignSelf:"flex-end",children:(0,t.jsxs)(_,{height:0===l?125:1===l?115:105,children:[(0,t.jsxs)(c.Z,{sx:{height:"100%"},gap:1,alignItems:"center",justifyContent:"center",direction:"row",children:[(0,t.jsx)(a.Z,{children:l+1}),(0,t.jsx)(S.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)("img",{width:2===l?20:24,height:2===l?20:24,style:{objectFit:"contain"},src:"".concat(j.prefix).concat(0===l?"data/Trophie.png":1===l?"data/G2icon40.png":"data/G2icon39.png"),alt:""})})]}),(0,t.jsx)(O,{loggedMainChar:null==e?void 0:e.loggedMainChar,searchedChar:null==e?void 0:e.searchedChar,children:(0,t.jsxs)(c.Z,{justifyContent:"center",children:[(0,t.jsx)(a.Z,{textAlign:"center",sx:{mt:"auto"},children:(0,t.jsx)(x.Z,{color:"inherit",underline:"hover",target:"_blank",href:"https://idleontoolbox.com?profile=".concat(null==e?void 0:e.mainChar),children:null==e?void 0:e.mainChar})}),(0,t.jsx)(a.Z,{textAlign:"center",children:specialNotation(n,i)})]})})]})},"top-three-".concat(n,"-").concat(null==e?void 0:e.mainChar))})})},k=(0,y.Z)(S.Z,{shouldForwardProp:e=>"inline"!==e})(_templateObject(),e=>{let{inline:n}=e;return n?"inline-flex":"flex"},e=>{let{bgColor:n}=e;return n||"#ffffff21"}),_=(0,y.Z)(b.Z,{shouldForwardProp:e=>"bgColor"!==e&&"order"!==e&&"inline"!==e})(_templateObject1(),e=>{let{height:n}=e;return n},e=>{let{order:n}=e;return n}),O=(0,y.Z)(b.Z,{shouldForwardProp:e=>"searchedChar"!==e&&"loggedMainChar"!==e})(_templateObject2(),e=>{let{outline:n}=e;return n?G:"#161826"},e=>{let{loggedMainChar:n,searchedChar:r}=e;return n||r?"3px solid":"none"},e=>{let{loggedMainChar:n,searchedChar:r}=e;return n?w:r?Z:""});var Leaderboard=e=>{let{leaderboards:n,loggedMainChar:r,searchedChar:l}=e;return(0,t.jsx)(C.Z,{sx:{width:"100%",margin:"0 auto"},justifySelf:"center",container:!0,rowSpacing:3,columnSpacing:{lg:4,xl:12},children:Object.entries(n||{}).map((e,n)=>{var i;let[o,s]=e,d={},c=s.map((e,n)=>{let t=e.mainChar,a=t===r,i=t===l;return(a||i)&&n>=10&&(d[t]=n+1),{...e,...a&&{loggedMainChar:!0},...i&&{searchedChar:!0},index:n+1}}),u=null===(i=Object.entries(d))||void 0===i?void 0:i.map(e=>{let[n,t]=e,l=null==s?void 0:s.find(e=>(null==e?void 0:e.mainChar)===n),a=l.mainChar===r?"loggedMainChar":"searchedChar";return{...l,[a]:!0,index:t}},[]),p=null==c?void 0:c.toSpliced(3),g=null==c?void 0:c.slice(3,10).concat(u),h=(null==s?void 0:s.length)===0;return(0,t.jsxs)(C.Z,{xs:12,lg:6,xl:4,children:[(0,t.jsx)(a.Z,{textAlign:"center",variant:"h4",mt:{xs:3,lg:0},mb:{xs:3,lg:1},children:o.camelToTitleCase()}),h?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(a.Z,{textAlign:"center",mt:5,variant:"h6",children:"Nothing here yet"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(TopThree,{sectionName:o,topThree:p}),(0,t.jsx)(v.Z,{children:g.map((e,n)=>{let r=(null==e?void 0:e[o])||0;return(0,t.jsx)(f.ZP,{sx:{mb:(null==e?void 0:e.loggedMainChar)||(null==e?void 0:e.searchedChar)?.8:0,backgroundColor:(null==e?void 0:e.loggedMainChar)||(null==e?void 0:e.searchedChar)?G:"#1a1d2a",outline:(null==e?void 0:e.loggedMainChar)||(null==e?void 0:e.searchedChar)?"2px solid":"none",outlineColor:(null==e?void 0:e.loggedMainChar)?w:(null==e?void 0:e.searchedChar)?Z:""},secondaryAction:(0,t.jsx)(a.Z,{children:specialNotation(o,r)}),children:(0,t.jsxs)(m.Z,{children:[(0,t.jsx)(k,{inline:!0,sx:{mr:2},children:(null==e?void 0:e.index)?null==e?void 0:e.index:n+4})," ",(0,t.jsx)(x.Z,{color:"inherit",underline:"hover",target:"_blank",href:"https://idleontoolbox.com?profile=".concat(null==e?void 0:e.mainChar),children:null==e?void 0:e.mainChar})]})},"".concat(o,"-").concat(n))})})]})]},"".concat(o,"-").concat(n))})})},$=r(21480),N=r(2962),M=r(94967);let L=(0,l.D)({trim:!0,limit:50});var leaderboards=()=>{var e,n,r,l,g,v,f,m,x;let{state:b}=(0,h.useContext)($.I),C=null==b?void 0:null===(n=b.characters)||void 0===n?void 0:null===(e=n[0])||void 0===e?void 0:e.name,[j,y]=h.useState(),[w,Z]=h.useState(""),[G,k]=h.useState("");return(0,h.useEffect)(()=>{let getLeaderboards=async()=>{try{let e=await (0,M.RD)();y(e),Z("")}catch(e){Z("Error has occurred while getting leaderboards")}};getLeaderboards()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.PB,{title:"Leaderboards | Idleon Toolbox",description:"Leaderboards for Idleon MMO"}),(0,t.jsx)(a.Z,{textAlign:"center",variant:"h2",children:"Leaderboards"}),(0,t.jsx)(a.Z,{mb:3,textAlign:"center",sx:{fontSize:14},component:"div",variant:"caption",children:"* To participate in the leaderboards, please upload your profile with leaderboard consent."}),(null==j?void 0:null===(l=j.general)||void 0===l?void 0:null===(r=l.totalMoney)||void 0===r?void 0:r.length)?(0,t.jsx)(i.Z,{variant:"outlined",sx:{width:"fit-content",margin:"16px auto",borderColor:"success.light"},children:(0,t.jsx)(o.Z,{sx:{"&:last-child":{p:1}},children:(0,t.jsxs)(a.Z,{textAlign:"center",sx:{fontSize:14},component:"div",variant:"caption",children:["Uploaded accounts: ",null==j?void 0:null===(v=j.general)||void 0===v?void 0:null===(g=v.totalMoney)||void 0===g?void 0:g.length]})})}):null,(null==j?void 0:null===(m=j.general)||void 0===m?void 0:null===(f=m.totalMoney)||void 0===f?void 0:f.length)?(0,t.jsx)(S.Z,{sx:{width:"fit-content",margin:"16px auto",border:"none"},children:(0,t.jsx)(s.Z,{options:null==j?void 0:null===(x=j.general)||void 0===x?void 0:x.totalMoney,getOptionLabel:e=>e.mainChar,id:"user-search",filterOptions:L,sx:{width:230},value:G||null,onChange:(e,n)=>k(n),renderInput:e=>(0,t.jsx)(d.Z,{...e,label:"Search by character name",variant:"standard"})})}):null,j||w?w?(0,t.jsx)(a.Z,{color:"error.light",textAlign:"center",variant:"h6",children:w}):(0,t.jsxs)(p.Z,{tabs:["General","Tasks","Skills","Character","Misc"],children:[(0,t.jsx)(Leaderboard,{leaderboards:null==j?void 0:j.general,loggedMainChar:C,searchedChar:null==G?void 0:G.mainChar}),(0,t.jsx)(Leaderboard,{leaderboards:null==j?void 0:j.tasks,loggedMainChar:C,searchedChar:null==G?void 0:G.mainChar}),(0,t.jsx)(Leaderboard,{leaderboards:null==j?void 0:j.skills,loggedMainChar:C,searchedChar:null==G?void 0:G.mainChar}),(0,t.jsx)(Leaderboard,{leaderboards:null==j?void 0:j.character,loggedMainChar:C,searchedChar:null==G?void 0:G.mainChar}),(0,t.jsx)(Leaderboard,{leaderboards:null==j?void 0:j.misc,loggedMainChar:C,searchedChar:null==G?void 0:G.mainChar})]}):(0,t.jsx)(c.Z,{alignItems:"center",justifyContent:"center",mt:3,children:(0,t.jsx)(u.Z,{})})]})}}},function(e){e.O(0,[417,9774,2888,179],function(){return e(e.s=18131)}),_N_E=e.O()}]);