(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{51075:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return l(70593)}])},32705:function(e,n,l){"use strict";var i=l(82729),t=l(85893),o=l(51233),d=l(15861),r=l(66092),a=l(61436),s=l(40929);function c(){let e=(0,i._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return c=function(){return e},e}l(67294);let u=l(61599).Z.img(c());n.Z=e=>{let{eventName:n,mapName:l,date:i}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:2,children:[(0,t.jsx)(u,{src:"".concat(r.prefix,"etc/").concat(n,".png"),alt:""}),(0,t.jsx)(d.Z,{color:null===r.eventsColors||void 0===r.eventsColors?void 0:r.eventsColors[n],children:(0,r.cleanUnderscore)(n)})]}),(0,t.jsx)(d.Z,{children:(0,r.cleanUnderscore)(l)}),(0,a.Z)(i)?(0,s.Z)(i,"dd/MM/yyyy HH:mm:ss"):null]})}},48079:function(e,n,l){"use strict";var i=l(85893),t=l(51233),o=l(61436),d=l(40929),r=l(66092),a=l(30622);n.Z=e=>{let{rawName:n,date:l,lootItemCost:s,moneyValue:c}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.Z,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,children:(0,o.Z)(new Date(l))?(0,d.Z)(new Date(l),"dd/MM/yyyy HH:mm:ss"):null}),(0,i.jsxs)(t.Z,{direction:"row",alignItems:"center",gap:1,justifyContent:"center",children:[(0,i.jsxs)(t.Z,{direction:"row",gap:1,children:[(0,i.jsx)("img",{src:"".concat(r.prefix,"data/").concat(n,".png"),alt:""}),(0,r.notateNumber)(s)]}),(0,i.jsx)(a.Z,{}),(0,i.jsxs)(t.Z,{direction:"row",gap:1,children:[(0,i.jsx)("img",{src:"".concat(r.prefix,"data/SailT0.png"),alt:""}),(0,r.notateNumber)(c)]})]})]})}},33458:function(e,n,l){"use strict";var i=l(85893),t=l(67294),o=l(98396),d=l(11703),r=l(40044);n.Z=e=>{let{tabs:n,children:l,onTabChange:a}=e,[s,c]=(0,t.useState)(0),u=(0,o.Z)(e=>e.breakpoints.down("md"),{noSsr:!0}),v=Array.isArray(l)?l:[l];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{centered:!u||u&&n.length<4,scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginBottom:3},variant:u&&n.length>4?"scrollable":"standard",value:s,onChange:(e,n)=>{c(n),a&&a(n)},children:null==n?void 0:n.map((e,n)=>(0,i.jsx)(r.Z,{label:e},"".concat(e,"-").concat(n)))}),a?l:null==v?void 0:v.map((e,n)=>n===s?e:null)]})}},94217:function(e,n,l){"use strict";var i=l(85893),t=l(67294),o=l(84288),d=l(33913),r=l(66092),a=l(15861);let s=(0,t.forwardRef)((e,n)=>{let{date:l,startDate:s,lastUpdated:c,stopAtZero:u,type:v,pause:h,staticTime:p,placeholder:m,loop:x,variant:g="inherit",...j}=e,[f,k]=(0,t.useState)();(0,t.useEffect)(()=>{if(l){if(p){if(!isFinite(l))return;return k({...(0,r.getDuration)(new Date().getTime(),l)})}let e=new Date,n=e.getTime()-(null!=c?c:0),i=(0,d.Z)(l);k({...(0,r.getDuration)(null==e?void 0:e.getTime(),l+n*("countdown"===v?-1:1)),overtime:"countdown"===v&&i})}},[l,c]);let Z=()=>{let{days:e,hours:n,minutes:l,seconds:i}=f;60===(i+=1)&&(i=0,60===(l+=1)&&(l=0,24===(n+=1)&&(e+=1))),k({...f,days:e,hours:n,minutes:l,seconds:i})},w=()=>{let{days:e,hours:n,minutes:l,seconds:i}=f;if(0===e&&0===n&&0===l&&0===i){if(u)return;if(x)return k({...(0,r.getDuration)(new Date().getTime(),s)})}-1==(i-=1)&&(i=59,-1==(l-=1)&&(l=59,-1==(n-=1)&&(n=0,e-=1))),k({...f,days:e,hours:n,minutes:l,seconds:i})};(0,o.Z)(()=>{if(!f)return null;"countdown"!==v||(null==f?void 0:f.overtime)?Z():w()},h||p?null:1e3);let y=e=>{let n=String(e);return(null==n?void 0:n.length)===1?"0".concat(e):e};return f?((null==f?void 0:f.overtime)||h)&&m?(0,i.jsx)(a.Z,{...j,ref:n,children:m}):(0,i.jsxs)(a.Z,{...j,ref:n,variant:g,sx:{color:"".concat((null==f?void 0:f.overtime)&&!x?"#f91d1d":"")},component:"span",children:[(null==f?void 0:f.days)?y(null==f?void 0:f.days)+"d:":"",y(null==f?void 0:f.hours)+"h:",y(null==f?void 0:f.minutes)+"m",(null==f?void 0:f.days)?"":":",(null==f?void 0:f.days)?"":y(null==f?void 0:f.seconds)+"s"]}):null});n.Z=s},82557:function(e,n,l){"use strict";l.d(n,{Gr:function(){return O},M5:function(){return f},Wd:function(){return T},Ye:function(){return W},iy:function(){return w},j8:function(){return Z},u3:function(){return I},uQ:function(){return k},wD:function(){return M}});var i=l(82729),t=l(85893),o=l(67294),d=l(66092),r=l(51233),a=l(15861),s=l(49425),c=l(66242),u=l(44267),v=l(61599),h=l(44358),p=l(98118);function m(){let e=(0,i._)(["\n  & .MuiBadge-badge {\n    background-color: #d5d5dc;\n    color: rgba(0, 0, 0, 0.87);\n  }\n"]);return m=function(){return e},e}function x(){let e=(0,i._)(["\n  height: 20px;\n  object-fit: contain;\n"]);return x=function(){return e},e}function g(){let e=(0,i._)(["\n  width: 56px;\n  height: 72px;\n  object-fit: contain;\n  opacity: ",";\n"]);return g=function(){return e},e}function j(){let e=(0,i._)(["\n  position: absolute;\n  left: 50%;\n  top: -3px;\n  pointer-events: none;\n  transform: translateX(-50%);\n"]);return j=function(){return e},e}let f=(0,o.forwardRef)((e,n)=>{let{stat:l,icon:i,img:o,title:s="",...c}=e;return(0,t.jsx)(h.Z,{title:s,children:(0,t.jsxs)(r.Z,{alignItems:"center",...c,ref:n,style:{position:"relative",width:"fit-content"},children:[(0,t.jsx)("img",{...o,src:"".concat(d.prefix,"data/").concat(i,".png"),alt:""}),(0,t.jsx)(a.Z,{variant:"body1",component:"span",children:l})]})})});f.displayName="IconWithText";let k=e=>{let{title:n,value:l,boldTitle:i,titleStyle:o={},valueStyle:d={}}=e;return(0,t.jsxs)(r.Z,{direction:"row",flexWrap:"wrap",alignItems:"center",children:[n?(0,t.jsxs)(a.Z,{style:o,fontWeight:i?"bold":500,component:"span",children:[n,":\xa0"]}):null,(0,t.jsx)(a.Z,{fontSize:15,component:"span",sx:d,children:l})]})},Z=(0,v.Z)(s.Z)(m()),w=e=>{let{cardName:n,stars:l,cardIndex:i,name:o,variant:r,rawName:a,amount:s,nextLevelReq:c}=e,u="cardSet"===r?"".concat(d.prefix,"data/").concat(a,".png"):"".concat(d.prefix,"data/2Cards").concat(i,".png");return(0,t.jsxs)(t.Fragment,{children:[l>0?(0,t.jsx)(S,{src:"".concat(d.prefix,"data/CardEquipBorder").concat(l,".png"),alt:""}):null,(0,t.jsx)(h.Z,{title:(0,t.jsx)(y,{...e,cardName:"cardSet"===r?o:n,nextLevelReq:c,amount:s}),children:(0,t.jsx)(C,{isCardSet:"cardSet"===r,amount:s,src:u,alt:""})})]})},y=e=>{let{displayName:n,effect:l,bonus:i,stars:o,showInfo:s,nextLevelReq:c,amount:u}=e,v=i;return s&&(v=(0,p.BZ)({bonus:i,stars:o})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Z,{fontWeight:"bold",variant:"h6",children:(0,d.cleanUnderscore)(n)}),(0,t.jsx)(a.Z,{children:(0,d.cleanUnderscore)(l.replace("{",v))}),s?(0,t.jsx)(r.Z,{mt:1,direction:"row",gap:1,flexWrap:"wrap",children:[1,2,3,4,5,6].map((e,l)=>(0,t.jsxs)(r.Z,{alignItems:"center",justifyContent:"space-between",children:[0===l?(0,t.jsx)(a.Z,{children:"Base"}):(0,t.jsx)(b,{src:"".concat(d.prefix,"etc/Star").concat(l,".png"),alt:""}),(0,t.jsx)(a.Z,{children:i*(l+1)})]},"".concat(n,"-").concat(l)))}):null,u>=c?(0,t.jsxs)(r.Z,{children:["You've collected ",(0,d.numberWithCommas)(u)," cards"]}):c>0?(0,t.jsxs)(r.Z,{children:["Progress: ",(0,d.numberWithCommas)(u)," / ",(0,d.numberWithCommas)(c)]}):null]})},b=v.Z.img(x()),C=v.Z.img(g(),e=>{let{amount:n,isCardSet:l}=e;return n||l?1:.5}),S=v.Z.img(j()),I=e=>{let{level:n,funcX:l,x1:i,x2:o,funcY:s,y1:c,y2:u,description:v,name:h,talentId:p}=e,m=n>0?(0,d.growth)(l,n,i,o):0,x=n>0?(0,d.growth)(s,n,c,u):0;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,t.jsx)("img",{src:"".concat(d.prefix,"data/UISkillIcon").concat(p,".png"),alt:""}),(0,t.jsx)(a.Z,{fontWeight:"bold",variant:"h6",children:(0,d.cleanUnderscore)(h)})]}),(0,t.jsx)(a.Z,{children:(0,d.cleanUnderscore)(v).replace("{",m).replace("}",x)})]})},T=e=>{let{players:n,characters:l}=e;return(0,t.jsx)(r.Z,{gap:1,direction:"row",children:n.map(e=>{var n,i;let{index:o}=e;return(0,t.jsx)(h.Z,{title:null==l?void 0:null===(n=l[o])||void 0===n?void 0:n.name,children:(0,t.jsx)("img",{style:{width:24,height:24},src:"".concat(d.prefix,"data/ClassIcons").concat(null==l?void 0:null===(i=l[o])||void 0===i?void 0:i.classIndex,".png"),alt:""})},name+"-head-"+o)})})},O=e=>{let{name:n}=e;return(0,t.jsxs)(a.Z,{variant:"h3",children:["Your account is missing data for ",n]})},W=e=>{let{variant:n,raised:l,cardSx:i,imgStyle:o,title:s,value:v,children:p,icon:m,tooltipTitle:x}=e;return(0,t.jsx)(h.Z,{title:x||"",children:(0,t.jsx)(c.Z,{variant:n,raised:l,sx:{my:{xs:0,md:3},width:"fit-content",...i},children:(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(a.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:s}),v?m?(0,t.jsxs)(r.Z,{direction:"row",gap:2,alignItems:"center",children:[(0,t.jsx)("img",{style:{objectFit:"contain",...o},src:"".concat(d.prefix).concat(m),alt:""}),(0,t.jsx)(a.Z,{children:v})]}):(0,t.jsx)(a.Z,{children:v}):p]})})})},M=e=>{let{direction:n="row",children:l}=e;return(0,t.jsx)(r.Z,{gap:1,direction:n,alignItems:"center",children:l})}},70593:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return eb}});var i=l(85893),t=l(67294),o=l(80782),d=l(98396),r=l(51233),a=l(15861),s=l(87357),c=l(82729),u=l(66242),v=l(44267),h=l(67720),p=l(66092),m=l(61599),x=l(44358),g=l(69690),j=l(76972),f=l(33913),k=l(83524),Z=l(67924),w=l(21351),y=l(65455),b=l(14802),C=l(2127);let S=(e,n)=>{var l;let{talents:i}=n,{postOffice:t,afkTime:o,cooldowns:d,flatTalents:r}=e,a=Math.max(0,(0,k.xV)(t,"Magician_Starterpack",2)),s=(new Date().getTime()-o)/1e3;return d?null===(l=Object.entries(d||{}))||void 0===l?void 0:l.reduce((e,n)=>{var l,t,o,d;let[c,u]=n;if(!b.RL[c])return e;let v=null==r?void 0:r.find(e=>{let{talentId:n}=e;return parseInt(c)===n}),h=null===(l=Object.entries((null==i?void 0:null===(o=i.talents)||void 0===o?void 0:null===(t=o.props)||void 0===t?void 0:t.value)||{}))||void 0===l?void 0:l.reduce((e,n)=>{var l,i;let[t,o]=n;return{...e,[null===(i=t.camelToTitleCase())||void 0===i?void 0:null===(l=i.replace(/ /g,"_"))||void 0===l?void 0:l.toUpperCase()]:o}},{});if(!v||!(null==h?void 0:h[null==v?void 0:v.name]))return e;let p=(1-a/100)*u-s,m=p<0?p:new Date().getTime()+1e3*p;return(null==i?void 0:null===(d=i.alwaysShowTalents)||void 0===d?void 0:d.checked)||(0,f.Z)(m)?[...e,{name:null==v?void 0:v.name,skillIndex:null==v?void 0:v.skillIndex,cooldown:m}]:e},[]):[]},I=e=>{if((0,b.gW)(null==e?void 0:e.class,"Maestro")){var n;return null===(n=Object.entries((null==e?void 0:e.skillsInfo)||{}))||void 0===n?void 0:n.reduce((n,l)=>{let[i,t]=l;if((null==t?void 0:t.index)<10&&"character"!==i){let l=(0,b._X)(null==e?void 0:e.talents,2,"CRYSTAL_COUNTDOWN",null,null,e.addedLevels,!0),o=(0,w.O4)(null==t?void 0:t.index,null==t?void 0:t.level),d=(1-(null==t?void 0:t.expReq)/o)*100;return[...n,{name:i,...t,crystalCountdown:l,reduction:d,ready:d>0}]}return n},[])}},T=(e,n)=>{var l,i,t,o,d,r,a,s,c,u,v,h,p;let m=(0,C.w$)(),x=null==e?void 0:null===(l=e.tools)||void 0===l?void 0:l.slice(0,6),g=[null==e?void 0:null===(t=e.skillsInfo)||void 0===t?void 0:null===(i=t.mining)||void 0===i?void 0:i.level,null==e?void 0:null===(d=e.skillsInfo)||void 0===d?void 0:null===(o=d.chopping)||void 0===o?void 0:o.level,null==e?void 0:null===(a=e.skillsInfo)||void 0===a?void 0:null===(r=a.fishing)||void 0===r?void 0:r.level,null==e?void 0:null===(c=e.skillsInfo)||void 0===c?void 0:null===(s=c.catching)||void 0===s?void 0:s.level,null==e?void 0:null===(v=e.skillsInfo)||void 0===v?void 0:null===(u=v.trapping)||void 0===u?void 0:u.level,null==e?void 0:null===(p=e.skillsInfo)||void 0===p?void 0:null===(h=p.worship)||void 0===h?void 0:h.level];return null==x?void 0:x.reduce((e,n,l)=>{let i=null==g?void 0:g[l],t=null==m?void 0:m[l],o=null==t?void 0:t.findLast(e=>{let{lvReqToEquip:n}=e;return i>=n});return o&&(null==o?void 0:o.displayName)!==(null==n?void 0:n.name)&&e.push(o),e},[])};var O=l(74721),W=l(94217),M=l(82557),D=l(14581),P=l(30176);function N(){let e=(0,c._)(["\n  width: 30px;\n  height: 30px;\n  object-fit: contain;\n"]);return N=function(){return e},e}let U={anvil:(e,n,l,i,t)=>{var o,d,r,a,s,c,u,v,h,p;let m={};if(null==t?void 0:null===(d=t.anvil)||void 0===d?void 0:null===(o=d.missingHammers)||void 0===o?void 0:o.checked){let i=null==l?void 0:null===(u=l.equippedBubbles)||void 0===u?void 0:u.find(e=>{let{bubbleName:n}=e;return"HAMMER_HAMMER"===n}),{production:t}=(0,y.eW)(null==n?void 0:n[null==l?void 0:l.playerId],n,e),o=null==t?void 0:t.filter(e=>{let{hammers:n}=e;return n>0}),d=null==o?void 0:o.reduce((e,n)=>{let{hammers:l}=n;return e+l},0);m.missingHamemrs=(i?3:2)-d}if((null==t?void 0:null===(a=t.anvil)||void 0===a?void 0:null===(r=a.unspentPoints)||void 0===r?void 0:r.checked)&&(m.unspentPoints=null==l?void 0:null===(h=l.anvil)||void 0===h?void 0:null===(v=h.anvilStats)||void 0===v?void 0:v.availablePoints),null==t?void 0:null===(c=t.anvil)||void 0===c?void 0:null===(s=c.anvilOverdue)||void 0===s?void 0:s.checked){let{anvil:i}=t||{},{stats:o,production:d}=(0,y.eW)(null==n?void 0:n[null==l?void 0:l.playerId],n,e),r=null==d?void 0:null===(p=d.filter(e=>{let{hammers:n}=e;return n>0}))||void 0===p?void 0:p.map(e=>{var n;let i=1e3*(0,y.MH)({...e,stats:o,afkTime:null==l?void 0:l.afkTime});return{date:new Date().getTime()+i,name:null===Z.items||void 0===Z.items?void 0:null===(n=Z.items[null==e?void 0:e.rawName])||void 0===n?void 0:n.displayName,rawName:null==e?void 0:e.rawName}});m.anvilOverdue=null==r?void 0:r.map(e=>{let{date:n,name:l,rawName:i}=e,t=new Date(n-1);return{diff:(0,g.Z)(t,new Date),name:l,rawName:i}}).filter(e=>{let{diff:n}=e;return(null==i?void 0:i.showAlertBeforeFull)?n<=60:n<=0})}return m},worship:(e,n,l,i,t)=>{var o,d,r,a,s,c,u,v,h;let p={};if(!(null==e?void 0:null===(o=e.finishedWorlds)||void 0===o?void 0:o.World2))return p;if(null==t?void 0:null===(r=t.worship)||void 0===r?void 0:null===(d=r.unendingEnergy)||void 0===d?void 0:d.checked){let e=new Date().getTime()+((null==l?void 0:l.afkTime)-i);if((0,g.Z)(new Date,new Date(e))>=5){let n=null==l?void 0:null===(c=l.activePrayers)||void 0===c?void 0:c.find(e=>{let{name:n}=e;return"Unending_Energy"===n}),i=(0,j.Z)(new Date,new Date(e));p.unendingEnergy=n&&i>10}}if(null==t?void 0:null===(s=t.worship)||void 0===s?void 0:null===(a=s.chargeOverdue)||void 0===a?void 0:a.checked){let e=5*(null==l?void 0:null===(u=l.worship)||void 0===u?void 0:u.maxCharge)/100;p.chargeOverdue=(null==l?void 0:null===(v=l.worship)||void 0===v?void 0:v.currentCharge)>=(null==l?void 0:null===(h=l.worship)||void 0===h?void 0:h.maxCharge)-e}return p},traps:(e,n,l,i,t)=>{var o,d,r,a,s,c,u,v,h,p,m,x,g,j,k,Z,w;let y={};if(!(null==e?void 0:null===(o=e.finishedWorlds)||void 0===o?void 0:o.World2))return y;if(null==t?void 0:null===(r=t.traps)||void 0===r?void 0:null===(d=r.missingTraps)||void 0===d?void 0:d.checked){let n=null==e?void 0:null===(c=e.traps)||void 0===c?void 0:c[null==l?void 0:l.playerId],i=(null==l?void 0:null===(v=l.tools)||void 0===v?void 0:null===(u=v[4])||void 0===u?void 0:u.rawName)!=="Blank"?null==l?void 0:null===(h=l.tools)||void 0===h?void 0:h[4]:null,t=null==e?void 0:null===(g=e.alchemy)||void 0===g?void 0:null===(x=g.bubbles)||void 0===x?void 0:null===(m=x.quicc)||void 0===m?void 0:null===(p=m.find(e=>{let{bubbleName:n}=e;return"CALL_ME_ASH"===n}))||void 0===p?void 0:p.level,o=i?parseInt(null!==(Z=null==i?void 0:null===(k=i.rawName)||void 0===k?void 0:k.charAt((null==i?void 0:null===(j=i.rawName)||void 0===j?void 0:j.length)-1))&&void 0!==Z?Z:0)+(t>0?1:0):null==n?void 0:n.length;y.missingTraps=(null==n?void 0:n.length)<Math.min(o,8)}return(null==t?void 0:null===(s=t.traps)||void 0===s?void 0:null===(a=s.trapsOverdue)||void 0===a?void 0:a.checked)&&(y.trapsOverdue=null==e?void 0:null===(w=e.traps)||void 0===w?void 0:w[null==l?void 0:l.playerId].some(e=>(0,f.Z)(null==e?void 0:e.timeLeft))),y},alchemy:(e,n,l,i,t)=>{var o,d,r,a;let s={};if(null==t?void 0:null===(d=t.alchemy)||void 0===d?void 0:null===(o=d.bubbles)||void 0===o?void 0:o.checked){let n=null==e?void 0:null===(r=e.accountOptions)||void 0===r?void 0:r[89],i=null===Z.randomList||void 0===Z.randomList?void 0:Z.randomList[53],t=(0,w.bV)(n,i,11);s.missingBubbles=(null==l?void 0:null===(a=l.equippedBubbles)||void 0===a?void 0:a.length)<(t?3:2)}return s},obols:(e,n,l,i,t)=>{var o,d,r,a,s;let c={};return(null==e?void 0:null===(o=e.finishedWorlds)||void 0===o?void 0:o.World1)&&(null==t?void 0:null===(r=t.obols)||void 0===r?void 0:null===(d=r.missingObols)||void 0===d?void 0:d.checked)&&(c.missingObols=null==l?void 0:null===(s=l.obols)||void 0===s?void 0:null===(a=s.list)||void 0===a?void 0:a.filter(e=>{let{rawName:n}=e;return"Blank"===n})),c},postOffice:(e,n,l,i,t)=>{var o,d,r,a,s,c,u;let v={};if(!(null==e?void 0:null===(o=e.finishedWorlds)||void 0===o?void 0:o.World1))return v;if(null==t?void 0:null===(r=t.postOffice)||void 0===r?void 0:null===(d=r.unspentPoints)||void 0===d?void 0:d.checked){let e=parseInt(null==t?void 0:null===(c=t.postOffice)||void 0===c?void 0:null===(s=c.unspentPoints)||void 0===s?void 0:null===(a=s.props)||void 0===a?void 0:a.value);v.unspentPoints=(null==l?void 0:null===(u=l.postOffice)||void 0===u?void 0:u.unspentPoints)>(null!=e?e:0)&&(null==l?void 0:l.postOffice.boxes.some(e=>{let{level:n,maxLevel:l}=e;return n<l}))}return v},starSigns:(e,n,l,i,t)=>{var o,d,r,a;let s={};if(null==t?void 0:null===(d=t.starSigns)||void 0===d?void 0:null===(o=d.missingStarSigns)||void 0===o?void 0:o.checked){let n=null==e?void 0:null===(r=e.starSigns)||void 0===r?void 0:r.reduce((e,n)=>{let{starName:l,unlocked:i}=n;return l.includes("Chronus_Cosmos")&&i?e<2?2:e:l.includes("Hydron_Cosmos")&&i&&e<3?3:e},1);s.missingStarSigns=n-(null==l?void 0:null===(a=l.starSigns)||void 0===a?void 0:a.length)}return s},crystalCountdown:(e,n,l,i,t)=>I(l,t),tools:(e,n,l,i,t)=>T(l,e),talents:(e,n,l,i,t)=>S(l,t),cards:(e,n,l,i,t)=>{var o,d,r,a;let s={};return(null==t?void 0:null===(d=t.cards)||void 0===d?void 0:null===(o=d.cardSet)||void 0===o?void 0:o.checked)&&(s.cardSet=(null==l?void 0:l.level)>=50&&(null==l?void 0:null===(a=l.cards)||void 0===a?void 0:null===(r=a.cardSet)||void 0===r?void 0:r.rawName)==="CardSet0"),s}},_=e=>{let{title:n,iconPath:l,style:t={}}=e;return(0,i.jsx)(x.Z,{title:n,children:(0,i.jsx)(L,{style:t,src:"".concat(p.prefix).concat(l,".png"),alt:""})})},B=e=>{var n,l,o;let{account:d,characters:s,character:c,lastUpdated:u}=e,{name:v,stats:m,afkTime:x,crystalSpawnChance:j,nonConsumeChance:f}=c||{},{cashMulti:k}=(0,t.useMemo)(()=>(0,D.bv)(c,d,s)||{},[c,d]),{dropRate:Z}=(0,t.useMemo)(()=>(0,D.VK)(c,d,s)||{},[c,d]),{respawnRate:w}=(0,t.useMemo)(()=>(0,D.P9)(c,d)||{},[c,d]),{afkGains:y}=(0,t.useMemo)(()=>(0,D.WU)(c,s,d),[c,d]),b=(0,t.useMemo)(()=>(0,P.m)(c,s,d),[c,d]);return(0,i.jsxs)(r.Z,{gap:1,children:[(0,i.jsx)(M.uQ,{title:v,value:"lv. ".concat((null==m?void 0:m.level)||0)}),(0,i.jsx)(M.uQ,{title:"Afk time",value:(()=>{let e=new Date().getTime()+(x-u);return 5>=(0,g.Z)(new Date,new Date(e))})()?(0,i.jsx)(a.Z,{children:"Active"}):(0,i.jsx)(W.Z,{type:"up",date:x,lastUpdated:u})}),(0,i.jsx)(h.Z,{flexItem:!0,sx:{background:"black"}}),(0,i.jsx)(M.uQ,{title:"Damage",value:null===(l=(0,P.C)(b))||void 0===l?void 0:null===(n=l.at(0))||void 0===n?void 0:n.replace(/\[/g,"M")}),(0,i.jsx)(M.uQ,{title:"Hp",value:(0,p.notateNumber)(null==b?void 0:b.maxHp)}),(0,i.jsx)(M.uQ,{title:"Mp",value:(0,p.notateNumber)(null==b?void 0:b.maxMp)}),(0,i.jsx)(M.uQ,{title:"Accuracy",value:(0,p.notateNumber)(null==b?void 0:b.accuracy)}),(0,i.jsx)(M.uQ,{title:"Movement Speed",value:(0,p.notateNumber)(null==b?void 0:b.movementSpeed)}),(0,i.jsx)(h.Z,{flexItem:!0,sx:{background:"black"}}),(0,i.jsx)(M.uQ,{title:"Cash multi",value:"".concat((0,p.notateNumber)(k),"%")}),(0,i.jsx)(M.uQ,{title:"Drop rate",value:"".concat((0,p.notateNumber)(Z,"MultiplierInfo"),"x")}),(0,i.jsx)(M.uQ,{title:"Respawn rate",value:"".concat((0,p.notateNumber)(w,"MultiplierInfo"),"%")}),(0,i.jsx)(M.uQ,{title:"Afk gains",value:"".concat((0,p.notateNumber)(100*y,"MultiplierInfo"),"%")}),(0,i.jsx)(M.uQ,{title:"Crystal Chance",value:1/(null==j?void 0:j.value)<100?"".concat(null===(o=(0,p.notateNumber)((null==j?void 0:j.value)*100,"MultiplierInfo"))||void 0===o?void 0:o.replace(".00",""),"%"):"1 in ".concat(Math.floor(1/(null==j?void 0:j.value)))}),(0,i.jsx)(M.uQ,{title:"Non consume chance",value:"".concat((0,p.kFormatter)(f,2),"%")})]})},L=m.Z.img(N());var R=e=>{let{characters:n=[],account:l,lastUpdated:t,trackers:o}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.Z,{gap:2,direction:"row",flexWrap:"wrap",children:null==n?void 0:n.map((e,d)=>{var c,m,j,f,k,Z,w,y,b,C,S,I,T,M,D,P,N,R,A,F,H,E,Q,V,q,z,G,Y,X,J;let{name:K,classIndex:$,afkTarget:ee,afkTime:en,postOffice:el}=e,ei=null===(c=Object.entries(o||{}))||void 0===c?void 0:c.reduce((e,n)=>{var l;let[i,t]=n,o=null==t?void 0:null===(l=t.options)||void 0===l?void 0:l.reduce((e,n)=>({...e,[null==n?void 0:n.name]:n}),{});return{...e,[i]:o}},{}),et=null===(m=Object.keys(ei))||void 0===m?void 0:m.reduce((i,o)=>{var d;return i[o]=(null==U?void 0:null===(d=U[o])||void 0===d?void 0:d.call(U,l,n,e,t,ei))||{},i},{}),eo=ee&&"_"!==ee?ee:"Nothing";return(0,i.jsx)(u.Z,{sx:{width:300},children:(0,i.jsxs)(v.Z,{children:[(0,i.jsxs)(r.Z,{direction:"row",alignItems:"center",gap:1,flexWrap:"wrap",children:[(0,i.jsx)(s.Z,{sx:{display:{sm:"none",md:"block"}},children:(0,i.jsx)("img",{src:"".concat(p.prefix,"data/ClassIcons").concat($,".png"),alt:""})}),(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.Z,{children:K}),(()=>{let e=new Date().getTime()+(en-t);return 5>=(0,g.Z)(new Date,new Date(e))})()?(0,i.jsx)(a.Z,{children:"Active"}):(0,i.jsx)(W.Z,{variant:"caption",type:"up",date:en,lastUpdated:t})]}),(0,i.jsxs)(r.Z,{direction:"row",alignItems:"center",gap:1,style:{marginLeft:"auto"},children:[(0,i.jsx)(x.Z,{title:(0,p.cleanUnderscore)(eo),children:(0,i.jsx)(L,{src:"".concat(p.prefix,"afk_targets/").concat(eo,".png"),alt:"activity icon"})}),(0,i.jsx)(x.Z,{title:(0,i.jsx)(B,{characters:n,account:l,character:e,lastUpdated:t}),children:(0,i.jsx)(O.Z,{})})]})]}),(0,i.jsx)(h.Z,{sx:{my:1}}),(0,i.jsxs)(r.Z,{direction:"row",gap:1,flexWrap:"wrap",children:[(null==o?void 0:o.worship)&&(null==et?void 0:null===(j=et.worship)||void 0===j?void 0:j.unendingEnergy)?(0,i.jsx)(_,{title:"".concat(K," has unending energy prayer and is afk for more than 10 hours"),iconPath:"data/Prayer2"}):null,(null==o?void 0:o.worship)&&(null==et?void 0:null===(f=et.worship)||void 0===f?void 0:f.chargeOverdue)?(0,i.jsx)(_,{title:"".concat(K," worship is full"),iconPath:"data/ClassIcons50"}):null,(null==o?void 0:o.traps)&&(null==et?void 0:null===(k=et.traps)||void 0===k?void 0:k.trapsOverdue)?(0,i.jsx)(_,{title:"".concat(K," traps are overdue"),iconPath:"data/TrapBoxSet1"}):null,(null==o?void 0:o.traps)&&(null==et?void 0:null===(Z=et.traps)||void 0===Z?void 0:Z.missingTraps)?(0,i.jsx)(_,{title:"".concat(K," is missing a trap"),iconPath:"data/ClassIcons48"}):null,(null==o?void 0:o.alchemy)&&(null==et?void 0:null===(w=et.alchemy)||void 0===w?void 0:w.missingBubbles)?(0,i.jsx)(_,{title:"".concat(K," is missing an active bubble"),iconPath:"data/aJarB0"}):null,(null==o?void 0:o.cards)&&(null==et?void 0:null===(y=et.cards)||void 0===y?void 0:y.cardSet)?(0,i.jsx)(_,{title:"".concat(K," has Blunder hill card set equipped which is for level < 50"),iconPath:"data/CardSet0"}):null,(null==o?void 0:o.obols)&&(null==et?void 0:null===(C=et.obols)||void 0===C?void 0:null===(b=C.missingObols)||void 0===b?void 0:b.length)>0?(0,i.jsx)(_,{title:"".concat(K," has ").concat(null==et?void 0:null===(I=et.obols)||void 0===I?void 0:null===(S=I.missingObols)||void 0===S?void 0:S.length," empty obol slots"),iconPath:"data/ObolLocked1"}):null,(null==o?void 0:o.postOffice)&&(null==et?void 0:null===(T=et.postOffice)||void 0===T?void 0:T.unspentPoints)?(0,i.jsx)(_,{title:"".concat(K," has ").concat(Math.floor(null==el?void 0:el.unspentPoints)," unspent points"),iconPath:"data/UIboxUpg0"}):null,(null==o?void 0:o.anvil)&&(null==et?void 0:null===(M=et.anvil)||void 0===M?void 0:M.missingHammers)>0?(0,i.jsx)(_,{title:"".concat(K," is missing ").concat(null==et?void 0:null===(D=et.anvil)||void 0===D?void 0:D.missingHammers," hammers"),iconPath:"data/GemP1"}):null,(null==o?void 0:o.anvil)&&(null==et?void 0:null===(P=et.anvil)||void 0===P?void 0:P.unspentPoints)>0?(0,i.jsx)(_,{title:"".concat(K," have ").concat(null==et?void 0:null===(N=et.anvil)||void 0===N?void 0:N.unspentPoints," unspent points anvil points"),iconPath:"data/ClassIcons43"}):null,(null==o?void 0:o.anvil)&&(null==et?void 0:null===(A=et.anvil)||void 0===A?void 0:null===(R=A.anvilOverdue)||void 0===R?void 0:R.length)>0?null==et?void 0:null===(H=et.anvil)||void 0===H?void 0:null===(F=H.anvilOverdue)||void 0===F?void 0:F.map(e=>{let{diff:n,name:l,rawName:t}=e;return(0,i.jsx)(_,{title:"".concat((0,p.cleanUnderscore)(l)," ").concat(n<=0?"production is full":"is ".concat(n," minutes away from being full")),iconPath:"data/".concat(t)},"".concat(l,"-").concat(d))}):null,(null==o?void 0:o.starSigns)&&(null==et?void 0:null===(E=et.starSigns)||void 0===E?void 0:E.missingStarSigns)>0?(0,i.jsx)(_,{title:"".concat(K," is missing ").concat(null==et?void 0:null===(Q=et.starSigns)||void 0===Q?void 0:Q.missingStarSigns," star signs"),iconPath:"data/SignStar1b"}):null,(null==o?void 0:o.talents)&&(null==et?void 0:null===(V=et.talents)||void 0===V?void 0:V.length)>0?null==et?void 0:null===(q=et.talents)||void 0===q?void 0:q.map((e,n)=>{let{name:l,skillIndex:o,cooldown:d}=e;return(0,i.jsx)(_,{style:{opacity:d>0?.5:1},title:d>0?(0,i.jsx)(W.Z,{type:"countdown",date:d,lastUpdated:t}):"".concat((0,p.cleanUnderscore)((0,p.pascalCase)(l))," is ready"),iconPath:"data/UISkillIcon".concat(o)},o+"-"+n)}):null,(null==o?void 0:null===(z=o.tools)||void 0===z?void 0:z.checked)&&(null==et?void 0:null===(G=et.tools)||void 0===G?void 0:G.length)>0?null==et?void 0:null===(Y=et.tools)||void 0===Y?void 0:Y.map((n,l)=>{let{rawName:t,displayName:o}=n;return(0,i.jsx)(_,{title:"".concat(null==e?void 0:e.name," can equip ").concat((0,p.cleanUnderscore)((0,p.pascalCase)(o))),iconPath:"data/".concat(t)},"".concat(null==e?void 0:e.name,"-").concat(t,"-").concat(l))}):null,(null==o?void 0:o.crystalCountdown)&&(null==et?void 0:null===(X=et.crystalCountdown)||void 0===X?void 0:X.length)>0?null==et?void 0:null===(J=et.crystalCountdown)||void 0===J?void 0:J.map((e,n)=>{let{name:l,icon:t,reduction:o,crystalCountdown:r}=e,{showMaxed:a,showNonMaxed:s}=(null==ei?void 0:ei.crystalCountdown)||{};a=null==a?void 0:a.checked,s=null==s?void 0:s.checked;let c=r>0&&o>=r;return(a||!c)&&(s||!a||c)&&(s||a)?(0,i.jsx)(_,{style:{border:"1px solid",borderColor:c?"#66bb6a":o>0?"#d1921e":"",borderRadius:5,opacity:c||o>0?1:.5},title:"Crystal CD for ".concat((0,p.cleanUnderscore)((0,p.pascalCase)(l))," is ").concat(c?"maxed":""," ").concat((0,p.notateNumber)(o,"MultiplierInfo"),"% ").concat(c?"":"(Max: ".concat((0,p.notateNumber)(r,"MultiplierInfo"),")")),iconPath:"data/".concat(t)},t+"-"+n+"-"+d):null}):null]})]})},K)})})})},A=l(24579),F=l(94229),H=l(93946),E=e=>{let{libraryTimes:n,lastUpdated:l}=e,{bookCount:o,next:d,breakpoints:s}=n||{},c=new Date().getTime()+1e3*d,u=(0,p.getRealDateInMs)(c);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,i.jsx)("img",{src:"".concat(p.prefix,"data/Libz.png"),alt:""}),(0,i.jsx)(a.Z,{sx:{fontWeight:"bold",fontSize:18},children:"Library"})]}),(0,i.jsxs)("h4",{children:["Book count: ",o]}),(0,i.jsxs)(r.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,i.jsx)(a.Z,{sx:{width:130},children:"Next book in: "})," ",d>0?(0,i.jsx)(x.Z,{title:"End date: "+u,children:(0,i.jsx)(W.Z,{type:"countdown",lastUpdated:l,date:c})}):(0,i.jsx)(a.Z,{variant:"caption",children:"Wait for game update"})]}),null==s?void 0:s.map((e,n)=>{let{breakpoint:o,time:d}=e,s=new Date().getTime()+1e3*d;return s=(0,p.getRealDateInMs)(s),d>0?(0,i.jsxs)(t.Fragment,{children:[(0,i.jsx)(h.Z,{sx:{my:1}}),(0,i.jsxs)(r.Z,{direction:"row",gap:1,children:[(0,i.jsxs)(a.Z,{sx:{width:130},children:[0===o?"0 to 20":o," books in: "]})," ",d>0?(0,i.jsx)(x.Z,{title:"End date: "+s,children:(0,i.jsx)(W.Z,{type:"countdown",lastUpdated:l,staticTime:0===o,date:new Date().getTime()+1e3*d})}):(0,i.jsx)(a.Z,{variant:"caption",children:"Wait for game update"})]})]},"book-timer"+n):null})]})},Q=l(23795),V=l(48079),q=l(32705),z=l(15984),G=l(55166),Y=l(15719),X=l(17844),J=l(81426);function K(){let e=(0,c._)(["\n  width: 35px;\n  height: 35px;\n  object-fit: contain;\n"]);return K=function(){return e},e}let $=m.Z.img(K()),ee=e=>{let{tooltipContent:n,icon:l,lastUpdated:t,time:o,timerPlaceholder:d="",forcePlaceholder:s}=e;return(0,i.jsx)(u.Z,{sx:{height:"fit-content"},children:(0,i.jsx)(v.Z,{children:(0,i.jsx)(x.Z,{title:n,children:(0,i.jsxs)(r.Z,{direction:"row",gap:1,alignItems:"center",children:[(0,i.jsx)($,{src:"".concat(p.prefix).concat(l)}),s?(0,i.jsx)(a.Z,{color:"error.light",children:d}):(0,i.jsx)(W.Z,{type:"countdown",date:o,placeholder:d,lastUpdated:t})]})})})})};var en=e=>{var n,l,o,d,s,c,h,m,g,j,f,k,Z,y,b,C,S,I;let{characters:T,account:O,lastUpdated:W}=e,M=(0,w.ai)(null==T?void 0:T[0],O),D=(0,t.useMemo)(()=>(0,w.KB)(O),[T,O,W]),P=(0,t.useMemo)(()=>{var e;return(0,z.IS)(null==O?void 0:null===(e=O.serverVars)||void 0===e?void 0:e.HappyHours)||[]},[O]),N=new Date().getTime()+(3600-((null==O?void 0:null===(n=O.timeAway)||void 0===n?void 0:n.GlobalTime)-(null==O?void 0:null===(l=O.timeAway)||void 0===l?void 0:l.Printer)))*1e3,U=new Date().getTime()+Math.max(0,594e6-(1e3*(null==O?void 0:null===(o=O.timeAway)||void 0===o?void 0:o.GlobalTime)-(null==O?void 0:null===(d=O.companions)||void 0===d?void 0:d.lastFreeClaim))),_=(0,X._m)(O,"Nitrogen_-_Construction_Trimmer"),B=null==O?void 0:null===(c=O.towers)||void 0===c?void 0:null===(s=c.data)||void 0===s?void 0:s.reduce((e,n)=>{var l,i,t,o,d,r;let a;let s=(null==O?void 0:null===(i=O.lab.jewels)||void 0===i?void 0:null===(l=i.slice(3,7))||void 0===l?void 0:l.every(e=>{let{active:n}=e;return n}))?1:0,c=(null==O?void 0:null===(o=O.lab.jewels)||void 0===o?void 0:null===(t=o[3])||void 0===t?void 0:t.active)?1+s:0,u=(null==n?void 0:n.slot)!==-1&&(null==n?void 0:n.slot)<c+(_?1:0),v=(0,G.ZX)(null==O?void 0:O.towers,null==n?void 0:n.level,null==n?void 0:n.bonusInc,null==n?void 0:n.index);if(u){let e=(3+_/100)*(null==O?void 0:null===(d=O.construction)||void 0===d?void 0:d.totalBuildRate);a=(v-(null==n?void 0:n.progress))/e*36e5}else a=(v-(null==n?void 0:n.progress))/(null==O?void 0:null===(r=O.construction)||void 0===r?void 0:r.totalBuildRate)*36e5;return(null==n?void 0:n.inProgress)&&((null==e?void 0:e.timeLeft)===0||a<(null==e?void 0:e.timeLeft))?{timeLeft:a,icon:"ConTower".concat(null==n?void 0:n.index)}:e},{timeLeft:0,icon:""}),L=null==O?void 0:null===(h=O.traps)||void 0===h?void 0:h.reduce((e,n)=>{let l=null==n?void 0:n.map(e=>{let{timeLeft:n}=e;return n});if(0===l.length)return e;let i=Math.min(...l);return 0===e||i<e?i:e},0),R=(0,Y.kV)(T),{bestWizard:A,bestChargeSyphon:F,timeToOverCharge:H}=(0,t.useMemo)(()=>(0,Y.Qq)(T),[T]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.Z,{direction:"row",flexWrap:"wrap",gap:2,children:[(0,i.jsxs)(J.Z,{sx:{width:360},container:!0,spacing:1,children:[(0,i.jsx)(J.Z,{xs:6,children:(null==O?void 0:null===(m=O.finishedWorlds)||void 0===m?void 0:m.World2)?(0,i.jsx)(ee,{tooltipContent:"Next printer cycle: "+(0,p.getRealDateInMs)(N),lastUpdated:W,time:N,icon:"data/ConTower0.png"}):null}),(0,i.jsx)(J.Z,{xs:6,children:(null==O?void 0:null===(g=O.finishedWorlds)||void 0===g?void 0:g.World2)&&0!==L?(0,i.jsx)(ee,{tooltipContent:"Closest trap: "+(0,p.getRealDateInMs)(L),lastUpdated:W,time:L,icon:"data/TrapBoxSet1.png"}):null}),(0,i.jsx)(J.Z,{xs:6,children:(null==O?void 0:null===(j=O.finishedWorlds)||void 0===j?void 0:j.World2)&&(null==B?void 0:B.timeLeft)!==0?(0,i.jsx)(ee,{tooltipContent:"Closest building: "+(0,p.getRealDateInMs)(new Date().getTime()+(null==B?void 0:B.timeLeft)),lastUpdated:W,time:new Date().getTime()+(null==B?void 0:B.timeLeft),icon:"data/".concat(null==B?void 0:B.icon,".png")}):null}),(0,i.jsx)(J.Z,{xs:6,children:(null==O?void 0:null===(f=O.finishedWorlds)||void 0===f?void 0:f.World2)&&(null==R?void 0:R.timeLeft)!==0?(0,i.jsx)(ee,{tooltipContent:"Closest full worship - ".concat(null==R?void 0:R.character,": ")+(0,p.getRealDateInMs)(new Date().getTime()+(null==R?void 0:R.timeLeft)),timerPlaceholder:"Full!",forcePlaceholder:!isFinite(null==R?void 0:R.timeLeft),lastUpdated:W,time:new Date().getTime()+(null==R?void 0:R.timeLeft),icon:"data/WorshipSkull3.png"}):null}),(0,i.jsx)(J.Z,{xs:6,children:(0,i.jsx)(ee,{tooltipContent:"Next companion claim: "+(0,p.getRealDateInMs)(U),lastUpdated:W,time:U,icon:"afk_targets/Dog.png",timerPlaceholder:"Go claim!"})}),(0,i.jsx)(J.Z,{xs:6,children:(null==P?void 0:P.length)>0?(0,i.jsx)(ee,{tooltipContent:"Next happy hour: "+(0,p.getRealDateInMs)(null==P?void 0:P[0]),lastUpdated:W,time:null==P?void 0:P[0],icon:"etc/Happy_Hour.png",timerPlaceholder:"Go claim!"}):null}),(0,i.jsx)(J.Z,{xs:6,children:(null==O?void 0:null===(k=O.finishedWorlds)||void 0===k?void 0:k.World2)?(0,i.jsx)(ee,{tooltipContent:"Overflow syphon Charge (".concat((null==A?void 0:null===(Z=A.worship)||void 0===Z?void 0:Z.maxCharge)+F,"): ")+(0,p.getRealDateInMs)(H),lastUpdated:W,time:H,icon:"data/UISkillIcon475.png",timerPlaceholder:"Overflowing charge"}):null}),(0,i.jsx)(J.Z,{xs:6,children:(null==O?void 0:null===(y=O.finishedWorlds)||void 0===y?void 0:y.World2)?(0,i.jsx)(u.Z,{sx:{width:"100%",height:"fit-content"},children:(0,i.jsx)(v.Z,{children:(0,i.jsx)(r.Z,{direction:"row",alignItems:"center",gap:2,children:(0,i.jsx)(x.Z,{title:(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.Z,{sx:{fontWeight:"bold"},children:"Giant Mob Chance"}),(0,i.jsxs)(a.Z,{children:["+",null==M?void 0:M.crescentShrineBonus,"% from Crescent shrine"]}),(0,i.jsxs)(a.Z,{children:["+",null==M?void 0:M.giantMobVial,"% from Shaved Ice vial"]}),(null==M?void 0:M.glitterbugPrayer)>0?(0,i.jsxs)(a.Z,{children:["-",null==M?void 0:M.glitterbugPrayer,"% from Glitterbug prayer"]}):null]}),children:(0,i.jsxs)(r.Z,{gap:1,direction:"row",alignItems:"center",children:[(0,i.jsx)($,{src:"".concat(p.prefix,"data/Prayer5.png")}),(0,i.jsxs)(a.Z,{children:["1 in ",(0,p.notateNumber)(Math.floor(1/(null==M?void 0:M.chance)))]})]})})})})}):null})]}),(0,i.jsxs)(r.Z,{gap:1,sx:{width:250},children:[(null==D?void 0:D.length)>0?(0,i.jsx)(u.Z,{sx:{width:"100%",height:"fit-content"},children:(0,i.jsx)(v.Z,{children:(0,i.jsxs)(r.Z,{gap:2,children:[(0,i.jsx)(q.Z,{...null==D?void 0:D[0]}),(0,i.jsx)(Q.Z,{underline:"none",href:"https://idleontoolbox.com/account/misc/random-events",children:"See more..."})]})})}):null,(null==O?void 0:null===(b=O.finishedWorlds)||void 0===b?void 0:b.World4)?(0,i.jsx)(u.Z,{sx:{width:"100%",height:"fit-content"},children:(0,i.jsx)(v.Z,{children:(0,i.jsxs)(r.Z,{gap:2,children:[(0,i.jsx)(V.Z,{...null==O?void 0:null===(S=O.sailing)||void 0===S?void 0:null===(C=S.trades)||void 0===C?void 0:C[0]}),(0,i.jsx)(Q.Z,{underline:"none",href:"https://idleontoolbox.com/account/world-5/sailing",children:"See more..."})]})})}):null]}),(null==O?void 0:null===(I=O.finishedWorlds)||void 0===I?void 0:I.World2)?(0,i.jsx)(u.Z,{sx:{width:"fit-content",height:"fit-content"},children:(0,i.jsx)(v.Z,{children:(0,i.jsx)(E,{libraryTimes:null==O?void 0:O.libraryTimes,lastUpdated:W})})}):null]})})},el=l(2962),ei=l(32225),et=l(13250),eo=l(50657),ed=l(37645),er=l(6514),ea=l(50480),es=l(69368),ec=l(57922),eu=l(50135),ev=l(87109),eh=l(50594),ep=l(29217),em=l(45111),ex=l(33458);let eg=e=>{var n;let{config:l,onChange:o,configType:d}=e,[a,c]=(0,t.useState)(null),u=e=>{c(a===e?null:e)};return l&&(null===(n=Object.entries(l))||void 0===n?void 0:n.map((e,n)=>{var l,t;let[c,v]=e;return(0,i.jsxs)(s.Z,{children:[(0,i.jsxs)(r.Z,{direction:"row",justifyContent:"space-between",children:[(0,i.jsx)(ea.Z,{control:(0,i.jsx)(es.Z,{name:c,checked:null==v?void 0:v.checked,size:"small"}),onChange:e=>o(e,d),label:null==c?void 0:c.camelToTitleCase()}),(null==v?void 0:null===(l=v.options)||void 0===l?void 0:l.length)>0?(0,i.jsx)(H.Z,{size:"small",onClick:()=>u(c),children:a===c?(0,i.jsx)(ep.Z,{}):(0,i.jsx)(em.Z,{})}):null]}),(0,i.jsx)(ec.Z,{in:a===c,unmountOnExit:!0,children:(0,i.jsx)(r.Z,{sx:{ml:3,mr:3},children:null==v?void 0:null===(t=v.options)||void 0===t?void 0:t.map((e,n)=>(0,i.jsx)(ej,{trackerName:c,option:{...e,optionIndex:n},configType:d,onChange:o},"".concat(null==e?void 0:e.name,"-").concat(n)))})})]},"tracker-".concat(c,"-").concat(n))}))},ej=e=>{var n,l;let{option:t,trackerName:o,onChange:d,configType:s}=e,{type:c,props:u}=t||{};return(0,i.jsxs)(i.Fragment,{children:[(null==t?void 0:t.category)?(0,i.jsx)(a.Z,{variant:"caption",children:null==t?void 0:null===(n=t.category)||void 0===n?void 0:n.camelToTitleCase()}):null,(0,i.jsxs)(r.Z,{direction:"row",children:["array"!==c?(0,i.jsx)(ea.Z,{sx:{minWidth:(null==u?void 0:u.type)==="img"?"inherit":100},control:(0,i.jsx)(es.Z,{name:null==t?void 0:t.name,checked:null==t?void 0:t.checked,size:"small"}),onChange:e=>d(e,s,t,o),label:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Z,{children:null==t?void 0:null===(l=t.name)||void 0===l?void 0:l.camelToTitleCase()})})}):null,"input"===c?(0,i.jsx)(ek,{option:t,trackerName:o,configType:s,onChange:d}):null,"array"===c?(0,i.jsx)(ef,{option:t,configType:s,onChange:d}):null]})]})},ef=e=>{var n;let{option:l,onChange:t,configType:o}=e,{value:d,type:a}=null==l?void 0:l.props;return(0,i.jsx)(r.Z,{direction:"row",flexWrap:"wrap",children:null===(n=Object.keys(d))||void 0===n?void 0:n.map((e,n)=>(0,i.jsx)(ea.Z,{onChange:e=>t(e,o,l),control:(0,i.jsx)(es.Z,{name:e,checked:null==d?void 0:d[e],size:"small"}),label:"img"===a?(0,i.jsx)("img",{width:24,height:24,src:"".concat(p.prefix,"data/").concat(e,".png"),alt:""}):e.camelToTitleCase()},"".concat(e,"-").concat(n)))})},ek=e=>{let{option:n,onChange:l,configType:t,name:o,trackerName:d}=e,{label:r,value:a,helperText:s="",maxValue:c,minValue:u=0,endAdornment:v=""}=null==n?void 0:n.props;return(0,i.jsx)(eu.Z,{size:"small",label:r.capitalize(),type:"number",sx:{mt:1,width:150},name:o,value:a,InputProps:{endAdornment:v?(0,i.jsx)(ev.Z,{position:"end",children:v}):null,inputProps:{max:c,min:u,autoComplete:"off"}},onChange:e=>l(e,t,{...n,inputVal:!0},d),helperText:s})};var eZ=e=>{let{open:n,onClose:l,config:t,onChange:o}=e,d=(e,n,l,i)=>{var d,r,a,s,c;let u=JSON.parse(JSON.stringify(t)),v=null==e?void 0:null===(d=e.target)||void 0===d?void 0:d.name;if((null==l?void 0:l.type)==="array"){let e=u[n][null==l?void 0:l.name].options[null==l?void 0:l.optionIndex].props.value[v];u[n][null==l?void 0:l.name].options[null==l?void 0:l.optionIndex].props.value[v]=!e}else if((null==l?void 0:l.type)==="input"){if(null==l?void 0:l.inputVal)u[n][i].options[null==l?void 0:l.optionIndex].props.value=null==e?void 0:null===(r=e.target)||void 0===r?void 0:r.value;else{let e=null===(a=u[n][i].options[null==l?void 0:l.optionIndex])||void 0===a?void 0:a.checked;u[n][i].options[null==l?void 0:l.optionIndex].checked=!e}}else if(l){let e=null===(s=u[n][i].options[null==l?void 0:l.optionIndex])||void 0===s?void 0:s.checked;u[n][i].options[null==l?void 0:l.optionIndex].checked=!e}else{let e=null===(c=u[n][v])||void 0===c?void 0:c.checked;u[n][v].checked=!e,u[n][v].options=u[n][v].options.map(n=>{if((null==n?void 0:n.type)==="array"){var l;let i=null===(l=Object.entries(n.props.value))||void 0===l?void 0:l.reduce((n,l)=>{let[i]=l;return{...n,[i]:!e}},{});return{...n,checked:!e,props:{...(null==n?void 0:n.props)||{},value:i}}}return{...n,checked:!e}})}o(u)};return(0,i.jsxs)(eo.Z,{open:n,onClose:l,fullWidth:!0,children:[(0,i.jsxs)(ed.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Dashboard configurations",(0,i.jsx)(H.Z,{onClick:l,children:(0,i.jsx)(eh.Z,{})})]}),(0,i.jsx)(er.Z,{children:(0,i.jsxs)(ex.Z,{tabs:["Account","Character"],children:[(0,i.jsx)(s.Z,{children:(0,i.jsx)(eg,{config:null==t?void 0:t.account,configType:"account",onChange:d})}),(0,i.jsx)(s.Z,{children:(0,i.jsx)(eg,{config:null==t?void 0:t.characters,configType:"characters",onChange:d})})]})})]})},ew=l(56365);let ey={account:{tasks:{checked:!0,options:[{name:"tasks",type:"array",category:"Worlds",props:{value:[1,2,3,4,5].toSimpleObject()},checked:!0}]},atomCollider:{checked:!0,options:[{name:"stampReducer",type:"input",props:{label:"Threshold",value:90,maxValue:90,minValue:0,endAdornment:"%"},checked:!0}]},arcade:{checked:!0,options:[{name:"balls",checked:!0}]},alchemy:{checked:!0,options:[{name:"bargainTag",checked:!0},{name:"sigils",checked:!0},{name:"liquids",category:"liquids",type:"input",props:{label:"Liquid percent",value:90,maxValue:100,minValue:0},checked:!0},{name:"vials",category:"vials",checked:!0},{name:"subtractGreenStacks",checked:!0}]},cooking:{checked:!0,options:[{name:"spices",checked:!0}]},gaming:{checked:!0,options:[{name:"sprouts",checked:!0},{name:"squirrel",type:"input",props:{label:"Hours threshold",value:1,minValue:1},checked:!0},{name:"shovel",type:"input",props:{label:"Hours threshold",value:1,minValue:1},checked:!0}]},guild:{checked:!0,options:[{name:"daily",checked:!0},{name:"weekly",checked:!0}]},sailing:{checked:!0,options:[{name:"captains",checked:!0},{name:"chests",checked:!0}]},breeding:{checked:!0,options:[{name:"eggs",checked:!0},{name:"shinies",type:"input",props:{label:"Level threshold",value:5},checked:!0}]},printer:{checked:!0,options:[{name:"includeOakAndCopper",category:"atoms",checked:!1},{name:"showAlertWhenFull",checked:!1}]},shops:{checked:!0,options:[{name:"shops",type:"array",props:{value:(0,ei.gN)(),type:"img"},checked:!0}]},construction:{checked:!0,options:[{name:"flags",checked:!0},{name:"buildings",checked:!0},{name:"materials",category:"refinery",checked:!0},{name:"rankUp",checked:!0}]},postOffice:{checked:!0,options:[{name:"postOffice",type:"array",category:"shipments streak",props:{value:[1,2,3,4,5,6].toSimpleObject()},checked:!0}]},equinox:{checked:!0,options:[{name:"bar",checked:!0},{name:"challenges",checked:!0},{name:"foodLust",checked:!0}]},materialTracker:{checked:!0,options:[{name:"applyThresholdFromAbove",checked:!1},{name:"applyThresholdFromBelow",checked:!0}]},etc:{checked:!0,options:[{name:"dungeonTraits",checked:!0},{name:"randomEvents",checked:!0},{name:"gildedStamps",checked:!0},{name:"keys",checked:!0},{name:"miniBosses",type:"input",props:{label:"Bosses threshold",value:1,minValue:1},checked:!0},{name:"weeklyBosses",checked:!0},{name:"killRoy",checked:!0}]}},characters:{cards:{checked:!0,options:[{name:"cardSet",checked:!0}]},anvil:{checked:!0,options:[{name:"unspentPoints",checked:!0},{name:"missingHammers",checked:!0},{name:"anvilOverdue",checked:!0},{name:"showAlertBeforeFull",checked:!0,category:"anvil overdue"}]},worship:{checked:!0,options:[{name:"unendingEnergy",checked:!0},{name:"chargeOverdue",checked:!0}]},traps:{checked:!0,options:[{name:"missingTraps",checked:!0},{name:"trapsOverdue",checked:!0}]},alchemy:{checked:!0,options:[{name:"missingBubbles",checked:!0}]},obols:{checked:!0,options:[{name:"missingObols",checked:!0}]},postOffice:{checked:!0,options:[{name:"unspentPoints",checked:!0,type:"input",props:{label:"Number of boxes",value:1}}]},starSigns:{checked:!0,options:[{name:"missingStarSigns",checked:!0}]},crystalCountdown:{checked:!0,options:[{name:"showMaxed",checked:!0},{name:"showNonMaxed",checked:!1}]},tools:{checked:!0,options:[]},talents:{checked:!0,options:[{name:"talents",type:"array",category:"cooldowns",checked:!0,props:{value:{printerGoBrrr:!0,refineryThrottle:!0,craniumCooking:!0,"itsYourBirthday!":!0,voidTrialRerun:!0,arenaSpirit:!0,tasteTest:!0}}},{category:"Misc",name:"alwaysShowTalents",checked:!1}]}}};var eb=()=>{var e,n,l;let{dispatch:c,state:u}=(0,t.useContext)(o.I),{characters:v,account:h,lastUpdated:m}=u,[x,g]=(0,t.useState)(!1),[j,f]=(0,t.useState)(ey),k=(0,d.Z)("(min-width: 1600px)",{noSsr:!0}),Z=(0,d.Z)("(min-width: 850px)",{noSsr:!0}),w=new Date().getTime()+(null==h?void 0:null===(e=h.timeAway)||void 0===e?void 0:e.ShopRestock)*1e3,y=new Date().getTime()+((null==h?void 0:null===(n=h.timeAway)||void 0===n?void 0:n.ShopRestock)+86400*(null==h?void 0:null===(l=h.accountOptions)||void 0===l?void 0:l[39]))*1e3;return(0,t.useEffect)(()=>{var e,n,l,i,t,o;let d=null==u||null===(e=u.trackers)||void 0===e||!e.account||Object.keys(null==ey?void 0:ey.account).length!==Object.keys(null==u?void 0:null===(n=u.trackers)||void 0===n?void 0:n.account).length,r=null==u||null===(l=u.trackers)||void 0===l||!l.characters||Object.keys(null==ey?void 0:ey.characters).length!==Object.keys(null==u?void 0:null===(i=u.trackers)||void 0===i?void 0:i.characters).length;f({account:d?null==ey?void 0:ey.account:null==u?void 0:null===(t=u.trackers)||void 0===t?void 0:t.account,characters:r?null==ey?void 0:ey.characters:null==u?void 0:null===(o=u.trackers)||void 0===o?void 0:o.characters})},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(el.PB,{title:"Dashboard | Idleon Toolbox",description:"Provides key information about your account and alerts you when there are unfinished tasks"}),(0,i.jsxs)(r.Z,{direction:"row",gap:2,justifyContent:"space-between",children:[(0,i.jsxs)(r.Z,{sx:{maxWidth:Z||k?ew.s:"100%"},children:[(0,i.jsxs)(r.Z,{direction:"row",alignItems:"center",gap:3,children:[(0,i.jsx)(a.Z,{variant:"h2",children:"Dashboard"}),(0,i.jsx)(H.Z,{title:"Configure alerts",onClick:()=>g(!0),children:(0,i.jsx)(F.Z,{})})]}),(0,i.jsxs)(r.Z,{mb:1,mt:"4px",gap:2,direction:"row",flexWrap:"wrap",children:[(0,i.jsx)(M.Ye,{cardSx:{my:0},title:"Daily Reset",children:(0,i.jsx)(W.Z,{variant:"caption",type:"countdown",lastUpdated:m,date:w})}),(0,i.jsx)(M.Ye,{cardSx:{my:0},title:"Weekly Reset",children:(0,i.jsx)(W.Z,{variant:"caption",type:"countdown",lastUpdated:m,date:y})})]}),(0,i.jsxs)(r.Z,{gap:2,children:[(0,i.jsx)(A.Z,{trackers:null==j?void 0:j.account,characters:v,account:h,lastUpdated:m}),(0,i.jsx)(R,{trackers:null==j?void 0:j.characters,characters:v,account:h,lastUpdated:m}),(0,i.jsx)(en,{characters:v,account:h,lastUpdated:m})]})]}),(0,i.jsx)(eZ,{onChange:e=>{f(e),c({type:"trackers",data:e})},open:x,onClose:()=>g(!1),config:j}),k||Z?(0,i.jsxs)(s.Z,{sx:{backgroundColor:p.isProd?"":"#d73333",width:k?300:Z?160:0,height:600},children:[k?(0,i.jsx)(et.a,{client:"ca-pub-1842647313167572",slot:"2700532291"}):null,Z&&!k?(0,i.jsx)(et.a,{client:"ca-pub-1842647313167572",slot:"8040203474"}):null]}):null]})]})}},32225:function(e,n,l){"use strict";l.d(n,{gN:function(){return r},u6:function(){return o}});var i=l(66092),t=l(67924);let o=e=>d((null==e?void 0:e.ShopStock)||(0,i.tryToParse)(null==e?void 0:e.ShopStock)),d=e=>e.reduce((e,n,l)=>{var i;return[...e,null===(i=Object.values(n))||void 0===i?void 0:i.reduce((e,n,i)=>{var o,d,r,s;let c=null==a?void 0:null===(o=a[l])||void 0===o?void 0:o[i];return(parseInt(n)||0)>0&&c?[...e,{amount:n,...null===(r=t.shops[l])||void 0===r?void 0:null===(d=r.items)||void 0===d?void 0:d[i],shopName:null===(s=t.shops[l])||void 0===s?void 0:s.name}]:e},[])]},[]),r=()=>{var e;return null===(e=Object.entries(t.shops))||void 0===e?void 0:e.reduce((e,n)=>{var l;let[i,{items:t}]=n;return[...e,...null==t?void 0:null===(l=t.filter((e,n)=>{var l;return null==a?void 0:null===(l=a[i])||void 0===l?void 0:l[n]}))||void 0===l?void 0:l.map(e=>{let{rawName:n}=e;return n})]},[]).toSimpleObject()},a={0:[3,8,13,14,17,23].toSimpleObject(),1:[2,8,9,13].toSimpleObject(),2:[0,1,2,3,4,8,9,10,18].toSimpleObject(),3:[12].toSimpleObject(),4:[0,1,2,8,9,10,19,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject()}}},function(e){e.O(0,[5127,8548,5039,6426,176,9774,2888,179],function(){return e(e.s=51075)}),_N_E=e.O()}]);