"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5705],{9137:function(l,i,o){var n=o(85893),e=o(67294),d=o(60970),t=o(33913),a=o(30925),u=o(15861);let v=(0,e.forwardRef)((l,i)=>{let{date:o,startDate:v,lastUpdated:s,stopAtZero:r,type:c,pause:m,staticTime:_,placeholder:h,loop:g,variant:p="inherit",...b}=l,[f,M]=(0,e.useState)();(0,e.useEffect)(()=>{if(o){if(_){if(!isFinite(o))return;return M({...(0,a.getDuration)(new Date().getTime(),o)})}let l=new Date,i=l.getTime()-(null!=s?s:0),n=(0,t.Z)(o);M({...(0,a.getDuration)(null==l?void 0:l.getTime(),o+i*("countdown"===c?-1:1)),overtime:"countdown"===c&&n})}},[o,s]);let tickUp=()=>{let{days:l,hours:i,minutes:o,seconds:n}=f;60===(n+=1)&&(n=0,60===(o+=1)&&(o=0,24===(i+=1)&&(l+=1))),M({...f,days:l,hours:i,minutes:o,seconds:n})},tickDown=()=>{let{days:l,hours:i,minutes:o,seconds:n}=f;if(0===l&&0===i&&0===o&&0===n){if(r)return;if(g)return M({...(0,a.getDuration)(new Date().getTime(),v)})}-1==(n-=1)&&(n=59,-1==(o-=1)&&(o=59,-1==(i-=1)&&(i=0,l-=1))),M({...f,days:l,hours:i,minutes:o,seconds:n})};(0,d.Z)(()=>{if(!f)return null;"countdown"!==c||(null==f?void 0:f.overtime)?tickUp():tickDown()},m||_?null:1e3);let wrapNumber=l=>{let i=String(l);return(null==i?void 0:i.length)===1?"0".concat(l):l};return f?((null==f?void 0:f.overtime)||m)&&h?(0,n.jsx)(u.Z,{...b,ref:i,children:h}):(0,n.jsxs)(u.Z,{...b,ref:i,variant:p,sx:{color:"".concat((null==f?void 0:f.overtime)&&!g?"#f91d1d":"")},component:"span",children:[(null==f?void 0:f.days)?wrapNumber(null==f?void 0:f.days)+"d:":"",wrapNumber(null==f?void 0:f.hours)+"h:",wrapNumber(null==f?void 0:f.minutes)+"m",(null==f?void 0:f.days)?"":":",(null==f?void 0:f.days)?"":wrapNumber(null==f?void 0:f.seconds)+"s"]}):null});i.Z=v},86736:function(l,i,o){o.d(i,{Gr:function(){return MissingData},M5:function(){return h},Wd:function(){return PlayersList},Ye:function(){return CardTitleAndValue},iy:function(){return CardAndBorder},j8:function(){return g},u3:function(){return TalentTooltip},uQ:function(){return TitleAndValue},wD:function(){return CenteredStack}});var n=o(82729),e=o(85893),d=o(67294),t=o(30925),a=o(51233),u=o(15861),v=o(49425),s=o(66242),r=o(44267),c=o(61599),m=o(5072),_=o(54685);function _templateObject(){let l=(0,n._)(["\n  & .MuiBadge-badge {\n    background-color: #d5d5dc;\n    color: rgba(0, 0, 0, 0.87);\n  }\n"]);return _templateObject=function(){return l},l}function _templateObject1(){let l=(0,n._)(["\n  height: 20px;\n  object-fit: contain;\n"]);return _templateObject1=function(){return l},l}function _templateObject2(){let l=(0,n._)(["\n  width: 56px;\n  height: 72px;\n  object-fit: contain;\n  opacity: ",";\n"]);return _templateObject2=function(){return l},l}function _templateObject3(){let l=(0,n._)(["\n  position: absolute;\n  left: 50%;\n  top: -3px;\n  pointer-events: none;\n  transform: translateX(-50%);\n"]);return _templateObject3=function(){return l},l}let h=(0,d.forwardRef)((l,i)=>{let{stat:o,icon:n}=l,{img:d,...v}=l;return(0,e.jsxs)(a.Z,{alignItems:"center",...v,ref:i,style:{position:"relative",width:"fit-content"},children:[(0,e.jsx)("img",{...d,src:"".concat(t.prefix,"data/").concat(n,".png"),alt:""}),(0,e.jsx)(u.Z,{variant:"body1",component:"span",children:o})]})});h.displayName="IconWithText";let TitleAndValue=l=>{let{title:i,value:o,boldTitle:n,titleStyle:d={},valueStyle:t={}}=l;return(0,e.jsxs)(a.Z,{direction:"row",flexWrap:"wrap",alignItems:"center",children:[i?(0,e.jsxs)(u.Z,{style:d,fontWeight:n?"bold":500,component:"span",children:[i,":\xa0"]}):null,(0,e.jsx)(u.Z,{fontSize:15,component:"span",sx:t,children:o})]})},g=(0,c.Z)(v.Z)(_templateObject()),CardAndBorder=l=>{let{cardName:i,stars:o,cardIndex:n,name:d,variant:a,rawName:u,amount:v,nextLevelReq:s}=l,r="cardSet"===a?"".concat(t.prefix,"data/").concat(u,".png"):"".concat(t.prefix,"data/2Cards").concat(n,".png");return(0,e.jsxs)(e.Fragment,{children:[o>0?(0,e.jsx)(f,{src:"".concat(t.prefix,"data/CardEquipBorder").concat(o,".png"),alt:""}):null,(0,e.jsx)(m.Z,{title:(0,e.jsx)(CardTooltip,{...l,cardName:"cardSet"===a?d:i,nextLevelReq:s,amount:v}),children:(0,e.jsx)(b,{isCardSet:"cardSet"===a,amount:v,src:r,alt:""})})]})},CardTooltip=l=>{let{displayName:i,effect:o,bonus:n,stars:d,showInfo:v,nextLevelReq:s,amount:r}=l,c=n;return v&&(c=(0,_.BZ)({bonus:n,stars:d})),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(u.Z,{fontWeight:"bold",variant:"h6",children:(0,t.cleanUnderscore)(i)}),(0,e.jsx)(u.Z,{children:(0,t.cleanUnderscore)(o.replace("{",c))}),v?(0,e.jsx)(a.Z,{mt:1,direction:"row",gap:1,flexWrap:"wrap",children:[1,2,3,4,5,6].map((l,o)=>(0,e.jsxs)(a.Z,{alignItems:"center",justifyContent:"space-between",children:[0===o?(0,e.jsx)(u.Z,{children:"Base"}):(0,e.jsx)(p,{src:"".concat(t.prefix,"etc/Star").concat(o,".png"),alt:""}),(0,e.jsx)(u.Z,{children:n*(o+1)})]},"".concat(i,"-").concat(o)))}):null,r>=s?(0,e.jsxs)(a.Z,{children:["You've collected ",(0,t.numberWithCommas)(r)," cards"]}):s>0?(0,e.jsxs)(a.Z,{children:["Progress: ",(0,t.numberWithCommas)(r)," / ",(0,t.numberWithCommas)(s)]}):null]})},p=c.Z.img(_templateObject1()),b=c.Z.img(_templateObject2(),l=>{let{amount:i,isCardSet:o}=l;return i||o?1:.5}),f=c.Z.img(_templateObject3()),TalentTooltip=l=>{let{level:i,funcX:o,x1:n,x2:d,funcY:v,y1:s,y2:r,description:c,name:m,talentId:_}=l,h=i>0?(0,t.growth)(o,i,n,d):0,g=i>0?(0,t.growth)(v,i,s,r):0;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,e.jsx)("img",{src:"".concat(t.prefix,"data/UISkillIcon").concat(_,".png"),alt:""}),(0,e.jsx)(u.Z,{fontWeight:"bold",variant:"h6",children:(0,t.cleanUnderscore)(m)})]}),(0,e.jsx)(u.Z,{children:(0,t.cleanUnderscore)(c).replace("{",h).replace("}",g)})]})},PlayersList=l=>{let{players:i,characters:o}=l;return(0,e.jsx)(a.Z,{gap:1,direction:"row",children:i.map(l=>{var i;let{index:n}=l;return(0,e.jsx)(m.Z,{title:null==o?void 0:null===(i=o[n])||void 0===i?void 0:i.name,children:(0,e.jsx)("img",{src:"".concat(t.prefix,"data/headBIG.png"),alt:""})},name+"-head-"+n)})})},MissingData=l=>{let{name:i}=l;return(0,e.jsxs)(u.Z,{variant:"h3",children:["Your account is missing data for ",i]})},CardTitleAndValue=l=>{let{cardSx:i,title:o,value:n,children:d,icon:v}=l;return(0,e.jsx)(s.Z,{sx:{my:{xs:0,md:3},width:"fit-content",...i},children:(0,e.jsxs)(r.Z,{children:[(0,e.jsx)(u.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:o}),n?v?(0,e.jsxs)(a.Z,{direction:"row",gap:2,children:[(0,e.jsx)("img",{style:{objectFit:"contain"},src:"".concat(t.prefix).concat(v),alt:""}),(0,e.jsx)(u.Z,{children:n})]}):(0,e.jsx)(u.Z,{children:n}):d]})})},CenteredStack=l=>{let{direction:i="row",children:o}=l;return(0,e.jsx)(a.Z,{gap:1,direction:i,alignItems:"center",children:o})}},72339:function(l,i,o){o.d(i,{C:function(){return notateDamage},m:function(){return getMaxDamage}});var n=o(30796),e=o(4056),d=o(80488),t=o(54685),a=o(64605),u=o(88054),v=o(88344),s=o(74805),r=o(79603),c=o(70473),m=o(10924),_=o(96707),h=o(71345),g=o(56552),p=o(74861),b=o(1972),f=o(30925),M=o(64569),E=o(15815),x=o(15893),O=o(89260),S=o(74629),D=o(16727),y=o(95331),T=o(5432),I=o(20385),A=o(47212),B=o(32387),R=o(9339),P=o(19834),w=o(72973);let getMaxDamage=(l,i,o)=>{let e={survivabilityMath:0},d=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],t=(0,n._X)(null==l?void 0:l.talents,1,"STRENGTH_IN_NUMBERS"),a=(0,n._X)(null==l?void 0:l.talents,1,"KNOWLEDGE_IS_POWER"),u=(0,n._X)(null==l?void 0:l.talents,1,"LUCKY_HIT"),v=(null==l?void 0:l.stats[d])*(1+(t+(a+u))/100),{respawnRate:s}=(0,g.P9)(l,o);e.respawnRate=s;let{afkGains:r}=(0,g.WU)(l,i,o);e.afkGains=r,e.maxHp=getMaxHp(l,i,o),e.maxMp=getMaxMp(l,i,o),e.movementSpeed=(0,g.Yp)(l,i,o),e.accuracy=getAccuracy(l,i,o,e.movementSpeed),e.critDamage=getCritDamage(l,i,o),e.critChance=getCritChance(l,i,o,e),e.hitChance=getHitChance(l,i,o,e),e.mastery=getMastery(l,i,o);let{baseDamage:c}=getBaseDamage(l,i,o,e,v),m=getDamageFromHpMp(l,i,o,e,v),_=getDamageFromPerX(l,i,o,e,m),h=getDamagePercent(l,i,o,e);return e.maxDamage=c*_*h,e.minDamage=e.mastery*e.maxDamage,e.defence=getPlayerDefence(l,i,o,e),e.survivability=getSurvivability(l,i,o,e),e.killsPerHour=getKillsPerHour(l,i,o,e),e.survivabilityMath=e.killsPerHour*e.afkGains*(e.survivability/100),e.survivability=getSurvivability(l,i,o,e),e.killsPerHour=getKillsPerHour(l,i,o,e),e.killPerkill=getKillPerKill(l,i,o,e),e.finalKillsPerHour=Math.floor(e.killsPerHour*e.afkGains*(e.survivability/100)*e.killPerkill),e},notateDamage=l=>{let i=[];return 9999999>l.maxDamage?i.push(Math.ceil(l.minDamage)+"~"+Math.ceil(l.maxDamage)):999999999>l.maxDamage?i.push(Math.ceil(l.minDamage/1e3)/1e3+"[~"+Math.ceil(l.maxDamage/1e3)/1e3+"["):9999999999999>l.maxDamage?i.push(Math.ceil(l.minDamage/1e5)/10+"[~"+Math.ceil(l.maxDamage/1e5)/10+"["):i.push(Math.ceil(l.minDamage/1e9)/1e3+"!~"+Math.ceil(l.maxDamage/1e9)/1e3+"!"),i},getMastery=(l,i,o)=>{var e,d;let a=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],s=(0,u.om)(null==o?void 0:null===(e=o.alchemy)||void 0===e?void 0:e.bubbles,"quicc","LIL_BIG_DAMAGE",!1,"agility"===a),r=(0,t.OK)(null==l?void 0:null===(d=l.cards)||void 0===d?void 0:d.equippedCards,"Minimum_Damage"),c=(0,n._X)(null==l?void 0:l.talents,2,"MASTERY_UP"),m=(0,v.zi)(l,21,o);return Math.min(.8,.35+(s+(r+(c+m)))/100)},getDamagePercent=(l,i,o)=>{var d,a,h,g,p,b,C,N,k,L,H,j,X,Y,K,W,U,G,V,Z,q,F,z,Q,J,$,ll,li,lo,ln,le,ld,lt,la,lu,lv,ls,lr,lc,lm,l_,lh,lg,lp,lb,lf,lM,lE;let lx=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],{strength:lO,agility:lS,wisdom:lD,luck:ly}=null==l?void 0:l.stats,lT=(0,n._X)(null==l?void 0:l.talents,3,"WORMHOLE_EMPEROR"),lI=1+lT*(0,f.lavaLog)(null==o?void 0:null===(d=o.accountOptions)||void 0===d?void 0:d[152])/100,lA=(0,w.z)(null==o?void 0:null===(a=o.equinox)||void 0===a?void 0:a.upgrades,"Matching_Scims"),lB=5*(0,S.MH)(o),lR=(0,n.eZ)(null==l?void 0:l.activeBuffs,"NO_PAIN_NO_GAIN"),lP=(0,_.o9)(l,o,"Total_Damage"),lw=null==o?void 0:null===(h=o.divinity)||void 0===h?void 0:h.unlockedDeities,lC=(0,n.A5)(i,3,"Elemental_Sorcerer","GODS_CHOSEN_CHILDREN",!1,!0),lN=(0,n.A5)(i,3,"Voidwalker","POWER_ORB"),lk=(0,M.wt)(null==o?void 0:o.shrines,0,null==l?void 0:l.mapIndex,null==o?void 0:o.cards,null==o?void 0:null===(g=o.sailing)||void 0===g?void 0:g.artifacts),lL=(0,e.xV)(null==l?void 0:l.postOffice,"Deaths_Storage_Unit",2),lH=(0,e.xV)(null==l?void 0:l.postOffice,"Scurvy_C'arr'ate",2),lj=(0,e.xV)(null==l?void 0:l.postOffice,"Gaming_Lootcrate",2),lX=(0,m.jU)(i,"Blood_Berserker"),lY=(0,n._X)(null==l?void 0:l.talents,3,"THE_FAMILY_GUY"),lK=(0,r.D)(c.classFamilyBonuses,"TOTAL_DAMAGE",lX),lW=lK*((null==l?void 0:l.class)==="Blood_Berserker"&&lY>0?1+lY/100:1),lU=(0,D.YS)(null==o?void 0:null===(p=o.sailing)||void 0===p?void 0:p.artifacts,"Crystal_Steak"),lG=null!==(lh=null==lU?void 0:null===(C=lU.additionalData)||void 0===C?void 0:null===(b=C[null==l?void 0:l.playerId])||void 0===b?void 0:b.bonus)&&void 0!==lh?lh:0,lV=null!==(lg=null===(N=(0,D.YS)(null==o?void 0:null===(k=o.sailing)||void 0===k?void 0:k.artifacts,"Ruble_Cuble"))||void 0===N?void 0:N.bonus)&&void 0!==lg?lg:0,lZ=null!==(lp=null===(L=(0,D.YS)(null==o?void 0:null===(H=o.sailing)||void 0===H?void 0:H.artifacts,"Fun_Hippoete"))||void 0===L?void 0:L.bonus)&&void 0!==lp?lp:0,lq=null!==(lb=null===(j=(0,D.YS)(null==o?void 0:null===(X=o.sailing)||void 0===X?void 0:X.artifacts,"Opera_Mask"))||void 0===j?void 0:j.bonus)&&void 0!==lb?lb:0,lF=null!==(lf=null===(Y=(0,D.YS)(null==o?void 0:null===(K=o.sailing)||void 0===K?void 0:K.artifacts,"The_True_Lantern"))||void 0===Y?void 0:Y.bonus)&&void 0!==lf?lf:0,lz=null!==(lM=(0,y._m)(o,"Carbon_-_Wizard_Maximizer"))&&void 0!==lM?lM:0,lQ=(0,T.du)(null==o?void 0:null===(W=o.breeding)||void 0===W?void 0:W.pets,"Total_Damage"),lJ=null!==(lE=null===(U=(0,I.Ob)(o,"MSA_Skill_EXP"))||void 0===U?void 0:U.bonus)&&void 0!==lE?lE:0,l$=(0,m.fi)(null==o?void 0:o.totalSkillsLevels,null==o?void 0:o.rift,0),l0=(0,u.om)(null==o?void 0:null===(G=o.alchemy)||void 0===G?void 0:G.bubbles,"power","BRITTLEY_SPEARS",!1,"strength"===lx),l1=(0,u.om)(null==o?void 0:null===(V=o.alchemy)||void 0===V?void 0:V.bubbles,"quicc","BOW_JACK",!1,"agility"===lx),l2=(0,u.om)(null==o?void 0:null===(Z=o.alchemy)||void 0===Z?void 0:Z.bubbles,"high-iq","MATTY_STAFFORD",!1,"wisdom"===lx),l5="strength"===lx||"luck"===lx?(0,u.om)(null==o?void 0:null===(q=o.alchemy)||void 0===q?void 0:q.bubbles,"power","POWER_TRIONE",!1,"strength"===lx):0,l3="agility"===lx?(0,u.om)(null==o?void 0:null===(F=o.alchemy)||void 0===F?void 0:F.bubbles,"quicc","POWER_TRITWO",!1,"agility"===lx):0,l9="wisdom"===lx?(0,u.om)(null==o?void 0:null===(z=o.alchemy)||void 0===z?void 0:z.bubbles,"high-iq","POWER_TRITHREE",!1,"wisdom"===lx):0,l6=(null==o?void 0:null===(Q=o.towers)||void 0===Q?void 0:Q.totalLevels)>=(null===A.q5||void 0===A.q5?void 0:A.q5[2])?2*Math.floor(((null==o?void 0:null===(J=o.towers)||void 0===J?void 0:J.totalLevels)-(null===A.q5||void 0===A.q5?void 0:A.q5[2]))/10):0,l4=(0,n._X)(null==l?void 0:l.talents,0,"GILDED_SWORD"),l8=(0,B.W)(null==o?void 0:o.saltLick,9),l7=(0,v.zi)(l,45,o),il=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===($=c.bonuses.etcBonuses)||void 0===$?void 0:$[45]),ii=null===(ll=(0,E.Y0)(null==l?void 0:l.activePrayers,"Beefy_For_Real",o))||void 0===ll?void 0:ll.bonus,io=null===(li=(0,E.Y0)(null==l?void 0:l.activePrayers,"Balance_of_Precision",o))||void 0===li?void 0:li.curse,ie=null===(lo=(0,E.Y0)(null==l?void 0:l.activePrayers,"Fibers_of_Absence",o))||void 0===lo?void 0:lo.curse,id=(0,x.c9)(null==o?void 0:null===(ln=o.lab)||void 0===ln?void 0:ln.labBonuses,0),it=(0,x.c9)(null==o?void 0:null===(le=o.lab)||void 0===le?void 0:le.labBonuses,11),ia=(0,x.c9)(null==o?void 0:o.lab.labBonuses,8),iu=(null==o?void 0:null===(lt=o.lab.jewels)||void 0===lt?void 0:null===(ld=lt.slice(7,10))||void 0===ld?void 0:ld.every(l=>{let{active:i}=l;return i}))?2:1,iv=(0,x.pc)(null==o?void 0:o.lab.jewels,10,ia)*iu,is=(null==l?void 0:null===(lu=l.cards)||void 0===lu?void 0:null===(la=lu.cardSet)||void 0===la?void 0:la.rawName)==="CardSet26"?null==l?void 0:null===(ls=l.cards)||void 0===ls?void 0:null===(lv=ls.cardSet)||void 0===lv?void 0:lv.bonus:0,ir=(0,t.OK)(null==l?void 0:null===(lr=l.cards)||void 0===lr?void 0:lr.equippedCards,"Total_Damage"),ic=null==o?void 0:null===(lc=o.accountOptions)||void 0===lc?void 0:lc[89],im=null===c.randomList||void 0===c.randomList?void 0:c.randomList[53],i_=+(0,m.bV)(ic,im,2),ih=+(0,m.bV)(ic,im,15),ig=(0,x.gw)(l,o,12),ip=(0,x.pc)(null==o?void 0:o.lab.jewels,16,ia),ib=(0,O.F4)(o,null,"TotDmg",ip),iM=(0,n._X)(null==l?void 0:l.talents,1,"CURSE_OF_MR_LOOTY_BOOTY"),iE=(0,n.eZ)(null==l?void 0:l.activeBuffs,"BALANCED_SPIRIT"),ix=(0,P.HQ)(null==o?void 0:null===(lm=o.divinity)||void 0===lm?void 0:lm.deities,"Flutterbis"),iO=(0,P.HQ)(null==o?void 0:null===(l_=o.divinity)||void 0===l_?void 0:l_.deities,"Kattlecruk"),iS=lI*(1+lA/100)*(1+lB/100)*(1+(lR+(lP+(Math.max(0,lw-10)*lC+Math.floor(Math.max(0,(null==l?void 0:l.level)-200)/50)*lN)))/100)*(1+(lk+(lL+(lH+lj)+lW)+(lG+(lz+(lQ+lJ))))/100)*(1+(l$+l0+(l1+(l2+(lV+(lZ+(l5*Math.floor(Math.max(lO,ly)/250)+l3*Math.floor(lS/250)+(l9*Math.floor(lD/250)+l6)))))))/100)*(1+(l4+(l8+(l7+il+ii))+(id+(it+iv)+(lq+lF)))/100)*(1+(ir+is)/100)*(1+(20*i_+40*ih+(ig+ib)+2*(0,R.k)(null==o?void 0:o.achievements,58)+3*(0,R.k)(null==o?void 0:o.achievements,59)+(5*(0,R.k)(null==o?void 0:o.achievements,60)+5*(0,R.k)(null==o?void 0:o.achievements,62))+2*(0,R.k)(null==o?void 0:o.achievements,119)+3*(0,R.k)(null==o?void 0:o.achievements,120)+(5*(0,R.k)(null==o?void 0:o.achievements,121)+2*(0,R.k)(null==o?void 0:o.achievements,185)+3*(0,R.k)(null==o?void 0:o.achievements,186)+(5*(0,R.k)(null==o?void 0:o.achievements,187)+((0,R.k)(null==o?void 0:o.achievements,240)+(0,R.k)(null==o?void 0:o.achievements,280))+3*(0,R.k)(null==o?void 0:o.achievements,297)+2*(0,R.k)(null==o?void 0:o.achievements,303)+(ix+iO))))/100)*Math.max((1-iM/100)*(1-iE/100)*Math.max(.01,1-(io+ie)/100),.05);return 100<iS?100+Math.max(Math.pow(iS-100,.86),0):iS},getDamageFromPerX=(l,i,o,e,d)=>{var t,a,u,v,s,r,_,h,g,p,M,E;let x=(0,n._X)(null==l?void 0:l.talents,1,"VEINS_OF_THE_INFERNAL"),O=(0,m.Wk)(o,"chopping"),S=(0,n._X)(null==l?void 0:l.talents,1,"CHOPPIN_IT_UP_EZ",!0),D=(0,n._X)(null==l?void 0:l.talents,2,"SKILLAGE_DAMAGE"),y=null!==(E=Math.min(...(null===(a=Object.entries(null==l?void 0:l.skillsInfo))||void 0===a?void 0:null===(t=a.filter(l=>{let[i,{index:o}]=l;return o<9}))||void 0===t?void 0:t.map(l=>{let[i,{level:o}]=l;return o}))||[]))&&void 0!==E?E:0,T=(0,n._X)(null==l?void 0:l.talents,2,"APOCALYPSE_ZOW"),I=(null==l?void 0:null===(v=l.zow)||void 0===v?void 0:null===(u=v.finished)||void 0===u?void 0:u[0])+1||0,A=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],B=(0,n._X)(null==l?void 0:l.talents,2,"PRECISION_POWER"),R=e.accuracy>=(null==A?void 0:A.Defence)*2.25?(null==o?void 0:null===(s=o.refinery)||void 0===s?void 0:s.totalLevels)*B:0,P=null==o?void 0:null===(_=o.alchemy)||void 0===_?void 0:null===(r=_.vials)||void 0===r?void 0:r.reduce((l,i)=>{let{level:o}=i;return l+(o>3?1:0)},0),w=(0,n._X)(null==l?void 0:l.talents,2,"VIRILE_VIALS"),C=null==o?void 0:null===(h=o.looty)||void 0===h?void 0:h.lootedItems,N=(0,n._X)(null==l?void 0:l.talents,2,"LOOTY_MC_SHOOTY"),k=(0,b.MH)(null==o?void 0:o.stamps),L=(0,n._X)(null==l?void 0:l.talents,2,"PAPERWORK,_GREAT..."),H=(0,n._X)(null==l?void 0:l.talents,2,"SPEEDNA"),j=H*Math.floor((e.movementSpeed/100-1)/.15),X=(0,n._X)(null==l?void 0:l.starTalents,null,"DUNGEONIC_DAMAGE"),Y=X*(0,f.lavaLog)(null==o?void 0:null===(g=o.accountOptions)||void 0===g?void 0:g[71]),K=(null==l?void 0:l.linkedDeity)===2?null==l?void 0:l.deityMinorBonus:(null==l?void 0:l.secondLinkedDeityIndex)===2?null==l?void 0:l.secondDeityMinorBonus:0,W=(0,m.tE)("Golden_Kebabs",l,o)||1,U=d*(1+x*((null==l?void 0:null===(M=l.skillsInfo)||void 0===M?void 0:null===(p=M.smithing)||void 0===p?void 0:p.level)/12)/100)*(1+(S*Math.floor(O/25)+(D*Math.floor(y/5)+T*I+R+w*P+(N*C/50+L*k/10)+j+Y+K))/100)*(1===W?W:1+W/100);return 100<U?100+Math.max(Math.pow(U-100,.86),0):U},getDamageFromHpMp=(l,i,o,e,d)=>{var t,a,u,v;let s=(0,p.U6)(null==o?void 0:o.statues,"StatueG23",null==l?void 0:l.talents),r=(0,n._X)(null==l?void 0:l.talents,0,"MEAT_SHANK"),c=(0,n._X)(null==l?void 0:l.talents,0,"OVERCLOCKED_ENERGY"),m=(null==o?void 0:null===(a=o.bribes)||void 0===a?void 0:null===(t=a[20])||void 0===t?void 0:t.done)?null==o?void 0:null===(v=o.bribes)||void 0===v?void 0:null===(u=v[20])||void 0===u?void 0:u.value:0,_=(0,b.mV)(null==o?void 0:o.stamps,"Total_Damage");return 1+(Math.pow(d,.7)+(m+(_+s+0)+((0,f.lavaLog)(e.maxHp)*r+(0,f.lavaLog)(e.maxMp)*c)))/100},getBaseDamage=(l,i,o,d,a)=>{var r,_,g,M,E,x,O,S,D,y;let T=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],I=(0,n._X)(null==l?void 0:l.talents,1,"CARRY_A_BIG_STICK"),A=(0,n._X)(null==l?void 0:l.talents,1,"HIGH_POLYMER_LIMBS"),B=(0,n._X)(null==l?void 0:l.talents,1,"POWER_OVERWHELMING"),R=(0,n._X)(null==l?void 0:l.talents,0,"SHARPENED_AXE"),P=getWeaponPower(l,i,o),w=null!==(y=null===(r=(0,h.d)(null==o?void 0:null===(_=o.arcade)||void 0===_?void 0:_.shop,"Base_Damage"))||void 0===r?void 0:r.bonus)&&void 0!==y?y:0,C=(0,m.tE)("Golden_Nomwich",l,o),N=(0,b.mV)(null==o?void 0:o.stamps,"Base_Damage"),k=(0,e.xV)(null==l?void 0:l.postOffice,"Civil_War_Memory_Box",0),L=(0,v.zi)(l,16,o),H=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(g=c.bonuses.etcBonuses)||void 0===g?void 0:g[16]),j=(0,p.U6)(null==o?void 0:o.statues,"StatueG1",null==l?void 0:l.talents),X=(0,u.om)(null==o?void 0:null===(M=o.alchemy)||void 0===M?void 0:M.bubbles,"power","BIG_MEATY_CLAWS",!1,"strength"===T),Y=(0,u.om)(null==o?void 0:null===(E=o.alchemy)||void 0===E?void 0:E.bubbles,"quicc","QUICK_SLAP",!1,"agility"===T),K=(0,u.om)(null==o?void 0:null===(x=o.alchemy)||void 0===x?void 0:x.bubbles,"high-iq","NAME_I_GUESS",!1,"wisdom"===T),W=(0,t.OK)(null==l?void 0:null===(O=l.cards)||void 0===O?void 0:O.equippedCards,"Base_Damage"),U=(0,u.Vq)(null==o?void 0:null===(D=o.alchemy)||void 0===D?void 0:null===(S=D.p2w)||void 0===S?void 0:S.sigils,"PLUNGING_SWORD"),G=Math.pow((P*(1+(I+(A+B))/100)+R)/3,2)+(a+C)+w+(N+(L+H)+j+(k+(X*(0,f.lavaLog)(Math.max(d.maxHp-250,1))+Y*(Math.max(d.movementSpeed/100-1.1,0)/.25)+(K*(0,f.lavaLog)(Math.max(d.maxMp-150,1))+(W+U)))));G>4e3&&(G=4e3+Math.max(Math.pow(G-4e3,.91),0)),G>15e3&&(G=15e3+Math.max(Math.pow(G-15e3,.84)));let V=(0,m.sU)(l,o,"BaseDmgBoosts");return{baseDamage:G+=V}},getAccuracy=(l,i,o,a)=>{var s,r,c,g,f,M,S,D,y,T,I,A,B,R,P,w,C,N,k;let L={strength:"wisdom",agility:"strength",wisdom:"agility",luck:"luck"},H=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],j=null==L?void 0:L[H],X=(0,u.iu)(null==o?void 0:null===(s=o.alchemy)||void 0===s?void 0:s.vials,"baseACC"),Y=(0,e.xV)(null==l?void 0:l.postOffice,"Box_of_Unwanted_Stats",0),K=(0,t.OK)(null==l?void 0:null===(r=l.cards)||void 0===r?void 0:r.equippedCards,"Base_accuracy"),W=(0,v.zi)(l,28,o),U=(0,m.tE)("Butter_Bar",l,o)||0,G=(0,b.mV)(null==o?void 0:o.stamps,"Base_Accuracy"),V=(0,u.om)(null==o?void 0:null===(c=o.alchemy)||void 0===c?void 0:c.bubbles,"quicc","SHAQURACY",!1,"agility"===H),Z=(0,t.OK)(null==l?void 0:null===(g=l.cards)||void 0===g?void 0:g.equippedCards,"Total_Accuracy"),q=(null==l?void 0:null===(M=l.cards)||void 0===M?void 0:null===(f=M.cardSet)||void 0===f?void 0:f.rawName)==="CardSet4"?null==l?void 0:null===(D=l.cards)||void 0===D?void 0:null===(S=D.cardSet)||void 0===S?void 0:S.bonus:0,F=(0,n.eZ)(null==l?void 0:l.activeBuffs,"EXTENDO_RANGEO"),z=(0,n.eZ)(null==l?void 0:l.activeBuffs,"BALANCED_SPIRIT"),Q=(0,_.o9)(l,o,"Accuracy"),J=(0,p.U6)(null==o?void 0:o.statues,"StatueG15",null==l?void 0:l.talents),$=null===(y=(0,h.d)(null==o?void 0:null===(T=o.arcade)||void 0===T?void 0:T.shop,"Total_Accuracy"))||void 0===y?void 0:y.bonus,ll=(0,d.Qo)(null==o?void 0:null===(I=o.dungeons)||void 0===I?void 0:I.upgrades,"Accuracy"),li=(null==o?void 0:null===(B=o.bribes)||void 0===B?void 0:null===(A=B[21])||void 0===A?void 0:A.done)?null==o?void 0:null===(P=o.bribes)||void 0===P?void 0:null===(R=P[21])||void 0===R?void 0:R.value:0,lo=(0,n._X)(null==l?void 0:l.starTalents,null,"TIPTOE_QUICKNESS",!0),ln=null===(w=(0,E.Y0)(null==l?void 0:l.activePrayers,"Balance_of_Precision",o))||void 0===w?void 0:w.bonus,le=null===(C=(0,E.Y0)(null==l?void 0:l.activePrayers,"Beefy_For_Real",o))||void 0===C?void 0:C.curse,ld=null===(N=(0,E.Y0)(null==l?void 0:l.activePrayers,"Balance_of_Pain",o))||void 0===N?void 0:N.curse,lt=(0,x.gw)(l,o,2),la=(0,x.c9)(null==o?void 0:o.lab.labBonuses,8),lu=(0,x.pc)(null==o?void 0:o.lab.jewels,16,la),lv=(0,O.F4)(o,null,"TotAcc",lu),ls=(null==l?void 0:l.linkedDeity)===0?null==l?void 0:l.deityMinorBonus:0,lr=(null==l?void 0:null===(k=l.stats)||void 0===k?void 0:k[j])*(1+V/100)*(1+(F+(Z+(Q+(z+(J+($+(ll+li)))))))/100);return a/100>1.99&&(lr*=1+lo/100),lr=(Math.pow(lr/4,1.4)+(lr+(2+X+(Y+(K+W+U)+G))))*(1+(lr+2*q)/200)*Math.max(.1,1+(ln-le-ld)/100)*(1+(lt+lv)/100)*(1+ls/100)},getMaxMp=(l,i,o)=>{var d,a,u;let v=(0,t.OK)(null==l?void 0:null===(d=l.cards)||void 0===d?void 0:d.equippedCards,"Base_MP"),s=(0,t.OK)(null==l?void 0:null===(a=l.cards)||void 0===a?void 0:a.equippedCards,"Total_MP"),r=(0,b.mV)(null==o?void 0:o.stamps,"Base_MP"),c=(0,n._X)(null==l?void 0:l.talents,0,"MANA_BOOSTER"),m=(0,e.xV)(null==l?void 0:l.postOffice,"Magician_Starterpack",0),_=(0,e.xV)(null==l?void 0:l.postOffice,"Magician_Starterpack",1),h=(0,n._X)(null==l?void 0:l.talents,1,"MANA_OVERDRIVE"),g=(0,n._X)(null==l?void 0:l.talents,1,"HEMA_OVERDRIVE"),p=10+v+0+r+(c+((null==l?void 0:null===(u=l.stats)||void 0===u?void 0:u.wisdom)+m));return p*((1+(h+g)/100)*(1+(_+s)/100))},getMaxHp=(l,i,o)=>{var d,a,u,h,g;let f=(0,m.sU)(l,o,"HpBaseBoosts"),E=(0,p.U6)(null==o?void 0:o.statues,"StatueG5",null==l?void 0:l.talents),x=(0,t.OK)(null==l?void 0:null===(d=l.cards)||void 0===d?void 0:d.equippedCards,"Base_HP"),O=(0,t.OK)(null==l?void 0:null===(a=l.cards)||void 0===a?void 0:a.equippedCards,"Total_HP"),S=(0,b.mV)(null==o?void 0:o.stamps,"Base_HP"),D=(0,e.xV)(null==l?void 0:l.postOffice,"Locally_Sourced_Organs",0),y=(0,e.xV)(null==l?void 0:l.postOffice,"Locally_Sourced_Organs",1),T=(0,n._X)(null==l?void 0:l.talents,0,"HEALTH_BOOSTER"),I=(0,n._X)(null==l?void 0:l.starTalents,null,"UBERCHARGED_HEALTH"),A=(0,n._X)(null==l?void 0:l.talents,1,"STRENGTH_IN_NUMBERS"),B=(0,n._X)(null==l?void 0:l.talents,1,"HEALTH_OVERDRIVE"),R=(0,n._X)(null==l?void 0:l.talents,1,"HEMA_OVERDRIVE"),P=(0,n.eZ)(null==l?void 0:l.activeBuffs,"NO_PAIN_NO_GAIN"),w=(0,_.o9)(l,o,"Total_HP"),C=(0,m.jU)(i,"Squire"),N=(0,n._X)(null==l?void 0:l.talents,3,"THE_FAMILY_GUY"),k=(0,r.D)(c.classFamilyBonuses,"TOTAL_HP",C),L=k*((0,n.gW)(null==l?void 0:l.class,"Squire")&&(null==l?void 0:l.level)===C&&N>0?1+N/100:1),H=(0,v.zi)(l,15,o),j=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(u=c.bonuses.etcBonuses)||void 0===u?void 0:u[15]),X=(0,M.wt)(null==o?void 0:o.shrines,1,null==l?void 0:l.mapIndex,null==o?void 0:o.cards,null==o?void 0:null===(h=o.sailing)||void 0===h?void 0:h.artifacts),Y=(0,m.tE)("Golden_Jam",l,o)||1,K=15+x+0+(S+(f+E))+(D+(T+I)+Math.pow((null==l?void 0:null===(g=l.stats)||void 0===g?void 0:g.strength)*(1+A/100),1.05));return K*((1+(B+(R+H+j))/100)*(1+X/100)*(1===Y?Y:1+Y/100)*(1+y/100)*(1-P/100)*(1+(L+O)/100)*(1+w/100))},getWeaponPower=(l,i,o)=>{var g,p,b,M,E,O,S,D,y,T,I,A,B,R,P,w,C,N,k,L,H,j,X,Y,K;let W=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],U=(0,e.xV)(null==l?void 0:l.postOffice,"Deaths_Storage_Unit",0),G=(0,d.Qo)(null==o?void 0:null===(g=o.dungeons)||void 0===g?void 0:g.upgrades,"Weapon_Power"),V=(0,t.OK)(null==l?void 0:null===(p=l.cards)||void 0===p?void 0:p.equippedCards,"Weapon_Power"),Z=(0,t.OK)(null==o?void 0:o.cards,"Weapon_Power_(Passive)"),q=(0,a._r)(null==o?void 0:null===(b=o.guild)||void 0===b?void 0:b.guildBonuses,3),F=(0,u.Vq)(null==o?void 0:null===(E=o.alchemy)||void 0===E?void 0:null===(M=E.p2w)||void 0===M?void 0:M.sigils,"DUSTER_STUDS"),z=(0,v.zi)(l,"Weapon_Power",o),Q=(0,s.gY)(null==l?void 0:l.obols,"Weapon_Power"),J=(0,x.gw)(l,o,19),$="strength"===W?(0,u.om)(null==o?void 0:null===(O=o.alchemy)||void 0===O?void 0:O.bubbles,"power","SPEAR_POWAH",!1,"strength"===W):0,ll="agility"===W?(0,u.om)(null==o?void 0:null===(S=o.alchemy)||void 0===S?void 0:S.bubbles,"quicc","BOW_POWER",!1,"agility"===W):0,li="wisdom"===W||"luck"===W?(0,u.om)(null==o?void 0:null===(D=o.alchemy)||void 0===D?void 0:D.bubbles,"high-iq","WAND_PAWUR",!1,"wisdom"===W):0,lo=(0,u.iu)(null==o?void 0:null===(y=o.alchemy)||void 0===y?void 0:y.vials,"WeaponPOW"),ln=(0,m.jU)(i,"Barbarian"),le=(0,r.D)(c.classFamilyBonuses,"WEAPON_POWER",ln),ld=(0,_.o9)(l,o,"Weapon_Power"),lt=null===(T=(0,h.d)(null==o?void 0:null===(I=o.arcade)||void 0===I?void 0:I.shop,"Weapon_Power"))||void 0===T?void 0:T.bonus,la=(0,n._X)(null==l?void 0:l.talents,3,"TOUGH_STEAKS"),lu=(0,n._X)(null==l?void 0:l.talents,3,"GAMER_STRENGTH"),lv=Math.round(10*(0,n._X)(null==l?void 0:l.talents,3,"CREW_ROWING_STRENGTH"))/10,ls=(0,n._X)(null==l?void 0:l.talents,3,"BELIEVER_STRENGTH"),lr=(0,n._X)(null==l?void 0:l.talents,3,"ANIMALISTIC_FEROCITY"),lc=(0,n._X)(null==l?void 0:l.talents,3,"WIRED_IN_POWER"),lm=null!==(K=null==o?void 0:null===(R=o.breeding)||void 0===R?void 0:null===(B=R.storedPets)||void 0===B?void 0:null===(A=B[0])||void 0===A?void 0:A.power)&&void 0!==K?K:0,l_=(0,m.jU)(i,"Beginner"),lh=(0,n._X)(null==l?void 0:l.starTalents,null,"BEGINNER_BEST_CLASS"),lg=(0,m.sU)(l,o,"WeaponPowerBoosts");return 5+U+G+lg+(V+Z+(q+F))+((z+Q)*(1+(J+($+(ll+li)))/100)+Math.min(lh,Math.floor(l_/10))+(lo+(le+(ld+(lt+(la*Math.floor((null==l?void 0:null===(w=l.skillsInfo)||void 0===w?void 0:null===(P=w.cooking)||void 0===P?void 0:P.level)/10)+(lu*Math.floor((null==l?void 0:null===(N=l.skillsInfo)||void 0===N?void 0:null===(C=N.gaming)||void 0===C?void 0:C.level)/10)+(lv*Math.floor((null==l?void 0:null===(L=l.skillsInfo)||void 0===L?void 0:null===(k=L.sailing)||void 0===k?void 0:k.level)/10)+ls*Math.floor((null==l?void 0:null===(j=l.skillsInfo)||void 0===j?void 0:null===(H=j.divinity)||void 0===H?void 0:H.level)/10)))+(lr*(0,f.lavaLog)(lm)+lc*Math.floor((null==l?void 0:null===(Y=l.skillsInfo)||void 0===Y?void 0:null===(X=Y.laboratory)||void 0===X?void 0:X.level)/10))))))))},getCritDamage=(l,i,o)=>{var e,d,a,r,m,_,h,g;let f=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],M=(0,n._X)(null==l?void 0:l.talents,0,"FARSIGHT"),x=(0,n._X)(null==l?void 0:l.talents,0,"CRITIKILL"),O=(0,n._X)(null==l?void 0:l.talents,0,"KNUCKLEBUSTER"),S=(0,n.eZ)(null==l?void 0:l.activeBuffs,"DIVINE_INTERVENTION"),D=(0,u.om)(null==o?void 0:null===(e=o.alchemy)||void 0===e?void 0:e.bubbles,"power","BAPPITY_BOOPITY",!1,"strength"===f),y=(0,b.mV)(null==o?void 0:o.stamps,"Critical_Damage"),T=(0,t.OK)(null==l?void 0:null===(d=l.cards)||void 0===d?void 0:d.equippedCards,"Critical_Damage"),I=null===(a=(0,E.Y0)(null==l?void 0:l.activePrayers,"Circular_Criticals",o))||void 0===a?void 0:a.curse,A=(0,v.zi)(l,22,o),B=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(r=c.bonuses.etcBonuses)||void 0===r?void 0:r[22]),R=(0,p.U6)(null==o?void 0:o.statues,"StatueG6",null==l?void 0:l.talents);return 1.2+(x+R+(M+(y+(100*(1e3>(null==l?void 0:null===(m=l.stats)||void 0===m?void 0:m.strength)?(Math.pow((null==l?void 0:null===(_=l.stats)||void 0===_?void 0:_.strength)+1,.37)-1)/40:((null==l?void 0:null===(h=l.stats)||void 0===h?void 0:h.strength)-1e3)/((null==l?void 0:null===(g=l.stats)||void 0===g?void 0:g.strength)+2500)*.5+.255)/1.8+(D+(T-I+(O+(A+B+S))))))))/100},getCritChance=(l,i,o,d)=>{var a,r,m,h,g,b,M,S,D,y,T,I;let A=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],B=(0,t.OK)(null==l?void 0:null===(a=l.cards)||void 0===a?void 0:a.equippedCards,"Critical_Chance"),P=(0,t.OK)(null==o?void 0:o.cards,"Critical_Chance_(Passive)"),w=(null==l?void 0:null===(m=l.cards)||void 0===m?void 0:null===(r=m.cardSet)||void 0===r?void 0:r.rawName)==="CardSet6"?null==l?void 0:null===(g=l.cards)||void 0===g?void 0:null===(h=g.cardSet)||void 0===h?void 0:h.bonus:0,C=null===(b=(0,E.Y0)(null==l?void 0:l.activePrayers,"Circular_Criticals",o))||void 0===b?void 0:b.bonus,N=(0,x.c9)(null==o?void 0:o.lab.labBonuses,8),k=(0,x.pc)(null==o?void 0:o.lab.jewels,16,N),L=(0,O.F4)(o,null,"Crit",k),H=(0,p.U6)(null==o?void 0:o.statues,"StatueG14",null==l?void 0:l.talents),j=(0,n._X)(null==l?void 0:l.starTalents,null,"MEGA_CRIT"),X=(0,n._X)(null==l?void 0:l.starTalents,null,"OVERACCURATE_CRIT"),Y=(0,_.o9)(l,o,"Crit_Chance"),K=(0,v.zi)(l,23,o),W=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(M=c.bonuses.etcBonuses)||void 0===M?void 0:M[23]),U=(0,n._X)(null==l?void 0:l.talents,0,"I_SEE_YOU"),G=(0,n._X)(null==l?void 0:l.talents,0,"FARSIGHT",!0),V=(0,R.k)(null==o?void 0:o.achievements,184),Z=(0,e.xV)(null==l?void 0:l.postOffice,"Civil_War_Memory_Box",2),q=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],F=Math.floor(null==d?void 0:d.accuracy),z=(0,f.lavaLog)(F-1.5*(null==q?void 0:q.Defence)),Q=(0,u.om)(null==o?void 0:null===(S=o.alchemy)||void 0===S?void 0:S.bubbles,"quicc","CHEAP_SHOT",!1,"agility"===A);return 5+w+(B+Math.min(P,50)+(j+(K+W)+(C+L+H+Y)))+(U+(G+5*V+(Z+X*z)+((1e3>(null==l?void 0:null===(D=l.stats)||void 0===D?void 0:D.agility)?(Math.pow((null==l?void 0:null===(y=l.stats)||void 0===y?void 0:y.agility)+1,.37)-1)/40:((null==l?void 0:null===(T=l.stats)||void 0===T?void 0:T.agility)-1e3)/((null==l?void 0:null===(I=l.stats)||void 0===I?void 0:I.agility)+2500)*.5+.255)/2.3*100+Q)))},getHitChance=(l,i,o,n)=>{let e=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],d=(null==n?void 0:n.accuracy)/(null==e?void 0:e.Defence);return .5<=d?Math.floor(Math.min(100*(.95*d-.425),100)):0},getKillsPerHour=(l,i,o,d)=>{var t,a,r,m,_,h,g,p;let b=getTalentEffectOnKills(l,o,"D"),f=getTalentEffectOnKills(l,o,"K"),M=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],E=null==l?void 0:null===(a=l.equipment)||void 0===a?void 0:null===(t=a[1])||void 0===t?void 0:t.Speed,S=(0,v.zi)(l,56,o),D=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(r=c.bonuses.etcBonuses)||void 0===r?void 0:r[56]),y=(0,x.c9)(null==o?void 0:o.lab.labBonuses,8),T=(0,x.pc)(null==o?void 0:o.lab.jewels,16,y),I=(0,O.F4)(o,null,"AtkSpd",T),A=(0,x.gw)(l,o,4),B=(0,u.om)(null==o?void 0:null===(m=o.alchemy)||void 0===m?void 0:m.bubbles,"high-iq","HYPERSWIFT",!1,"wisdom"===M),R=(0,e.xV)(null==l?void 0:l.postOffice,"Deaths_Storage_Unit",1),P=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],w=getMonsterHpTotal(null==P?void 0:P.MonsterHPTotal,l,o),C=null===c.mapDetails||void 0===c.mapDetails?void 0:null===(h=c.mapDetails[null==l?void 0:l.mapIndex])||void 0===h?void 0:null===(_=h[1])||void 0===_?void 0:_[0],N=null===c.mapDetails||void 0===c.mapDetails?void 0:null===(p=c.mapDetails[null==l?void 0:l.mapIndex])||void 0===p?void 0:null===(g=p[1])||void 0===g?void 0:g[1],k=Math.min(Math.max(f,1),2.2),L=Math.max(.1,(1+(10-E)/5)/(1+(S+D+(I+(A+(B+R))))/100)),H=(null==d?void 0:d.maxDamage)*(d.mastery+(1-d.mastery)/2)*(1+(d.critDamage-1)*(d.critChance/100))*(d.hitChance/100)*Math.max(b,1),j=0<d.hitChance?Math.min(C/(d.respawnRate+.1),k/(N/(130*((null==d?void 0:d.movementSpeed)/100))+L*Math.max((w/H+.52)*(1/(d.hitChance/100)),1))):Math.min(C/(d.respawnRate+.1),k/(N/(130*(null==d?void 0:d.movementSpeed))+L*Math.max(w/H+.52,1)));return Math.floor(3600*j)},getTalentEffectOnKills=(l,i,o)=>{var e,d;let t=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],a=null==l?void 0:null===(e=l.talentsLoadout)||void 0===e?void 0:e.reduce((l,i)=>(null==i?void 0:i.AFKactivity)!==0||(null==i?void 0:i[o])===1?l:l*((null==i?void 0:i[o])||1)*(1+Math.min(1,(null==i?void 0:i.baseLevel)/((null==i?void 0:i.baseLevel)+100))),1),v=(0,n._X)(null==l?void 0:l.starTalents,null,"ATTACKS_ON_SIMMER"),s=(0,n._X)(null==l?void 0:l.talents,1,"TWO_PUNCH_MAN"),r=(0,n._X)(null==l?void 0:l.talents,2,"TRIPLE_JAB"),c=(0,n._X)(null==l?void 0:l.talents,1,"DOUBLE_STRIKE"),m=(0,n._X)(null==l?void 0:l.talents,1,"HAVE_ANOTHER!"),_=(0,n._X)(null==l?void 0:l.talents,2,"HAVE_ANOTHER..._AGAIN!"),h=(0,u.om)(null==i?void 0:null===(d=i.alchemy)||void 0===d?void 0:d.bubbles,"high-iq","ALL_FOR_KILL",!1,"wisdom"===t);return"D"===o?a*(1+(Math.min(v,25)+Math.min(h,25))/100)*(1+(s+(r+(c+(m+_))))/100):a},getMonsterHpTotal=(l,i,o)=>{var n,e,d;let t=null===(n=(0,E.Y0)(null==i?void 0:i.activePrayers,"Big_Brain_Time",o))||void 0===n?void 0:n.curse,a=null===(e=(0,E.Y0)(null==i?void 0:i.activePrayers,"Midas_Minded",o))||void 0===e?void 0:e.curse,u=null===(d=(0,E.Y0)(null==i?void 0:i.activePrayers,"Jawbreaker",o))||void 0===d?void 0:d.curse;return l*(1+(t+(a+u))/100)},getSurvivability=(l,i,o,d)=>{var t,a;let u=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],v=getMonsterDamage(u,l,o,d),s=(0,n._X)(null==l?void 0:l.talents,1,"MANA_IS_LIFE");s&&(v/=1+s/100);let r=(0,m.Zf)(l,o,"Health"),_=(0,n._X)(null==l?void 0:l.starTalents,null,"GOBLET_OF_HEMOGLOBIN"),h=r+(null==d?void 0:d.survivabilityMath)*(_/100)*(null==d?void 0:d.maxHp),g=null===c.mapDetails||void 0===c.mapDetails?void 0:null===(a=c.mapDetails[null==l?void 0:l.mapIndex])||void 0===a?void 0:null===(t=a[1])||void 0===t?void 0:t[2],p=v*g-h;if(!(p>0))return 100;{p=(null==d?void 0:d.maxHp)/p;let i=(0,n._X)(null==l?void 0:l.starTalents,null,"BORED_TO_DEATH"),o=(0,e.xV)(null==l?void 0:l.postOffice,"Locally_Sourced_Organs",2);return Math.min(Math.round(100*(p/(p+(0===i?600/(1+Math.min(50,Math.max(0,o)/100)):Math.max(i/(1+Math.min(50,Math.max(0,o))/100),100))/3600))),100)}},getMonsterDamage=(l,i,o,e)=>{let{Damages:d}=l,t=(null==d?void 0:d[0])-2.5*Math.pow(null==e?void 0:e.defence,.8),a=Math.pow(null==e?void 0:e.defence,1.5)/100,u=t/Math.max(1+(null==e?void 0:e.defence)/Math.max(null==d?void 0:d[0],1)*a,1),v=(0,n.eZ)(null==i?void 0:i.activeBuffs,"NO_PAIN_NO_GAIN"),s=(0,n._X)(null==i?void 0:i.talents,1,"BRICKY_SKIN");return v&&(u*=2),s&&(u*=Math.max(.05,1-s/100)),u<.5?0:Math.max(Math.ceil(u),0)},getPlayerDefence=(l,i,o)=>{var a,r,g,f,S,D,y,T,I,A,B,R,P,w,C,N,k,L,H,j;let X=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],Y=(0,e.xV)(null==l?void 0:l.postOffice,"Box_of_Unwanted_Stats",1),K=(null==l?void 0:null===(r=l.cards)||void 0===r?void 0:null===(a=r.cardSet)||void 0===a?void 0:a.rawName)==="CardSet4"?null==l?void 0:null===(f=l.cards)||void 0===f?void 0:null===(g=f.cardSet)||void 0===g?void 0:g.bonus:0,W=(0,t.OK)(null==l?void 0:null===(S=l.cards)||void 0===S?void 0:S.equippedCards,"Base_Defence"),U=(0,t.OK)(null==l?void 0:null===(D=l.cards)||void 0===D?void 0:D.equippedCards,"Defence_from_Equipment"),G=(0,u.om)(null==o?void 0:null===(y=o.alchemy)||void 0===y?void 0:y.bubbles,"power","FMJ",!1,"strength"===X),V=(0,b.mV)(null==o?void 0:o.stamps,"Base_Defence"),Z=(0,v.zi)(l,"Defence",o),q=(0,s.gY)(null==l?void 0:l.obols,"Defence"),F=(0,v.zi)(l,50,o),z=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(T=c.bonuses.etcBonuses)||void 0===T?void 0:T[50]),Q=(0,v.zi)(l,7,o),J=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(I=c.bonuses.etcBonuses)||void 0===I?void 0:I[7]),$=null!==(j=null===(A=(0,h.d)(null==o?void 0:null===(B=o.arcade)||void 0===B?void 0:B.shop,"Base_Defence"))||void 0===A?void 0:A.bonus)&&void 0!==j?j:0,ll=(0,p.U6)(null==o?void 0:o.statues,"StatueG8",null==l?void 0:l.talents),li=(0,x.c9)(null==o?void 0:o.lab.labBonuses,8),lo=(0,x.pc)(null==o?void 0:o.lab.jewels,16,li),ln=(0,O.F4)(o,null,"Def",lo),le=(0,n._X)(null==l?void 0:l.talents,2,"BRICKY_SKIN",!0),ld=(0,n._X)(null==l?void 0:l.talents,0,"BUCKLERED_UP"),lt=(0,M.wt)(null==o?void 0:o.shrines,1,null==l?void 0:l.mapIndex,null==o?void 0:o.cards,null==o?void 0:null===(R=o.sailing)||void 0===R?void 0:R.artifacts),la=(null==o?void 0:null===(w=o.bribes)||void 0===w?void 0:null===(P=w[22])||void 0===P?void 0:P.done)?null==o?void 0:null===(N=o.bribes)||void 0===N?void 0:null===(C=N[22])||void 0===C?void 0:C.value:0,lu=null===(k=(0,E.Y0)(null==l?void 0:l.activePrayers,"Beefy_For_Real",o))||void 0===k?void 0:k.curse,lv=null===(L=(0,E.Y0)(null==l?void 0:l.activePrayers,"Balance_of_Pain",o))||void 0===L?void 0:L.curse,ls=(0,m.tE)("Golden_Meat_Pie",l,o),lr=(0,_.o9)(l,o,"Defence"),lc=(0,n.eZ)(null==l?void 0:l.activeBuffs,"BALANCED_SPIRIT"),lm=(0,d.Qo)(null==o?void 0:null===(H=o.dungeons)||void 0===H?void 0:H.upgrades,"Defence"),l_=(0,x.gw)(l,o,0),lh=(null==l?void 0:l.linkedDeity)===0?null==l?void 0:l.deityMinorBonus:(null==l?void 0:l.secondLinkedDeityIndex)===0?null==l?void 0:l.secondDeityMinorBonus:0;return Math.floor(Y+W+Math.min(null==l?void 0:l.level,G)+(V+(F+z)+$+ll)+((Z+q)*(1+(G+U)/100)+(ln+le)))*(1+(lt+la)/100)*Math.max(.05,1-(lu+lv)/100)*(1+(ls+ld+(Q+J+(lr+(lc+(K+(lm+l_))))))/100)*(1+lh/100)},getKillPerKill=(l,i,o,e)=>{var d,t,a,s,r,_,h,g,p;let b=(0,v.zi)(l,68,o),f=(0,v.zi)(l,69,o),M=(0,v.zi)(l,70,o),O=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],S=getMonsterHpTotal(null==O?void 0:O.MonsterHPTotal,l,o),D=(null==e?void 0:e.maxDamage)>=2*S&&.5<(null==o?void 0:null===(d=o.towers)||void 0===d?void 0:d.towersTwo)?(null==e?void 0:e.accuracy)>1.5*(null==O?void 0:O.Defence):0,y=(0,x.c9)(null==o?void 0:null===(t=o.lab)||void 0===t?void 0:t.labBonuses,4),T=0;100<=(null==l?void 0:l.mapIndex)&&150>(null==l?void 0:l.mapIndex)?T=b:150<=(null==l?void 0:l.mapIndex)&&200>(null==l?void 0:l.mapIndex)?T=f:50<=(null==l?void 0:l.mapIndex)&&100>(null==l?void 0:l.mapIndex)&&(T=M);let I=(0,m.fe)(o,0)||(null==l?void 0:l.linkedDeity)===2||(null==l?void 0:l.secondLinkedDeityIndex)===2?1:0,A=(0,n._X)(null==l?void 0:l.talents,3,"CHARRED_SKULLS"),B=(0,n._X)(null==l?void 0:l.talents,3,"STACKED_SKULLS"),R=(0,n._X)(null==l?void 0:l.talents,3,"MEMORIAL_SKULLS"),P=(0,n._X)(null==l?void 0:l.talents,2,"MONSTER_DECIMATOR"),w=getMultiKillTotal(l,i,o,e),C=(0,u.y7)(null==l?void 0:l.equippedBubbles,"quicc","KILL_PER_KILL",o),N=null===(a=(0,E.Y0)(null==l?void 0:l.activePrayers,"Fibers_of_Absence",o))||void 0===a?void 0:a.bonus;return D?Math.max(1,y)*(1+T/100)*Math.max(1,1+I)*(1+(A*((null==l?void 0:null===(s=l.stats)||void 0===s?void 0:s.strength)/1e3)+(B*((null==l?void 0:null===(r=l.stats)||void 0===r?void 0:r.agility)/1e3)+(R*((null==l?void 0:null===(_=l.stats)||void 0===_?void 0:_.wisdom)/1e3)+P))+(w+(C+N)))/100):Math.max(1,y)*(1+T/100)*Math.max(1,1+I)*(1+(A*((null==l?void 0:null===(h=l.stats)||void 0===h?void 0:h.strength)/1e3)+(B*((null==l?void 0:null===(g=l.stats)||void 0===g?void 0:g.agility)/1e3)+(R*((null==l?void 0:null===(p=l.stats)||void 0===p?void 0:p.wisdom)/1e3)+P))+(C+N))/100)},getMultiKillTotal=(l,i,o,d)=>{var a,r,m,g,p,f,M,O,S,y,I,A,P,w,C,N;let k=(0,_.o9)(l,o,"Total_Multikill"),L=(0,B.W)(null==o?void 0:o.saltLick,8),H=(0,b.mV)(null==o?void 0:o.stamps,"Base_Overkill"),j=(0,v.zi)(l,29,o),X=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(a=c.bonuses.etcBonuses)||void 0===a?void 0:a[29]),Y=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],K=getMonsterHpTotal(null==Y?void 0:Y.MonsterHPTotal,l,o),W=1;for(let l=0;l<50;l++)(null==d?void 0:d.maxDamage)>=2*K*Math.pow(2,l+1)&&(W=l+2);let U=(null==o?void 0:null===(m=o.deathNote)||void 0===m?void 0:null===(r=m[Math.floor((null==l?void 0:l.mapIndex)/50)])||void 0===r?void 0:r.rank)||0,G=(0,u.iu)(null==o?void 0:null===(g=o.alchemy)||void 0===g?void 0:g.vials,"Overkill"),V=(0,n.eZ)(null==l?void 0:l.activeBuffs,"VOID_RADIUS"),Z=(0,n.A5)(i,3,"Voidwalker","MASTER_OF_THE_SYSTEM"),q=null!==(C=null===(p=(0,h.d)(null==o?void 0:null===(f=o.arcade)||void 0===f?void 0:f.shop,"Multikill_per_Tier"))||void 0===p?void 0:p.bonus)&&void 0!==C?C:0,F=null!==(N=null===(M=(0,D.YS)(null==o?void 0:null===(O=o.sailing)||void 0===O?void 0:O.artifacts,"Trilobite_Rock"))||void 0===M?void 0:M.bonus)&&void 0!==N?N:0,z=(0,n.eZ)(null==l?void 0:l.activeBuffs,"MANA_IS_LIFE","y"),Q=(0,x.gw)(l,o,14),J=(0,v.zi)(l,71,o),$=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(S=c.bonuses.etcBonuses)||void 0===S?void 0:S[71]),ll=(0,t.OK)(null==l?void 0:null===(y=l.cards)||void 0===y?void 0:y.equippedCards,"Multikill_per_tier"),li=null===(I=(0,E.Y0)(null==l?void 0:l.activePrayers,"Balance_of_Pain",o))||void 0===I?void 0:I.bonus,lo=(0,T.du)(null==o?void 0:null===(A=o.breeding)||void 0===A?void 0:A.pets,"Multikill_Per_Tier"),ln=(0,e.xV)(null==l?void 0:l.postOffice,"Utilitarian_Capsule",1),le=(0,u.y7)(null==l?void 0:l.equippedBubbles,"kazam","MR_MASSACRE",o),ld=(0,R.k)(null==o?void 0:o.achievements,148),lt=(0,R.k)(null==o?void 0:o.achievements,122),la=(0,R.k)(null==o?void 0:o.achievements,123);return Math.floor(k+L+(H+2*(null==o?void 0:null===(P=o.towers)||void 0===P?void 0:P.towersTwo))+(j+X+(Math.min(5,ld)+(6*lt+2*la)))+W*(U+(G+(V+Z*Math.floor((null==o?void 0:null===(w=o.accountOptions)||void 0===w?void 0:w[158])/5))+(q+(F+z)+(Q+(J+$+ll+(li+lo)))+(ln+le)))))}},74629:function(l,i,o){o.d(i,{MH:function(){return getEclipseSkullsBonus},WA:function(){return getDeathNote},jS:function(){return getDeathNoteRank}});var n=o(70473),e=o(67896);let getDeathNote=(l,i)=>{let o=null==l?void 0:l.reduce((l,i)=>{let{kills:o}=i;return(null==l?void 0:l.length)===0?o:null==o?void 0:o.map((i,o)=>i+l[o])},[]);return n.deathNote.reduce((l,e)=>{var d,t,a;let{rawName:u,world:v}=e,s=null===n.mapEnemies||void 0===n.mapEnemies?void 0:n.mapEnemies[u],r=null==o?void 0:o[s],c=getDeathNoteRank(i,r);return{...l,[v]:{...(null==l?void 0:l[v])||{},rank:((null==l?void 0:null===(d=l[v])||void 0===d?void 0:d.rank)||0)+c,mobs:[...(null==l?void 0:null===(t=l[v])||void 0===t?void 0:t.mobs)||[],{rawName:u,displayName:null===n.monsters||void 0===n.monsters?void 0:null===(a=n.monsters[u])||void 0===a?void 0:a.Name,kills:r}]}}},{})},getDeathNoteRank=(l,i)=>25e3>i?0:1e5>i?1:25e4>i?2:5e5>i?3:1e6>i?4:5e6>i?5:1e8>i?7:1e9<i&&(0,e.RB)(null==l?void 0:l.rift,"Eclipse_Skulls")?20:10,getEclipseSkullsBonus=l=>{var i;let o=(0,e.RB)(null==l?void 0:l.rift,"Eclipse_Skulls");return o?null===(i=Object.entries((null==l?void 0:l.deathNote)||{}))||void 0===i?void 0:i.reduce((l,i)=>{let[o,{mobs:n}]=i,e=null==n?void 0:n.reduce((l,i)=>{let{kills:o}=i;return l+(o>=1e9?1:0)},0);return l+e},0):0}}}]);