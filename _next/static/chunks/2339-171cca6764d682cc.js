"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2339],{72339:function(l,i,o){o.d(i,{C:function(){return notateDamage},m:function(){return getMaxDamage}});var n=o(30796),e=o(4056),d=o(80488),v=o(54685),u=o(64605),a=o(88054),t=o(88344),s=o(74805),r=o(79603),c=o(70473),_=o(10924),m=o(96707),g=o(71345),h=o(56552),b=o(74861),p=o(1972),M=o(30925),E=o(64569),f=o(15815),O=o(15893),S=o(89260),D=o(74629),y=o(16727),T=o(95331),I=o(5432),A=o(20385),R=o(47212),B=o(32387),P=o(9339),C=o(19834),x=o(72973);let getMaxDamage=(l,i,o)=>{let e={survivabilityMath:0},d=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],v=(0,n._X)(null==l?void 0:l.talents,1,"STRENGTH_IN_NUMBERS"),u=(0,n._X)(null==l?void 0:l.talents,1,"KNOWLEDGE_IS_POWER"),a=(0,n._X)(null==l?void 0:l.talents,1,"LUCKY_HIT"),t=(null==l?void 0:l.stats[d])*(1+(v+(u+a))/100),{respawnRate:s}=(0,h.P9)(l,o);e.respawnRate=s;let{afkGains:r}=(0,h.WU)(l,i,o);e.afkGains=r,e.maxHp=getMaxHp(l,i,o),e.maxMp=getMaxMp(l,i,o),e.movementSpeed=(0,h.Yp)(l,i,o),e.accuracy=getAccuracy(l,i,o,e.movementSpeed),e.critDamage=getCritDamage(l,i,o),e.critChance=getCritChance(l,i,o,e),e.hitChance=getHitChance(l,i,o,e),e.mastery=getMastery(l,i,o);let{baseDamage:c}=getBaseDamage(l,i,o,e,t),_=getDamageFromHpMp(l,i,o,e,t),m=getDamageFromPerX(l,i,o,e,_),g=getDamagePercent(l,i,o,e);return e.maxDamage=c*m*g,e.minDamage=e.mastery*e.maxDamage,e.defence=getPlayerDefence(l,i,o,e),e.survivability=getSurvivability(l,i,o,e),e.killsPerHour=getKillsPerHour(l,i,o,e),e.survivabilityMath=e.killsPerHour*e.afkGains*(e.survivability/100),e.survivability=getSurvivability(l,i,o,e),e.killsPerHour=getKillsPerHour(l,i,o,e),e.killPerkill=getKillPerKill(l,i,o,e),e.finalKillsPerHour=Math.floor(e.killsPerHour*e.afkGains*(e.survivability/100)*e.killPerkill),e},notateDamage=l=>{let i=[];return 9999999>l.maxDamage?i.push(Math.ceil(l.minDamage)+"~"+Math.ceil(l.maxDamage)):999999999>l.maxDamage?i.push(Math.ceil(l.minDamage/1e3)/1e3+"[~"+Math.ceil(l.maxDamage/1e3)/1e3+"["):9999999999999>l.maxDamage?i.push(Math.ceil(l.minDamage/1e5)/10+"[~"+Math.ceil(l.maxDamage/1e5)/10+"["):i.push(Math.ceil(l.minDamage/1e9)/1e3+"!~"+Math.ceil(l.maxDamage/1e9)/1e3+"!"),i},getMastery=(l,i,o)=>{var e,d;let u=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],s=(0,a.om)(null==o?void 0:null===(e=o.alchemy)||void 0===e?void 0:e.bubbles,"quicc","LIL_BIG_DAMAGE",!1,"agility"===u),r=(0,v.OK)(null==l?void 0:null===(d=l.cards)||void 0===d?void 0:d.equippedCards,"Minimum_Damage"),c=(0,n._X)(null==l?void 0:l.talents,2,"MASTERY_UP"),_=(0,t.zi)(l,21,o);return Math.min(.8,.35+(s+(r+(c+_)))/100)},getDamagePercent=(l,i,o)=>{var d,u,g,h,b,p,L,N,k,w,H,X,K,Y,G,U,W,V,q,F,z,j,Z,Q,J,$,ll,li,lo,ln,le,ld,lv,lu,la,lt,ls,lr,lc,l_,lm,lg,lh,lb,lp,lM,lE,lf;let lO=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],{strength:lS,agility:lD,wisdom:ly,luck:lT}=null==l?void 0:l.stats,lI=(0,n._X)(null==l?void 0:l.talents,3,"WORMHOLE_EMPEROR"),lA=1+lI*(0,M.lavaLog)(null==o?void 0:null===(d=o.accountOptions)||void 0===d?void 0:d[152])/100,lR=(0,x.z)(null==o?void 0:null===(u=o.equinox)||void 0===u?void 0:u.upgrades,"Matching_Scims"),lB=5*(0,D.MH)(o),lP=(0,n.eZ)(null==l?void 0:l.activeBuffs,"NO_PAIN_NO_GAIN"),lC=(0,m.o9)(l,o,"Total_Damage"),lx=null==o?void 0:null===(g=o.divinity)||void 0===g?void 0:g.unlockedDeities,lL=(0,n.A5)(i,3,"Elemental_Sorcerer","GODS_CHOSEN_CHILDREN",!1,!0),lN=(0,n.A5)(i,3,"Voidwalker","POWER_ORB"),lk=(0,E.wt)(null==o?void 0:o.shrines,0,null==l?void 0:l.mapIndex,null==o?void 0:o.cards,null==o?void 0:null===(h=o.sailing)||void 0===h?void 0:h.artifacts),lw=(0,e.xV)(null==l?void 0:l.postOffice,"Deaths_Storage_Unit",2),lH=(0,e.xV)(null==l?void 0:l.postOffice,"Scurvy_C'arr'ate",2),lX=(0,e.xV)(null==l?void 0:l.postOffice,"Gaming_Lootcrate",2),lK=(0,_.jU)(i,"Blood_Berserker"),lY=(0,n._X)(null==l?void 0:l.talents,3,"THE_FAMILY_GUY"),lG=(0,r.D)(c.classFamilyBonuses,"TOTAL_DAMAGE",lK),lU=lG*((null==l?void 0:l.class)==="Blood_Berserker"&&lY>0?1+lY/100:1),lW=(0,y.YS)(null==o?void 0:null===(b=o.sailing)||void 0===b?void 0:b.artifacts,"Crystal_Steak"),lV=null!==(lg=null==lW?void 0:null===(L=lW.additionalData)||void 0===L?void 0:null===(p=L[null==l?void 0:l.playerId])||void 0===p?void 0:p.bonus)&&void 0!==lg?lg:0,lq=null!==(lh=null===(N=(0,y.YS)(null==o?void 0:null===(k=o.sailing)||void 0===k?void 0:k.artifacts,"Ruble_Cuble"))||void 0===N?void 0:N.bonus)&&void 0!==lh?lh:0,lF=null!==(lb=null===(w=(0,y.YS)(null==o?void 0:null===(H=o.sailing)||void 0===H?void 0:H.artifacts,"Fun_Hippoete"))||void 0===w?void 0:w.bonus)&&void 0!==lb?lb:0,lz=null!==(lp=null===(X=(0,y.YS)(null==o?void 0:null===(K=o.sailing)||void 0===K?void 0:K.artifacts,"Opera_Mask"))||void 0===X?void 0:X.bonus)&&void 0!==lp?lp:0,lj=null!==(lM=null===(Y=(0,y.YS)(null==o?void 0:null===(G=o.sailing)||void 0===G?void 0:G.artifacts,"The_True_Lantern"))||void 0===Y?void 0:Y.bonus)&&void 0!==lM?lM:0,lZ=null!==(lE=(0,T._m)(o,"Carbon_-_Wizard_Maximizer"))&&void 0!==lE?lE:0,lQ=(0,I.du)(null==o?void 0:null===(U=o.breeding)||void 0===U?void 0:U.pets,"Total_Damage"),lJ=null!==(lf=null===(W=(0,A.Ob)(o,"MSA_Skill_EXP"))||void 0===W?void 0:W.bonus)&&void 0!==lf?lf:0,l$=(0,_.fi)(null==o?void 0:o.totalSkillsLevels,null==o?void 0:o.rift,0),l0=(0,a.om)(null==o?void 0:null===(V=o.alchemy)||void 0===V?void 0:V.bubbles,"power","BRITTLEY_SPEARS",!1,"strength"===lO),l1=(0,a.om)(null==o?void 0:null===(q=o.alchemy)||void 0===q?void 0:q.bubbles,"quicc","BOW_JACK",!1,"agility"===lO),l2=(0,a.om)(null==o?void 0:null===(F=o.alchemy)||void 0===F?void 0:F.bubbles,"high-iq","MATTY_STAFFORD",!1,"wisdom"===lO),l5="strength"===lO||"luck"===lO?(0,a.om)(null==o?void 0:null===(z=o.alchemy)||void 0===z?void 0:z.bubbles,"power","POWER_TRIONE",!1,"strength"===lO):0,l3="agility"===lO?(0,a.om)(null==o?void 0:null===(j=o.alchemy)||void 0===j?void 0:j.bubbles,"quicc","POWER_TRITWO",!1,"agility"===lO):0,l9="wisdom"===lO?(0,a.om)(null==o?void 0:null===(Z=o.alchemy)||void 0===Z?void 0:Z.bubbles,"high-iq","POWER_TRITHREE",!1,"wisdom"===lO):0,l6=(null==o?void 0:null===(Q=o.towers)||void 0===Q?void 0:Q.totalLevels)>=(null===R.q5||void 0===R.q5?void 0:R.q5[2])?2*Math.floor(((null==o?void 0:null===(J=o.towers)||void 0===J?void 0:J.totalLevels)-(null===R.q5||void 0===R.q5?void 0:R.q5[2]))/10):0,l4=(0,n._X)(null==l?void 0:l.talents,0,"GILDED_SWORD"),l8=(0,B.W)(null==o?void 0:o.saltLick,9),l7=(0,t.zi)(l,45,o),il=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===($=c.bonuses.etcBonuses)||void 0===$?void 0:$[45]),ii=null===(ll=(0,f.Y0)(null==l?void 0:l.activePrayers,"Beefy_For_Real",o))||void 0===ll?void 0:ll.bonus,io=null===(li=(0,f.Y0)(null==l?void 0:l.activePrayers,"Balance_of_Precision",o))||void 0===li?void 0:li.curse,ie=null===(lo=(0,f.Y0)(null==l?void 0:l.activePrayers,"Fibers_of_Absence",o))||void 0===lo?void 0:lo.curse,id=(0,O.c9)(null==o?void 0:null===(ln=o.lab)||void 0===ln?void 0:ln.labBonuses,0),iv=(0,O.c9)(null==o?void 0:null===(le=o.lab)||void 0===le?void 0:le.labBonuses,11),iu=(0,O.c9)(null==o?void 0:o.lab.labBonuses,8),ia=(null==o?void 0:null===(lv=o.lab.jewels)||void 0===lv?void 0:null===(ld=lv.slice(7,10))||void 0===ld?void 0:ld.every(l=>{let{active:i}=l;return i}))?2:1,it=(0,O.pc)(null==o?void 0:o.lab.jewels,10,iu)*ia,is=(null==l?void 0:null===(la=l.cards)||void 0===la?void 0:null===(lu=la.cardSet)||void 0===lu?void 0:lu.rawName)==="CardSet26"?null==l?void 0:null===(ls=l.cards)||void 0===ls?void 0:null===(lt=ls.cardSet)||void 0===lt?void 0:lt.bonus:0,ir=(0,v.OK)(null==l?void 0:null===(lr=l.cards)||void 0===lr?void 0:lr.equippedCards,"Total_Damage"),ic=null==o?void 0:null===(lc=o.accountOptions)||void 0===lc?void 0:lc[89],i_=null===c.randomList||void 0===c.randomList?void 0:c.randomList[53],im=+(0,_.bV)(ic,i_,2),ig=+(0,_.bV)(ic,i_,15),ih=(0,O.gw)(l,o,12),ib=(0,O.pc)(null==o?void 0:o.lab.jewels,16,iu),ip=(0,S.F4)(o,null,"TotDmg",ib),iM=(0,n._X)(null==l?void 0:l.talents,1,"CURSE_OF_MR_LOOTY_BOOTY"),iE=(0,n.eZ)(null==l?void 0:l.activeBuffs,"BALANCED_SPIRIT"),iO=(0,C.HQ)(null==o?void 0:null===(l_=o.divinity)||void 0===l_?void 0:l_.deities,"Flutterbis"),iS=(0,C.HQ)(null==o?void 0:null===(lm=o.divinity)||void 0===lm?void 0:lm.deities,"Kattlecruk"),iD=lA*(1+lR/100)*(1+lB/100)*(1+(lP+(lC+(Math.max(0,lx-10)*lL+Math.floor(Math.max(0,(null==l?void 0:l.level)-200)/50)*lN)))/100)*(1+(lk+(lw+(lH+lX)+lU)+(lV+(lZ+(lQ+lJ))))/100)*(1+(l$+l0+(l1+(l2+(lq+(lF+(l5*Math.floor(Math.max(lS,lT)/250)+l3*Math.floor(lD/250)+(l9*Math.floor(ly/250)+l6)))))))/100)*(1+(l4+(l8+(l7+il+ii))+(id+(iv+it)+(lz+lj)))/100)*(1+(ir+is)/100)*(1+(20*im+40*ig+(ih+ip)+2*(0,P.k)(null==o?void 0:o.achievements,58)+3*(0,P.k)(null==o?void 0:o.achievements,59)+(5*(0,P.k)(null==o?void 0:o.achievements,60)+5*(0,P.k)(null==o?void 0:o.achievements,62))+2*(0,P.k)(null==o?void 0:o.achievements,119)+3*(0,P.k)(null==o?void 0:o.achievements,120)+(5*(0,P.k)(null==o?void 0:o.achievements,121)+2*(0,P.k)(null==o?void 0:o.achievements,185)+3*(0,P.k)(null==o?void 0:o.achievements,186)+(5*(0,P.k)(null==o?void 0:o.achievements,187)+((0,P.k)(null==o?void 0:o.achievements,240)+(0,P.k)(null==o?void 0:o.achievements,280))+3*(0,P.k)(null==o?void 0:o.achievements,297)+2*(0,P.k)(null==o?void 0:o.achievements,303)+(iO+iS))))/100)*Math.max((1-iM/100)*(1-iE/100)*Math.max(.01,1-(io+ie)/100),.05);return 100<iD?100+Math.max(Math.pow(iD-100,.86),0):iD},getDamageFromPerX=(l,i,o,e,d)=>{var v,u,a,t,s,r,m,g,h,b,E,f;let O=(0,n._X)(null==l?void 0:l.talents,1,"VEINS_OF_THE_INFERNAL"),S=(0,_.Wk)(o,"chopping"),D=(0,n._X)(null==l?void 0:l.talents,1,"CHOPPIN_IT_UP_EZ",!0),y=(0,n._X)(null==l?void 0:l.talents,2,"SKILLAGE_DAMAGE"),T=null!==(f=Math.min(...(null===(u=Object.entries(null==l?void 0:l.skillsInfo))||void 0===u?void 0:null===(v=u.filter(l=>{let[i,{index:o}]=l;return o<9}))||void 0===v?void 0:v.map(l=>{let[i,{level:o}]=l;return o}))||[]))&&void 0!==f?f:0,I=(0,n._X)(null==l?void 0:l.talents,2,"APOCALYPSE_ZOW"),A=(null==l?void 0:null===(t=l.zow)||void 0===t?void 0:null===(a=t.finished)||void 0===a?void 0:a[0])+1||0,R=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],B=(0,n._X)(null==l?void 0:l.talents,2,"PRECISION_POWER"),P=e.accuracy>=(null==R?void 0:R.Defence)*2.25?(null==o?void 0:null===(s=o.refinery)||void 0===s?void 0:s.totalLevels)*B:0,C=null==o?void 0:null===(m=o.alchemy)||void 0===m?void 0:null===(r=m.vials)||void 0===r?void 0:r.reduce((l,i)=>{let{level:o}=i;return l+(o>3?1:0)},0),x=(0,n._X)(null==l?void 0:l.talents,2,"VIRILE_VIALS"),L=null==o?void 0:null===(g=o.looty)||void 0===g?void 0:g.lootedItems,N=(0,n._X)(null==l?void 0:l.talents,2,"LOOTY_MC_SHOOTY"),k=(0,p.MH)(null==o?void 0:o.stamps),w=(0,n._X)(null==l?void 0:l.talents,2,"PAPERWORK,_GREAT..."),H=(0,n._X)(null==l?void 0:l.talents,2,"SPEEDNA"),X=H*Math.floor((e.movementSpeed/100-1)/.15),K=(0,n._X)(null==l?void 0:l.starTalents,null,"DUNGEONIC_DAMAGE"),Y=K*(0,M.lavaLog)(null==o?void 0:null===(h=o.accountOptions)||void 0===h?void 0:h[71]),G=(null==l?void 0:l.linkedDeity)===2?null==l?void 0:l.deityMinorBonus:(null==l?void 0:l.secondLinkedDeityIndex)===2?null==l?void 0:l.secondDeityMinorBonus:0,U=(0,_.tE)("Golden_Kebabs",l,o)||1,W=d*(1+O*((null==l?void 0:null===(E=l.skillsInfo)||void 0===E?void 0:null===(b=E.smithing)||void 0===b?void 0:b.level)/12)/100)*(1+(D*Math.floor(S/25)+(y*Math.floor(T/5)+I*A+P+x*C+(N*L/50+w*k/10)+X+Y+G))/100)*(1===U?U:1+U/100);return 100<W?100+Math.max(Math.pow(W-100,.86),0):W},getDamageFromHpMp=(l,i,o,e,d)=>{var v,u,a,t;let s=(0,b.U6)(null==o?void 0:o.statues,"StatueG23",null==l?void 0:l.talents),r=(0,n._X)(null==l?void 0:l.talents,0,"MEAT_SHANK"),c=(0,n._X)(null==l?void 0:l.talents,0,"OVERCLOCKED_ENERGY"),_=(null==o?void 0:null===(u=o.bribes)||void 0===u?void 0:null===(v=u[20])||void 0===v?void 0:v.done)?null==o?void 0:null===(t=o.bribes)||void 0===t?void 0:null===(a=t[20])||void 0===a?void 0:a.value:0,m=(0,p.mV)(null==o?void 0:o.stamps,"Total_Damage");return 1+(Math.pow(d,.7)+(_+(m+s+0)+((0,M.lavaLog)(e.maxHp)*r+(0,M.lavaLog)(e.maxMp)*c)))/100},getBaseDamage=(l,i,o,d,u)=>{var r,m,h,E,f,O,S,D,y,T;let I=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],A=(0,n._X)(null==l?void 0:l.talents,1,"CARRY_A_BIG_STICK"),R=(0,n._X)(null==l?void 0:l.talents,1,"HIGH_POLYMER_LIMBS"),B=(0,n._X)(null==l?void 0:l.talents,1,"POWER_OVERWHELMING"),P=(0,n._X)(null==l?void 0:l.talents,0,"SHARPENED_AXE"),C=getWeaponPower(l,i,o),x=null!==(T=null===(r=(0,g.d)(null==o?void 0:null===(m=o.arcade)||void 0===m?void 0:m.shop,"Base_Damage"))||void 0===r?void 0:r.bonus)&&void 0!==T?T:0,L=(0,_.tE)("Golden_Nomwich",l,o),N=(0,p.mV)(null==o?void 0:o.stamps,"Base_Damage"),k=(0,e.xV)(null==l?void 0:l.postOffice,"Civil_War_Memory_Box",0),w=(0,t.zi)(l,16,o),H=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(h=c.bonuses.etcBonuses)||void 0===h?void 0:h[16]),X=(0,b.U6)(null==o?void 0:o.statues,"StatueG1",null==l?void 0:l.talents),K=(0,a.om)(null==o?void 0:null===(E=o.alchemy)||void 0===E?void 0:E.bubbles,"power","BIG_MEATY_CLAWS",!1,"strength"===I),Y=(0,a.om)(null==o?void 0:null===(f=o.alchemy)||void 0===f?void 0:f.bubbles,"quicc","QUICK_SLAP",!1,"agility"===I),G=(0,a.om)(null==o?void 0:null===(O=o.alchemy)||void 0===O?void 0:O.bubbles,"high-iq","NAME_I_GUESS",!1,"wisdom"===I),U=(0,v.OK)(null==l?void 0:null===(S=l.cards)||void 0===S?void 0:S.equippedCards,"Base_Damage"),W=(0,a.Vq)(null==o?void 0:null===(y=o.alchemy)||void 0===y?void 0:null===(D=y.p2w)||void 0===D?void 0:D.sigils,"PLUNGING_SWORD"),V=Math.pow((C*(1+(A+(R+B))/100)+P)/3,2)+(u+L)+x+(N+(w+H)+X+(k+(K*(0,M.lavaLog)(Math.max(d.maxHp-250,1))+Y*(Math.max(d.movementSpeed/100-1.1,0)/.25)+(G*(0,M.lavaLog)(Math.max(d.maxMp-150,1))+(U+W)))));V>4e3&&(V=4e3+Math.max(Math.pow(V-4e3,.91),0)),V>15e3&&(V=15e3+Math.max(Math.pow(V-15e3,.84)));let q=(0,_.sU)(l,o,"BaseDmgBoosts");return{baseDamage:V+=q}},getAccuracy=(l,i,o,u)=>{var s,r,c,h,M,E,D,y,T,I,A,R,B,P,C,x,L,N,k;let w={strength:"wisdom",agility:"strength",wisdom:"agility",luck:"luck"},H=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],X=null==w?void 0:w[H],K=(0,a.iu)(null==o?void 0:null===(s=o.alchemy)||void 0===s?void 0:s.vials,"baseACC"),Y=(0,e.xV)(null==l?void 0:l.postOffice,"Box_of_Unwanted_Stats",0),G=(0,v.OK)(null==l?void 0:null===(r=l.cards)||void 0===r?void 0:r.equippedCards,"Base_accuracy"),U=(0,t.zi)(l,28,o),W=(0,_.tE)("Butter_Bar",l,o)||0,V=(0,p.mV)(null==o?void 0:o.stamps,"Base_Accuracy"),q=(0,a.om)(null==o?void 0:null===(c=o.alchemy)||void 0===c?void 0:c.bubbles,"quicc","SHAQURACY",!1,"agility"===H),F=(0,v.OK)(null==l?void 0:null===(h=l.cards)||void 0===h?void 0:h.equippedCards,"Total_Accuracy"),z=(null==l?void 0:null===(E=l.cards)||void 0===E?void 0:null===(M=E.cardSet)||void 0===M?void 0:M.rawName)==="CardSet4"?null==l?void 0:null===(y=l.cards)||void 0===y?void 0:null===(D=y.cardSet)||void 0===D?void 0:D.bonus:0,j=(0,n.eZ)(null==l?void 0:l.activeBuffs,"EXTENDO_RANGEO"),Z=(0,n.eZ)(null==l?void 0:l.activeBuffs,"BALANCED_SPIRIT"),Q=(0,m.o9)(l,o,"Accuracy"),J=(0,b.U6)(null==o?void 0:o.statues,"StatueG15",null==l?void 0:l.talents),$=null===(T=(0,g.d)(null==o?void 0:null===(I=o.arcade)||void 0===I?void 0:I.shop,"Total_Accuracy"))||void 0===T?void 0:T.bonus,ll=(0,d.Qo)(null==o?void 0:null===(A=o.dungeons)||void 0===A?void 0:A.upgrades,"Accuracy"),li=(null==o?void 0:null===(B=o.bribes)||void 0===B?void 0:null===(R=B[21])||void 0===R?void 0:R.done)?null==o?void 0:null===(C=o.bribes)||void 0===C?void 0:null===(P=C[21])||void 0===P?void 0:P.value:0,lo=(0,n._X)(null==l?void 0:l.starTalents,null,"TIPTOE_QUICKNESS",!0),ln=null===(x=(0,f.Y0)(null==l?void 0:l.activePrayers,"Balance_of_Precision",o))||void 0===x?void 0:x.bonus,le=null===(L=(0,f.Y0)(null==l?void 0:l.activePrayers,"Beefy_For_Real",o))||void 0===L?void 0:L.curse,ld=null===(N=(0,f.Y0)(null==l?void 0:l.activePrayers,"Balance_of_Pain",o))||void 0===N?void 0:N.curse,lv=(0,O.gw)(l,o,2),lu=(0,O.c9)(null==o?void 0:o.lab.labBonuses,8),la=(0,O.pc)(null==o?void 0:o.lab.jewels,16,lu),lt=(0,S.F4)(o,null,"TotAcc",la),ls=(null==l?void 0:l.linkedDeity)===0?null==l?void 0:l.deityMinorBonus:0,lr=(null==l?void 0:null===(k=l.stats)||void 0===k?void 0:k[X])*(1+q/100)*(1+(j+(F+(Q+(Z+(J+($+(ll+li)))))))/100);return u/100>1.99&&(lr*=1+lo/100),lr=(Math.pow(lr/4,1.4)+(lr+(2+K+(Y+(G+U+W)+V))))*(1+(lr+2*z)/200)*Math.max(.1,1+(ln-le-ld)/100)*(1+(lv+lt)/100)*(1+ls/100)},getMaxMp=(l,i,o)=>{var d,u,a;let t=(0,v.OK)(null==l?void 0:null===(d=l.cards)||void 0===d?void 0:d.equippedCards,"Base_MP"),s=(0,v.OK)(null==l?void 0:null===(u=l.cards)||void 0===u?void 0:u.equippedCards,"Total_MP"),r=(0,p.mV)(null==o?void 0:o.stamps,"Base_MP"),c=(0,n._X)(null==l?void 0:l.talents,0,"MANA_BOOSTER"),_=(0,e.xV)(null==l?void 0:l.postOffice,"Magician_Starterpack",0),m=(0,e.xV)(null==l?void 0:l.postOffice,"Magician_Starterpack",1),g=(0,n._X)(null==l?void 0:l.talents,1,"MANA_OVERDRIVE"),h=(0,n._X)(null==l?void 0:l.talents,1,"HEMA_OVERDRIVE"),b=10+t+0+r+(c+((null==l?void 0:null===(a=l.stats)||void 0===a?void 0:a.wisdom)+_));return b*((1+(g+h)/100)*(1+(m+s)/100))},getMaxHp=(l,i,o)=>{var d,u,a,g,h;let M=(0,_.sU)(l,o,"HpBaseBoosts"),f=(0,b.U6)(null==o?void 0:o.statues,"StatueG5",null==l?void 0:l.talents),O=(0,v.OK)(null==l?void 0:null===(d=l.cards)||void 0===d?void 0:d.equippedCards,"Base_HP"),S=(0,v.OK)(null==l?void 0:null===(u=l.cards)||void 0===u?void 0:u.equippedCards,"Total_HP"),D=(0,p.mV)(null==o?void 0:o.stamps,"Base_HP"),y=(0,e.xV)(null==l?void 0:l.postOffice,"Locally_Sourced_Organs",0),T=(0,e.xV)(null==l?void 0:l.postOffice,"Locally_Sourced_Organs",1),I=(0,n._X)(null==l?void 0:l.talents,0,"HEALTH_BOOSTER"),A=(0,n._X)(null==l?void 0:l.starTalents,null,"UBERCHARGED_HEALTH"),R=(0,n._X)(null==l?void 0:l.talents,1,"STRENGTH_IN_NUMBERS"),B=(0,n._X)(null==l?void 0:l.talents,1,"HEALTH_OVERDRIVE"),P=(0,n._X)(null==l?void 0:l.talents,1,"HEMA_OVERDRIVE"),C=(0,n.eZ)(null==l?void 0:l.activeBuffs,"NO_PAIN_NO_GAIN"),x=(0,m.o9)(l,o,"Total_HP"),L=(0,_.jU)(i,"Squire"),N=(0,n._X)(null==l?void 0:l.talents,3,"THE_FAMILY_GUY"),k=(0,r.D)(c.classFamilyBonuses,"TOTAL_HP",L),w=k*((0,n.gW)(null==l?void 0:l.class,"Squire")&&(null==l?void 0:l.level)===L&&N>0?1+N/100:1),H=(0,t.zi)(l,15,o),X=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(a=c.bonuses.etcBonuses)||void 0===a?void 0:a[15]),K=(0,E.wt)(null==o?void 0:o.shrines,1,null==l?void 0:l.mapIndex,null==o?void 0:o.cards,null==o?void 0:null===(g=o.sailing)||void 0===g?void 0:g.artifacts),Y=(0,_.tE)("Golden_Jam",l,o)||1,G=15+O+0+(D+(M+f))+(y+(I+A)+Math.pow((null==l?void 0:null===(h=l.stats)||void 0===h?void 0:h.strength)*(1+R/100),1.05));return G*((1+(B+(P+H+X))/100)*(1+K/100)*(1===Y?Y:1+Y/100)*(1+T/100)*(1-C/100)*(1+(w+S)/100)*(1+x/100))},getWeaponPower=(l,i,o)=>{var h,b,p,E,f,S,D,y,T,I,A,R,B,P,C,x,L,N,k,w,H,X,K,Y,G;let U=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],W=(0,e.xV)(null==l?void 0:l.postOffice,"Deaths_Storage_Unit",0),V=(0,d.Qo)(null==o?void 0:null===(h=o.dungeons)||void 0===h?void 0:h.upgrades,"Weapon_Power"),q=(0,v.OK)(null==l?void 0:null===(b=l.cards)||void 0===b?void 0:b.equippedCards,"Weapon_Power"),F=(0,v.OK)(null==o?void 0:o.cards,"Weapon_Power_(Passive)"),z=(0,u._r)(null==o?void 0:null===(p=o.guild)||void 0===p?void 0:p.guildBonuses,3),j=(0,a.Vq)(null==o?void 0:null===(f=o.alchemy)||void 0===f?void 0:null===(E=f.p2w)||void 0===E?void 0:E.sigils,"DUSTER_STUDS"),Z=(0,t.zi)(l,"Weapon_Power",o),Q=(0,s.gY)(null==l?void 0:l.obols,"Weapon_Power"),J=(0,O.gw)(l,o,19),$="strength"===U?(0,a.om)(null==o?void 0:null===(S=o.alchemy)||void 0===S?void 0:S.bubbles,"power","SPEAR_POWAH",!1,"strength"===U):0,ll="agility"===U?(0,a.om)(null==o?void 0:null===(D=o.alchemy)||void 0===D?void 0:D.bubbles,"quicc","BOW_POWER",!1,"agility"===U):0,li="wisdom"===U||"luck"===U?(0,a.om)(null==o?void 0:null===(y=o.alchemy)||void 0===y?void 0:y.bubbles,"high-iq","WAND_PAWUR",!1,"wisdom"===U):0,lo=(0,a.iu)(null==o?void 0:null===(T=o.alchemy)||void 0===T?void 0:T.vials,"WeaponPOW"),ln=(0,_.jU)(i,"Barbarian"),le=(0,r.D)(c.classFamilyBonuses,"WEAPON_POWER",ln),ld=(0,m.o9)(l,o,"Weapon_Power"),lv=null===(I=(0,g.d)(null==o?void 0:null===(A=o.arcade)||void 0===A?void 0:A.shop,"Weapon_Power"))||void 0===I?void 0:I.bonus,lu=(0,n._X)(null==l?void 0:l.talents,3,"TOUGH_STEAKS"),la=(0,n._X)(null==l?void 0:l.talents,3,"GAMER_STRENGTH"),lt=Math.round(10*(0,n._X)(null==l?void 0:l.talents,3,"CREW_ROWING_STRENGTH"))/10,ls=(0,n._X)(null==l?void 0:l.talents,3,"BELIEVER_STRENGTH"),lr=(0,n._X)(null==l?void 0:l.talents,3,"ANIMALISTIC_FEROCITY"),lc=(0,n._X)(null==l?void 0:l.talents,3,"WIRED_IN_POWER"),l_=null!==(G=null==o?void 0:null===(P=o.breeding)||void 0===P?void 0:null===(B=P.storedPets)||void 0===B?void 0:null===(R=B[0])||void 0===R?void 0:R.power)&&void 0!==G?G:0,lm=(0,_.jU)(i,"Beginner"),lg=(0,n._X)(null==l?void 0:l.starTalents,null,"BEGINNER_BEST_CLASS"),lh=(0,_.sU)(l,o,"WeaponPowerBoosts");return 5+W+V+lh+(q+F+(z+j))+((Z+Q)*(1+(J+($+(ll+li)))/100)+Math.min(lg,Math.floor(lm/10))+(lo+(le+(ld+(lv+(lu*Math.floor((null==l?void 0:null===(x=l.skillsInfo)||void 0===x?void 0:null===(C=x.cooking)||void 0===C?void 0:C.level)/10)+(la*Math.floor((null==l?void 0:null===(N=l.skillsInfo)||void 0===N?void 0:null===(L=N.gaming)||void 0===L?void 0:L.level)/10)+(lt*Math.floor((null==l?void 0:null===(w=l.skillsInfo)||void 0===w?void 0:null===(k=w.sailing)||void 0===k?void 0:k.level)/10)+ls*Math.floor((null==l?void 0:null===(X=l.skillsInfo)||void 0===X?void 0:null===(H=X.divinity)||void 0===H?void 0:H.level)/10)))+(lr*(0,M.lavaLog)(l_)+lc*Math.floor((null==l?void 0:null===(Y=l.skillsInfo)||void 0===Y?void 0:null===(K=Y.laboratory)||void 0===K?void 0:K.level)/10))))))))},getCritDamage=(l,i,o)=>{var e,d,u,r,_,m,g,h;let M=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],E=(0,n._X)(null==l?void 0:l.talents,0,"FARSIGHT"),O=(0,n._X)(null==l?void 0:l.talents,0,"CRITIKILL"),S=(0,n._X)(null==l?void 0:l.talents,0,"KNUCKLEBUSTER"),D=(0,n.eZ)(null==l?void 0:l.activeBuffs,"DIVINE_INTERVENTION"),y=(0,a.om)(null==o?void 0:null===(e=o.alchemy)||void 0===e?void 0:e.bubbles,"power","BAPPITY_BOOPITY",!1,"strength"===M),T=(0,p.mV)(null==o?void 0:o.stamps,"Critical_Damage"),I=(0,v.OK)(null==l?void 0:null===(d=l.cards)||void 0===d?void 0:d.equippedCards,"Critical_Damage"),A=null===(u=(0,f.Y0)(null==l?void 0:l.activePrayers,"Circular_Criticals",o))||void 0===u?void 0:u.curse,R=(0,t.zi)(l,22,o),B=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(r=c.bonuses.etcBonuses)||void 0===r?void 0:r[22]),P=(0,b.U6)(null==o?void 0:o.statues,"StatueG6",null==l?void 0:l.talents);return 1.2+(O+P+(E+(T+(100*(1e3>(null==l?void 0:null===(_=l.stats)||void 0===_?void 0:_.strength)?(Math.pow((null==l?void 0:null===(m=l.stats)||void 0===m?void 0:m.strength)+1,.37)-1)/40:((null==l?void 0:null===(g=l.stats)||void 0===g?void 0:g.strength)-1e3)/((null==l?void 0:null===(h=l.stats)||void 0===h?void 0:h.strength)+2500)*.5+.255)/1.8+(y+(I-A+(S+(R+B+D))))))))/100},getCritChance=(l,i,o,d)=>{var u,r,_,g,h,p,E,D,y,T,I,A;let R=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],B=(0,v.OK)(null==l?void 0:null===(u=l.cards)||void 0===u?void 0:u.equippedCards,"Critical_Chance"),C=(0,v.OK)(null==o?void 0:o.cards,"Critical_Chance_(Passive)"),x=(null==l?void 0:null===(_=l.cards)||void 0===_?void 0:null===(r=_.cardSet)||void 0===r?void 0:r.rawName)==="CardSet6"?null==l?void 0:null===(h=l.cards)||void 0===h?void 0:null===(g=h.cardSet)||void 0===g?void 0:g.bonus:0,L=null===(p=(0,f.Y0)(null==l?void 0:l.activePrayers,"Circular_Criticals",o))||void 0===p?void 0:p.bonus,N=(0,O.c9)(null==o?void 0:o.lab.labBonuses,8),k=(0,O.pc)(null==o?void 0:o.lab.jewels,16,N),w=(0,S.F4)(o,null,"Crit",k),H=(0,b.U6)(null==o?void 0:o.statues,"StatueG14",null==l?void 0:l.talents),X=(0,n._X)(null==l?void 0:l.starTalents,null,"MEGA_CRIT"),K=(0,n._X)(null==l?void 0:l.starTalents,null,"OVERACCURATE_CRIT"),Y=(0,m.o9)(l,o,"Crit_Chance"),G=(0,t.zi)(l,23,o),U=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(E=c.bonuses.etcBonuses)||void 0===E?void 0:E[23]),W=(0,n._X)(null==l?void 0:l.talents,0,"I_SEE_YOU"),V=(0,n._X)(null==l?void 0:l.talents,0,"FARSIGHT",!0),q=(0,P.k)(null==o?void 0:o.achievements,184),F=(0,e.xV)(null==l?void 0:l.postOffice,"Civil_War_Memory_Box",2),z=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],j=Math.floor(null==d?void 0:d.accuracy),Z=(0,M.lavaLog)(j-1.5*(null==z?void 0:z.Defence)),Q=(0,a.om)(null==o?void 0:null===(D=o.alchemy)||void 0===D?void 0:D.bubbles,"quicc","CHEAP_SHOT",!1,"agility"===R);return 5+x+(B+Math.min(C,50)+(X+(G+U)+(L+w+H+Y)))+(W+(V+5*q+(F+K*Z)+((1e3>(null==l?void 0:null===(y=l.stats)||void 0===y?void 0:y.agility)?(Math.pow((null==l?void 0:null===(T=l.stats)||void 0===T?void 0:T.agility)+1,.37)-1)/40:((null==l?void 0:null===(I=l.stats)||void 0===I?void 0:I.agility)-1e3)/((null==l?void 0:null===(A=l.stats)||void 0===A?void 0:A.agility)+2500)*.5+.255)/2.3*100+Q)))},getHitChance=(l,i,o,n)=>{let e=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],d=(null==n?void 0:n.accuracy)/(null==e?void 0:e.Defence);return .5<=d?Math.floor(Math.min(100*(.95*d-.425),100)):0},getKillsPerHour=(l,i,o,d)=>{var v,u,r,_,m,g,h,b;let p=getTalentEffectOnKills(l,o,"D"),M=getTalentEffectOnKills(l,o,"K"),E=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],f=null==l?void 0:null===(u=l.equipment)||void 0===u?void 0:null===(v=u[1])||void 0===v?void 0:v.Speed,D=(0,t.zi)(l,56,o),y=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(r=c.bonuses.etcBonuses)||void 0===r?void 0:r[56]),T=(0,O.c9)(null==o?void 0:o.lab.labBonuses,8),I=(0,O.pc)(null==o?void 0:o.lab.jewels,16,T),A=(0,S.F4)(o,null,"AtkSpd",I),R=(0,O.gw)(l,o,4),B=(0,a.om)(null==o?void 0:null===(_=o.alchemy)||void 0===_?void 0:_.bubbles,"high-iq","HYPERSWIFT",!1,"wisdom"===E),P=(0,e.xV)(null==l?void 0:l.postOffice,"Deaths_Storage_Unit",1),C=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],x=getMonsterHpTotal(null==C?void 0:C.MonsterHPTotal,l,o),L=null===c.mapDetails||void 0===c.mapDetails?void 0:null===(g=c.mapDetails[null==l?void 0:l.mapIndex])||void 0===g?void 0:null===(m=g[1])||void 0===m?void 0:m[0],N=null===c.mapDetails||void 0===c.mapDetails?void 0:null===(b=c.mapDetails[null==l?void 0:l.mapIndex])||void 0===b?void 0:null===(h=b[1])||void 0===h?void 0:h[1],k=Math.min(Math.max(M,1),2.2),w=Math.max(.1,(1+(10-f)/5)/(1+(D+y+(A+(R+(B+P))))/100)),H=(null==d?void 0:d.maxDamage)*(d.mastery+(1-d.mastery)/2)*(1+(d.critDamage-1)*(d.critChance/100))*(d.hitChance/100)*Math.max(p,1),X=0<d.hitChance?Math.min(L/(d.respawnRate+.1),k/(N/(130*((null==d?void 0:d.movementSpeed)/100))+w*Math.max((x/H+.52)*(1/(d.hitChance/100)),1))):Math.min(L/(d.respawnRate+.1),k/(N/(130*(null==d?void 0:d.movementSpeed))+w*Math.max(x/H+.52,1)));return Math.floor(3600*X)},getTalentEffectOnKills=(l,i,o)=>{var e,d;let v=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],u=null==l?void 0:null===(e=l.talentsLoadout)||void 0===e?void 0:e.reduce((l,i)=>(null==i?void 0:i.AFKactivity)!==0||(null==i?void 0:i[o])===1?l:l*((null==i?void 0:i[o])||1)*(1+Math.min(1,(null==i?void 0:i.baseLevel)/((null==i?void 0:i.baseLevel)+100))),1),t=(0,n._X)(null==l?void 0:l.starTalents,null,"ATTACKS_ON_SIMMER"),s=(0,n._X)(null==l?void 0:l.talents,1,"TWO_PUNCH_MAN"),r=(0,n._X)(null==l?void 0:l.talents,2,"TRIPLE_JAB"),c=(0,n._X)(null==l?void 0:l.talents,1,"DOUBLE_STRIKE"),_=(0,n._X)(null==l?void 0:l.talents,1,"HAVE_ANOTHER!"),m=(0,n._X)(null==l?void 0:l.talents,2,"HAVE_ANOTHER..._AGAIN!"),g=(0,a.om)(null==i?void 0:null===(d=i.alchemy)||void 0===d?void 0:d.bubbles,"high-iq","ALL_FOR_KILL",!1,"wisdom"===v);return"D"===o?u*(1+(Math.min(t,25)+Math.min(g,25))/100)*(1+(s+(r+(c+(_+m))))/100):u},getMonsterHpTotal=(l,i,o)=>{var n,e,d;let v=null===(n=(0,f.Y0)(null==i?void 0:i.activePrayers,"Big_Brain_Time",o))||void 0===n?void 0:n.curse,u=null===(e=(0,f.Y0)(null==i?void 0:i.activePrayers,"Midas_Minded",o))||void 0===e?void 0:e.curse,a=null===(d=(0,f.Y0)(null==i?void 0:i.activePrayers,"Jawbreaker",o))||void 0===d?void 0:d.curse;return l*(1+(v+(u+a))/100)},getSurvivability=(l,i,o,d)=>{var v,u;let a=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],t=getMonsterDamage(a,l,o,d),s=(0,n._X)(null==l?void 0:l.talents,1,"MANA_IS_LIFE");s&&(t/=1+s/100);let r=(0,_.Zf)(l,o,"Health"),m=(0,n._X)(null==l?void 0:l.starTalents,null,"GOBLET_OF_HEMOGLOBIN"),g=r+(null==d?void 0:d.survivabilityMath)*(m/100)*(null==d?void 0:d.maxHp),h=null===c.mapDetails||void 0===c.mapDetails?void 0:null===(u=c.mapDetails[null==l?void 0:l.mapIndex])||void 0===u?void 0:null===(v=u[1])||void 0===v?void 0:v[2],b=t*h-g;if(!(b>0))return 100;{b=(null==d?void 0:d.maxHp)/b;let i=(0,n._X)(null==l?void 0:l.starTalents,null,"BORED_TO_DEATH"),o=(0,e.xV)(null==l?void 0:l.postOffice,"Locally_Sourced_Organs",2);return Math.min(Math.round(100*(b/(b+(0===i?600/(1+Math.min(50,Math.max(0,o)/100)):Math.max(i/(1+Math.min(50,Math.max(0,o))/100),100))/3600))),100)}},getMonsterDamage=(l,i,o,e)=>{let{Damages:d}=l,v=(null==d?void 0:d[0])-2.5*Math.pow(null==e?void 0:e.defence,.8),u=Math.pow(null==e?void 0:e.defence,1.5)/100,a=v/Math.max(1+(null==e?void 0:e.defence)/Math.max(null==d?void 0:d[0],1)*u,1),t=(0,n.eZ)(null==i?void 0:i.activeBuffs,"NO_PAIN_NO_GAIN"),s=(0,n._X)(null==i?void 0:i.talents,1,"BRICKY_SKIN");return t&&(a*=2),s&&(a*=Math.max(.05,1-s/100)),a<.5?0:Math.max(Math.ceil(a),0)},getPlayerDefence=(l,i,o)=>{var u,r,h,M,D,y,T,I,A,R,B,P,C,x,L,N,k,w,H,X;let K=null===n.nl||void 0===n.nl?void 0:n.nl[null==l?void 0:l.class],Y=(0,e.xV)(null==l?void 0:l.postOffice,"Box_of_Unwanted_Stats",1),G=(null==l?void 0:null===(r=l.cards)||void 0===r?void 0:null===(u=r.cardSet)||void 0===u?void 0:u.rawName)==="CardSet4"?null==l?void 0:null===(M=l.cards)||void 0===M?void 0:null===(h=M.cardSet)||void 0===h?void 0:h.bonus:0,U=(0,v.OK)(null==l?void 0:null===(D=l.cards)||void 0===D?void 0:D.equippedCards,"Base_Defence"),W=(0,v.OK)(null==l?void 0:null===(y=l.cards)||void 0===y?void 0:y.equippedCards,"Defence_from_Equipment"),V=(0,a.om)(null==o?void 0:null===(T=o.alchemy)||void 0===T?void 0:T.bubbles,"power","FMJ",!1,"strength"===K),q=(0,p.mV)(null==o?void 0:o.stamps,"Base_Defence"),F=(0,t.zi)(l,"Defence",o),z=(0,s.gY)(null==l?void 0:l.obols,"Defence"),j=(0,t.zi)(l,50,o),Z=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(I=c.bonuses.etcBonuses)||void 0===I?void 0:I[50]),Q=(0,t.zi)(l,7,o),J=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(A=c.bonuses.etcBonuses)||void 0===A?void 0:A[7]),$=null!==(X=null===(R=(0,g.d)(null==o?void 0:null===(B=o.arcade)||void 0===B?void 0:B.shop,"Base_Defence"))||void 0===R?void 0:R.bonus)&&void 0!==X?X:0,ll=(0,b.U6)(null==o?void 0:o.statues,"StatueG8",null==l?void 0:l.talents),li=(0,O.c9)(null==o?void 0:o.lab.labBonuses,8),lo=(0,O.pc)(null==o?void 0:o.lab.jewels,16,li),ln=(0,S.F4)(o,null,"Def",lo),le=(0,n._X)(null==l?void 0:l.talents,2,"BRICKY_SKIN",!0),ld=(0,n._X)(null==l?void 0:l.talents,0,"BUCKLERED_UP"),lv=(0,E.wt)(null==o?void 0:o.shrines,1,null==l?void 0:l.mapIndex,null==o?void 0:o.cards,null==o?void 0:null===(P=o.sailing)||void 0===P?void 0:P.artifacts),lu=(null==o?void 0:null===(x=o.bribes)||void 0===x?void 0:null===(C=x[22])||void 0===C?void 0:C.done)?null==o?void 0:null===(N=o.bribes)||void 0===N?void 0:null===(L=N[22])||void 0===L?void 0:L.value:0,la=null===(k=(0,f.Y0)(null==l?void 0:l.activePrayers,"Beefy_For_Real",o))||void 0===k?void 0:k.curse,lt=null===(w=(0,f.Y0)(null==l?void 0:l.activePrayers,"Balance_of_Pain",o))||void 0===w?void 0:w.curse,ls=(0,_.tE)("Golden_Meat_Pie",l,o),lr=(0,m.o9)(l,o,"Defence"),lc=(0,n.eZ)(null==l?void 0:l.activeBuffs,"BALANCED_SPIRIT"),l_=(0,d.Qo)(null==o?void 0:null===(H=o.dungeons)||void 0===H?void 0:H.upgrades,"Defence"),lm=(0,O.gw)(l,o,0),lg=(null==l?void 0:l.linkedDeity)===0?null==l?void 0:l.deityMinorBonus:(null==l?void 0:l.secondLinkedDeityIndex)===0?null==l?void 0:l.secondDeityMinorBonus:0;return Math.floor(Y+U+Math.min(null==l?void 0:l.level,V)+(q+(j+Z)+$+ll)+((F+z)*(1+(V+W)/100)+(ln+le)))*(1+(lv+lu)/100)*Math.max(.05,1-(la+lt)/100)*(1+(ls+ld+(Q+J+(lr+(lc+(G+(l_+lm))))))/100)*(1+lg/100)},getKillPerKill=(l,i,o,e)=>{var d,v,u,s,r,m,g,h,b;let p=(0,t.zi)(l,68,o),M=(0,t.zi)(l,69,o),E=(0,t.zi)(l,70,o),S=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],D=getMonsterHpTotal(null==S?void 0:S.MonsterHPTotal,l,o),y=(null==e?void 0:e.maxDamage)>=2*D&&.5<(null==o?void 0:null===(d=o.towers)||void 0===d?void 0:d.towersTwo)?(null==e?void 0:e.accuracy)>1.5*(null==S?void 0:S.Defence):0,T=(0,O.c9)(null==o?void 0:null===(v=o.lab)||void 0===v?void 0:v.labBonuses,4),I=0;100<=(null==l?void 0:l.mapIndex)&&150>(null==l?void 0:l.mapIndex)?I=p:150<=(null==l?void 0:l.mapIndex)&&200>(null==l?void 0:l.mapIndex)?I=M:50<=(null==l?void 0:l.mapIndex)&&100>(null==l?void 0:l.mapIndex)&&(I=E);let A=(0,_.fe)(o,0)||(null==l?void 0:l.linkedDeity)===2||(null==l?void 0:l.secondLinkedDeityIndex)===2?1:0,R=(0,n._X)(null==l?void 0:l.talents,3,"CHARRED_SKULLS"),B=(0,n._X)(null==l?void 0:l.talents,3,"STACKED_SKULLS"),P=(0,n._X)(null==l?void 0:l.talents,3,"MEMORIAL_SKULLS"),C=(0,n._X)(null==l?void 0:l.talents,2,"MONSTER_DECIMATOR"),x=getMultiKillTotal(l,i,o,e),L=(0,a.y7)(null==l?void 0:l.equippedBubbles,"quicc","KILL_PER_KILL",o),N=null===(u=(0,f.Y0)(null==l?void 0:l.activePrayers,"Fibers_of_Absence",o))||void 0===u?void 0:u.bonus;return y?Math.max(1,T)*(1+I/100)*Math.max(1,1+A)*(1+(R*((null==l?void 0:null===(s=l.stats)||void 0===s?void 0:s.strength)/1e3)+(B*((null==l?void 0:null===(r=l.stats)||void 0===r?void 0:r.agility)/1e3)+(P*((null==l?void 0:null===(m=l.stats)||void 0===m?void 0:m.wisdom)/1e3)+C))+(x+(L+N)))/100):Math.max(1,T)*(1+I/100)*Math.max(1,1+A)*(1+(R*((null==l?void 0:null===(g=l.stats)||void 0===g?void 0:g.strength)/1e3)+(B*((null==l?void 0:null===(h=l.stats)||void 0===h?void 0:h.agility)/1e3)+(P*((null==l?void 0:null===(b=l.stats)||void 0===b?void 0:b.wisdom)/1e3)+C))+(L+N))/100)},getMultiKillTotal=(l,i,o,d)=>{var u,r,_,h,b,M,E,S,D,T,A,R,C,x,L,N;let k=(0,m.o9)(l,o,"Total_Multikill"),w=(0,B.W)(null==o?void 0:o.saltLick,8),H=(0,p.mV)(null==o?void 0:o.stamps,"Base_Overkill"),X=(0,t.zi)(l,29,o),K=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(u=c.bonuses.etcBonuses)||void 0===u?void 0:u[29]),Y=null===c.monsters||void 0===c.monsters?void 0:c.monsters[null==l?void 0:l.targetMonster],G=getMonsterHpTotal(null==Y?void 0:Y.MonsterHPTotal,l,o),U=1;for(let l=0;l<50;l++)(null==d?void 0:d.maxDamage)>=2*G*Math.pow(2,l+1)&&(U=l+2);let W=(null==o?void 0:null===(_=o.deathNote)||void 0===_?void 0:null===(r=_[Math.floor((null==l?void 0:l.mapIndex)/50)])||void 0===r?void 0:r.rank)||0,V=(0,a.iu)(null==o?void 0:null===(h=o.alchemy)||void 0===h?void 0:h.vials,"Overkill"),q=(0,n.eZ)(null==l?void 0:l.activeBuffs,"VOID_RADIUS"),F=(0,n.A5)(i,3,"Voidwalker","MASTER_OF_THE_SYSTEM"),z=null!==(L=null===(b=(0,g.d)(null==o?void 0:null===(M=o.arcade)||void 0===M?void 0:M.shop,"Multikill_per_Tier"))||void 0===b?void 0:b.bonus)&&void 0!==L?L:0,j=null!==(N=null===(E=(0,y.YS)(null==o?void 0:null===(S=o.sailing)||void 0===S?void 0:S.artifacts,"Trilobite_Rock"))||void 0===E?void 0:E.bonus)&&void 0!==N?N:0,Z=(0,n.eZ)(null==l?void 0:l.activeBuffs,"MANA_IS_LIFE","y"),Q=(0,O.gw)(l,o,14),J=(0,t.zi)(l,71,o),$=(0,s.gY)(null==l?void 0:l.obols,null===c.bonuses||void 0===c.bonuses?void 0:null===(D=c.bonuses.etcBonuses)||void 0===D?void 0:D[71]),ll=(0,v.OK)(null==l?void 0:null===(T=l.cards)||void 0===T?void 0:T.equippedCards,"Multikill_per_tier"),li=null===(A=(0,f.Y0)(null==l?void 0:l.activePrayers,"Balance_of_Pain",o))||void 0===A?void 0:A.bonus,lo=(0,I.du)(null==o?void 0:null===(R=o.breeding)||void 0===R?void 0:R.pets,"Multikill_Per_Tier"),ln=(0,e.xV)(null==l?void 0:l.postOffice,"Utilitarian_Capsule",1),le=(0,a.y7)(null==l?void 0:l.equippedBubbles,"kazam","MR_MASSACRE",o),ld=(0,P.k)(null==o?void 0:o.achievements,148),lv=(0,P.k)(null==o?void 0:o.achievements,122),lu=(0,P.k)(null==o?void 0:o.achievements,123);return Math.floor(k+w+(H+2*(null==o?void 0:null===(C=o.towers)||void 0===C?void 0:C.towersTwo))+(X+K+(Math.min(5,ld)+(6*lv+2*lu)))+U*(W+(V+(q+F*Math.floor((null==o?void 0:null===(x=o.accountOptions)||void 0===x?void 0:x[158])/5))+(z+(j+Z)+(Q+(J+$+ll+(li+lo)))+(ln+le)))))}},74629:function(l,i,o){o.d(i,{MH:function(){return getEclipseSkullsBonus},WA:function(){return getDeathNote},jS:function(){return getDeathNoteRank}});var n=o(70473),e=o(67896);let getDeathNote=(l,i)=>{let o=null==l?void 0:l.reduce((l,i)=>{let{kills:o}=i;return(null==l?void 0:l.length)===0?o:null==o?void 0:o.map((i,o)=>i+l[o])},[]);return n.deathNote.reduce((l,e)=>{var d,v,u;let{rawName:a,world:t}=e,s=null===n.mapEnemies||void 0===n.mapEnemies?void 0:n.mapEnemies[a],r=null==o?void 0:o[s],c=getDeathNoteRank(i,r);return{...l,[t]:{...(null==l?void 0:l[t])||{},rank:((null==l?void 0:null===(d=l[t])||void 0===d?void 0:d.rank)||0)+c,mobs:[...(null==l?void 0:null===(v=l[t])||void 0===v?void 0:v.mobs)||[],{rawName:a,displayName:null===n.monsters||void 0===n.monsters?void 0:null===(u=n.monsters[a])||void 0===u?void 0:u.Name,kills:r}]}}},{})},getDeathNoteRank=(l,i)=>25e3>i?0:1e5>i?1:25e4>i?2:5e5>i?3:1e6>i?4:5e6>i?5:1e8>i?7:1e9<i&&(0,e.RB)(null==l?void 0:l.rift,"Eclipse_Skulls")?20:10,getEclipseSkullsBonus=l=>{var i;let o=(0,e.RB)(null==l?void 0:l.rift,"Eclipse_Skulls");return o?null===(i=Object.entries((null==l?void 0:l.deathNote)||{}))||void 0===i?void 0:i.reduce((l,i)=>{let[o,{mobs:n}]=i,e=null==n?void 0:n.reduce((l,i)=>{let{kills:o}=i;return l+(o>=1e9?1:0)},0);return l+e},0):0}}}]);