"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3736],{83736:function(e,l,o){o.d(l,{parseData:function(){return parseData}});var n=o(56552),i=o(54685),a=o(74805),t=o(1972),r=o(74861),s=o(64569);let u={0:"dewdrop",1:"sandstone",2:"chillsnap",3:"astro",4:"molten",5:"whimsical"},d={0:"chopping",1:"fishing",2:"catching",3:"mining"},getHighscores=(e,l)=>{var o,n,i,a,t;let r=(null==e?void 0:null===(o=e.FamilyValuesMap)||void 0===o?void 0:o.ColosseumHighscores)||(null==e?void 0:e.FamValColosseumHighscores),s=(null==e?void 0:null===(n=e.FamilyValuesMap)||void 0===n?void 0:n.MinigameHiscores)||(null==e?void 0:e.FamValMinigameHiscores);return{coloHighscores:parseColosseum(r),minigameHighscores:parseMinigame(s).concat([{name:"pen pals",score:(null==l?void 0:null===(i=l.accountOptions)||void 0===i?void 0:i[99])||0},{name:"poing",score:null==l?void 0:null===(a=l.gaming)||void 0===a?void 0:a.poingHighscore},{name:"hoops",score:(null==l?void 0:null===(t=l.accountOptions)||void 0===t?void 0:t[242])||0}])}},parseColosseum=e=>e.slice(1).filter((e,l)=>u[l]).map((e,l)=>({name:u[l],score:parseFloat(e)})),parseMinigame=e=>e.filter((e,l)=>d[l]).map((e,l)=>({name:d[l],score:e}));var v=o(30925);let getGemShop=e=>{let l=(0,v.tryToParse)(null==e?void 0:e.GemItemsPurchased)||(null==e?void 0:e.GemItemsPurchased);return parseGemShop(l)},parseGemShop=e=>e;var c=o(25081),m=o(88054),p=o(23515),g=o(29129),h=o(96707),f=o(15815),M=o(70473);let getForge=(e,l)=>{let o=null==e?void 0:e.ForgeItemOrder,n=(null==e?void 0:e.ForgeItemQuantity)||(null==e?void 0:e.ForgeItemQty),i=(null==e?void 0:e.FurnaceLevels)||(null==e?void 0:e.ForgeLV);return parseForge(o,n,i,l)},y=[{name:"New Forge Slot",maxLevel:16,description:"extra slots to smelt ores",costMulti:void 0},{name:"Ore Capacity Boost",maxLevel:50,description:"Increases max ores per slot",costMulti:1.41},{name:"Forge Speed",maxLevel:90,description:"Ores are turned into bars faster",costMulti:1.2},{name:"Forge EXP Gain",maxLevel:85,description:"Increased EXP gain from using the forge",costMulti:1.21},{name:"Bar Bonanza",maxLevel:75,description:"Increased chance to make an extra bar",costMulti:1.25},{name:"Puff Puff Go",maxLevel:60,description:"Increased chance for a card drop while afk",costMulti:1.33}],parseForge=(e,l,o,n)=>{var i,a,t,r;let s=null==y?void 0:y.map((e,l)=>({...e,level:o[l]})),u=null!==(a=null==n?void 0:null===(i=n.gemShopPurchases)||void 0===i?void 0:i.find((e,l)=>104===l))&&void 0!==a?a:0,d=[],v=0;for(let o=0;o<(null==e?void 0:e.length);o+=3){let[n,i,a]=null==e?void 0:e.slice(o,o+3),[c,m,p]=l.slice(o,o+3),g=null===M.items||void 0===M.items?void 0:M.items[i],h=null===M.items||void 0===M.items?void 0:M.items[n],f=v<u,y=Math.round(100+5*(null==s?void 0:null===(t=s[2])||void 0===t?void 0:t.level)),k=getSpeed(y,g,f),T=Math.round(c/(null==h?void 0:h.Amount))*((null==h?void 0:h.Cooldown)/(4*k));d=[...d,{isBrimestone:f,ore:{...h,name:null==h?void 0:h.displayName,rawName:n,amount:c,quantity:c,timeTillEmpty:1e3*T,owner:"forge"},barrel:{...g,name:null==g?void 0:g.displayName,rawName:i,amount:m,quantity:m,owner:"forge"},bar:{...null===M.items||void 0===M.items?void 0:M.items[a],name:null===M.items||void 0===M.items?void 0:null===(r=M.items[a])||void 0===r?void 0:r.displayName,rawName:a,amount:p,quantity:p,owner:"forge"}}],v++}return{list:d,upgrades:s}},getSpeed=(e,l,o)=>{let n=Math.round(e)/100;return n*=(null==l?void 0:l.Effect)==="SpeedForge"?null==l?void 0:l.Amount:1,o&&(n*=1.5),.25*n};var k=o(47212),T=o(9339),S=o(72664);let getTasks=e=>{var l;let o=(null==e?void 0:e.Tasks)||[(0,v.tryToParse)(null==e?void 0:e.TaskZZ0),(0,v.tryToParse)(null==e?void 0:e.TaskZZ1),(0,v.tryToParse)(null==e?void 0:e.TaskZZ2),(0,v.tryToParse)(null==e?void 0:e.TaskZZ3),(0,v.tryToParse)(null==e?void 0:e.TaskZZ4),(0,v.tryToParse)(null==e?void 0:e.TaskZZ5),(0,v.tryToParse)(null==e?void 0:e.TaskZZ6)],n=null===M.tasks||void 0===M.tasks?void 0:null===(l=M.tasks.map((e,l)=>null==e?void 0:e.map((e,n)=>{var i,a,t,r,s,u;let d=null==o?void 0:null===(a=o[0])||void 0===a?void 0:null===(i=a[l])||void 0===i?void 0:i[n],v=null==o?void 0:null===(r=o[1])||void 0===r?void 0:null===(t=r[l])||void 0===t?void 0:t[n],c=e;if(8===n){let e=null==o?void 0:null===(s=o[5])||void 0===s?void 0:s[l];c=null===M.tasks||void 0===M.tasks?void 0:null===(u=M.tasks[l])||void 0===u?void 0:u[8+e]}return{...c,stat:d,level:v,meritReward:Math.round(1+Math.floor(v/5))}})))||void 0===l?void 0:l.map(e=>null==e?void 0:e.slice(0,9)),i=null===M.merits||void 0===M.merits?void 0:M.merits.map((e,l)=>null==e?void 0:e.map((e,n)=>{var i,a;let t=null==o?void 0:null===(a=o[2])||void 0===a?void 0:null===(i=a[l])||void 0===i?void 0:i[n];return{...e,level:t}}));return{tasks:parseTasks(o),tasksDescriptions:n,meritsDescriptions:i}},parseTasks=e=>e;var b=o(71345),w=o(10924),x=o(32387),E=o(11028),C=o(89260),F=o(15893),P=o(64605),O=o(73592),I=o(70508),B=o(19225),_=o(74629),N=o(5432),L=o(19834),D=o(16727),A=o(20385),R=o(95331),j=o(67896),G=o(4056),Z=o(78713),H=o(72973),q=o(15265),z=o(8616),U=o(77115),V=o(13339);let getTome=(e,l,o)=>(M.ninjaExtraInfo[32].split(" "),M.tomeData.map((e,l)=>({...e,tomeLvReq:50*l+(10*Math.max(0,l-30)+10*Math.max(0,l-50))+500}))),parseData=(e,l,o,n,i)=>{let a,t;try{console.info("%cStart Parsing","color:orange");let r=serializeData(e,l,o,n,i),s=serializeData(e,l,o,n,i,r);return a=null==s?void 0:s.accountData,t=null==s?void 0:s.charactersData,console.info("data",{account:a,characters:t}),console.info("%cParsed successfully","color: green"),{account:a,characters:t}}catch(e){console.error("Error while parsing data",e),void 0!==window.gtag&&window.gtag("event","error",{event_category:"error",event_label:"engagement",value:JSON.stringify(e)})}},serializeData=(e,l,o,u,d,y)=>{var X,W,Y,K,Q,J,$,ee,el,eo,en,ei,ea,et;let er=(null==y?void 0:y.accountData)||{},es=(null==y?void 0:y.charactersData)||[],eu=(0,n.ql)(e,l);er.companions=(0,w.Rf)(o),er.bundles=(0,w.kU)(e),er.serverVars=d,er.accountOptions=(null==e?void 0:e.OptionsListAccount)||(0,v.tryToParse)(null==e?void 0:e.OptLacc),er.bribes=(0,g.t)(e),er.timeAway=(0,v.tryToParse)(null==e?void 0:e.TimeAway)||(null==e?void 0:e.TimeAway),er.alchemy=(0,m.p4)(e,er,eu),er.equippedBubbles=(0,m.Tw)(e,null===(X=er.alchemy)||void 0===X?void 0:X.bubbles,eu),er.storage=(0,p.cF)(e),er.saltLick=(0,x.U)(e,er.storage),er.dungeons=(0,E.MR)(e,er.accountOptions),er.prayers=(0,f.hn)(e,er.storage),er.cards=(0,i.vm)(e,er),er.gemShopPurchases=getGemShop(e),er.guild=(0,P.Sk)(e,u),er.currencies=(0,w.DE)(er,e),er.stamps=(0,t.t2)(e,er),er.obols=(0,a.dR)(e),er.looty=(0,w.NQ)(e);let{tasks:ed,tasksDescriptions:ev,meritsDescriptions:ec}=getTasks(e);er.tasks=ed,er.tasksDescriptions=ev,er.meritsDescriptions=ec,er.breeding=(0,N.N5)(e,er),er.cooking=(0,C.Tt)(e,er),er.divinity=(0,L.y0)(e,eu,er),er.postOfficeShipments=(0,G.NU)(e),er.sneaking=(0,z.JL)(e,d,eu,er),er.farming=(0,U.UA)(e,er),er.summoning=(0,V.a)(e,er,eu),er.lab=(0,F.Cs)(e,eu,er),er.towers=(0,k.d4)(e),er.shrines=(0,s.Xz)(e,er),er.statues=(0,r.Xl)(e,eu),er.achievements=(0,T.j)(e),er.lab.connectedPlayers=null===(W=er.lab.connectedPlayers)||void 0===W?void 0:W.map(e=>{var l,o;return{...e,isDivinityConnected:(null==er?void 0:null===(o=er.divinity)||void 0===o?void 0:null===(l=o.linkedDeities)||void 0===l?void 0:l[null==e?void 0:e.playerId])===4||(0,F.p8)(e,4)}}),er.rift=(0,j.wE)(e),er.arcade=(0,b.z)(e,er,d);let em=(0,F.c9)(er.lab.labBonuses,7);er.stamps=(0,t.Md)(er.stamps,em),er.alchemy.vials=(0,m.B9)(er),er.equinox=(0,H.B)(e,er);let ep=(0,F.c9)(er.lab.labBonuses,8),eg=(0,F.pc)(er.lab.jewels,16,ep);er.cooking.meals=(0,C.wR)(er.cooking.meals,eg);let eh=null==eu?void 0:eu.map(e=>{var l,o,n;let i=null==e?void 0:e.PersonalValuesMap;return{level:null!==(o=null==i?void 0:null===(l=i.StatList)||void 0===l?void 0:l[4])&&void 0!==o?o:0,class:null!==(n=null===M.classes||void 0===M.classes?void 0:M.classes[null==e?void 0:e.CharacterClass])&&void 0!==n?n:""}});er.starSigns=(0,h.kz)(e),er.constellations=(0,h.tp)(e),er.charactersLevels=eh,es=eu.map(l=>(0,n.SD)(l,eh,{...er},e)),er.farming=(0,U.nT)(es,er),er.lab=(0,F.Cs)(e,eu,er,es),er.alchemy.vials=(0,m.B9)(er),Y=[1,2,3,4,5,6],er.finishedWorlds=void 0===Y?void 0:Y.reduce((e,l)=>({...e,["World".concat(l)]:!!(0,B.jZ)(es,l)}),{}),er.statues=(0,r.hE)(er,es);let ef=null==es?void 0:es.map(e=>{let{name:l,skillsInfo:o}=e;return{name:l,skillsInfo:o}});er.totalSkillsLevels=(0,w.B4)(ef),er.construction=(0,k.VR)(e,er),er.atoms=(0,R.nK)(e,er);let eM=(0,D.yN)(e,es,er);er.alchemy.p2w.sigils=(0,m.RG)(er.alchemy.p2w.sigils,eM),er.alchemy.liquidCauldrons=(0,m.jd)(er),er.gaming=(0,A.gm)(e,es,er,d),er.atoms=(0,R.nK)(e,er),er.sailing=(0,D.x0)(e,eM,es,er,d,eh);let ey=(0,w.tS)(ef);es=es.map(e=>({...e,skillsInfo:ey[null==e?void 0:e.name]})),er.highscores=getHighscores(e,er),er.shopStock=(0,c.u6)(e),er.forge=getForge(e,er),er.refinery=(0,S.wt)(e,er.storage,er.tasks),er.printer=(0,O.h)(e,es,er),er.traps=(0,I.aQ)(eu),er.quests=(0,B.zz)(es),er.islands=(0,Z.P)(er),er.deathNote=(0,_.WA)(e,es,er),er.killroy=(0,w.VS)(e,es,er),er.anvil=es.map(e=>{let{anvil:l}=e;return l});let ek=parseFloat(null==e?void 0:e.MoneyBANK),eT=null==es?void 0:es.reduce((e,l)=>e+parseFloat(null==l?void 0:l.money),0),eS=ek+eT;er.currencies.rawMoney=eS,er.currencies.money=(0,v.getCoinsArray)(eS),er.currencies.gems=null==e?void 0:e.GemsOwned,er.currencies.KeysAll=(0,w.Ix)(null==er?void 0:null===(K=er.currencies)||void 0===K?void 0:K.KeysAll,es,er),er.currencies.ColosseumTickets=(0,w.cg)(null==er?void 0:null===(Q=er.currencies)||void 0===Q?void 0:Q.ColosseumTickets,es,er),er.currencies.penPals=null!==(et=null===(J=er.accountOptions)||void 0===J?void 0:J[99])&&void 0!==et?et:0,er.cooking.kitchens=(0,C.vu)(e,es,er),er.libraryTimes=(0,w.W9)(e,es,er),er.breeding=(0,N.XM)(e,er),er.divinity&&(er.divinity.deities=(0,L.wl)(er)),es=null==es?void 0:es.map(e=>{let{carryCapBags:l}=e;return e.carryCapBags=null==l?void 0:l.map(l=>{let o=(0,w.HA)(null==l?void 0:l.Class),n=(0,w.z3)(o,e,er);return{...l,capacityPerSlot:null==n?void 0:n.value,breakdown:null==n?void 0:n.breakdown,maxCapacity:(null==n?void 0:n.value)*(null==e?void 0:e.inventorySlots)}}),e.constructionSpeed=(0,n.x6)(e,er),e.constructionExpPerHour=(0,n.NA)(e,er),e}),er.stamps=(0,t.bW)(er,es),er.shrinesExpBonus=(0,s.n)(es,er),er.msaTotalizer=(0,q.CU)(er);let eb=Math.floor((null==er?void 0:null===(el=er.deathNote)||void 0===el?void 0:null===(ee=el[0])||void 0===ee?void 0:null===($=ee.mobs)||void 0===$?void 0:$[0].kills)/1e6),ew=(null===(en=er.lab.labBonuses)||void 0===en?void 0:null===(eo=en[13])||void 0===eo?void 0:eo.active)?1.5*eb:0,ex=eb*(null===(ea=er.lab.labBonuses)||void 0===ea?void 0:null===(ei=ea[9])||void 0===ei?void 0:ei.bonusOn);return er.lab.labBonuses=(0,F.ww)(er.lab.labBonuses,ex+ew,9),er.totems=(0,q.Ew)(e),er.tome=getTome(e,er,es),{accountData:er,charactersData:es}}},25081:function(e,l,o){o.d(l,{gN:function(){return getRawShopItems},u6:function(){return getShops}});var n=o(30925),i=o(70473);let getShops=e=>{let l=(null==e?void 0:e.ShopStock)||(0,n.tryToParse)(null==e?void 0:e.ShopStock);return parseShops(l)},parseShops=e=>e.reduce((e,l,o)=>{var n;let t=null===(n=Object.values(l))||void 0===n?void 0:n.reduce((e,l,n)=>{var t,r,s,u;let d=null==a?void 0:null===(t=a[o])||void 0===t?void 0:t[n],v=parseInt(l)||0;return v>0&&d?[...e,{amount:l,...null===(s=i.shops[o])||void 0===s?void 0:null===(r=s.items)||void 0===r?void 0:r[n],shopName:null===(u=i.shops[o])||void 0===u?void 0:u.name}]:e},[]);return[...e,t]},[]),getRawShopItems=()=>{var e;return null===(e=Object.entries(i.shops))||void 0===e?void 0:e.reduce((e,l)=>{var o;let[n,{items:i}]=l,t=null==i?void 0:null===(o=i.filter((e,l)=>{var o;return null==a?void 0:null===(o=a[n])||void 0===o?void 0:o[l]}))||void 0===o?void 0:o.map(e=>{let{rawName:l}=e;return l});return[...e,...t]},[]).toSimpleObject()},a={0:[3,8,13,14,17,23].toSimpleObject(),1:[2,8,9,13].toSimpleObject(),2:[0,1,2,3,4,5,6,7,8,9,10,18,19].toSimpleObject(),3:[12].toSimpleObject(),4:[0,1,2,8,9,10,19,22].toSimpleObject(),5:[2,3,4,8,9,10,11].toSimpleObject(),6:[0,1,2,3,4,5].toSimpleObject(),7:[0,2,3,4,5,6,7].toSimpleObject()}},70508:function(e,l,o){o.d(l,{aQ:function(){return getTraps},oH:function(){return getTrapsBonuses},q6:function(){return calcTotalCritters}});var n=o(70473),i=o(88054),a=o(30796);let getTraps=e=>parseTraps(e),parseTraps=e=>e.map(e=>{let l=(null==e?void 0:e.PldTraps)||[];return l.reduce((e,l)=>{var o;let[i,,a,t,r,s,u,d]=l;if(-1===i||"-1"===i)return e;let v=n.traps[s].find(e=>e.trapTime===u),c=u-a;return t?[...e,{name:null===(o=n.items[t])||void 0===o?void 0:o.displayName,rawName:t,crittersQuantity:r,trapType:s,trapExp:d,timeLeft:new Date().getTime()+1e3*c,trapData:v}]:e},[])}),calcTotalCritters=(e,l)=>{var o;let{critter:n,exp:i}=l;return null==e?void 0:null===(o=e.traps)||void 0===o?void 0:o.reduce((e,l)=>(l.reduce((l,o)=>{var a,t,r,s;let{crittersQuantity:u,trapExp:d,rawName:v}=o;e={...e,[v]:{critters:(null!==(r=null==e?void 0:null===(a=e[v])||void 0===a?void 0:a.critters)&&void 0!==r?r:0)+u*n,exp:(null!==(s=null==e?void 0:null===(t=e[v])||void 0===t?void 0:t.exp)&&void 0!==s?s:0)+d*i}}},{}),e),{})},getTrapsBonuses=(e,l)=>{let o=null==l?void 0:l.map((o,n)=>calcCrittersBonus({currentCharacterIndex:n,account:e,characters:l,isExp:!1})),n=null==l?void 0:l.map((o,n)=>calcCrittersBonus({currentCharacterIndex:n,account:e,characters:l,isExp:!0}));return{max:{critter:Math.max(...o||[1]),exp:Math.max(...n||[1])},min:{critter:Math.min(...o||[1]),exp:Math.min(...n||[1])}}},calcCrittersBonus=e=>{var l,o,n;let{currentCharacterIndex:t,account:r,characters:s,isExp:u}=e,d=u?0:(0,i.iu)(null==r?void 0:null===(l=r.alchemy)||void 0===l?void 0:l.vials,"TrapOvision");if((0,a.gW)(null==s?void 0:null===(o=s[t])||void 0===o?void 0:o.class,"Hunter")){let e=(0,a.L1)(s,2,"Hunter","EAGLE_EYE",u);d+=u?Math.max(40,Math.min((0,a._X)(null==e?void 0:e.talents,2,"EAGLE_EYE",u),99)):Math.max(50,(0,a._X)(null==e?void 0:e.talents,2,"EAGLE_EYE"))}else{let e=0;for(let l=0;l<(null==s?void 0:s.length);l++)if((0,a.gW)(null==s?void 0:null===(n=s[l])||void 0===n?void 0:n.class,"Hunter")){let l=(0,a.L1)(s,2,"Hunter","EAGLE_EYE",u,!0);e=Math.max(e,(0,a._X)(null==l?void 0:l.talents,2,"EAGLE_EYE",u,!0))}else e=Math.max(e,u?40:50);d+=e}return isNaN(d)?1:d/100}},77115:function(e,l,o){o.d(l,{UA:function(){return getFarming},YA:function(){return getTotalCrop},nT:function(){return updateFarming}});var n=o(30925),i=o(70473),a=o(8616),t=o(96707),r=o(88054),s=o(15893),u=o(13339),d=o(9339);let getFarming=(e,l)=>{let o=(0,n.tryToParse)(null==e?void 0:e.FarmUpg),i=(0,n.tryToParse)(null==e?void 0:e.FarmPlot),a=(0,n.tryToParse)(null==e?void 0:e.FarmCrop);return parseFarming(o,i,a,l)},parseFarming=(e,l,o,n)=>{var t,r;let s=null==n?void 0:null===(t=n.gemShopPurchases)||void 0===t?void 0:t.find((e,l)=>139===l),u=null==e?void 0:e.slice(2,i.marketInfo.length+2),v=null==e?void 0:e[1],c=null==e?void 0:e[19],m=null===i.marketInfo||void 0===i.marketInfo?void 0:i.marketInfo.map((e,l)=>{var o;let{cropId:n,cropIdIncrement:i,cost:a,costExponent:t,bonusPerLvl:r,maxLvl:s,bonus:d}=e,v=null!==(o=null==u?void 0:u[l])&&void 0!==o?o:0;return{...e,level:v,type:getCropType({index:l,cropId:n,cropIdIncrement:i,level:v}),cost:a*Math.pow(t,v),nextUpgrades:getNextUpgradesReq({index:l,cropId:n,cropIdIncrement:i,level:v,cost:a,costExponent:t}),costToMax:calcCostToMax({level:v,maxLvl:s,cost:a,costExponent:t}),value:d.includes("}")?1+v*r/100:v*r}}),p=null==l?void 0:l.map(e=>{var l;let[o,n,a,t,r,s,u]=e,d=Math.round((null===i.seedInfo||void 0===i.seedInfo?void 0:null===(l=i.seedInfo[o])||void 0===l?void 0:l.cropIdMin)+a);return{seedType:o,cropType:d,cropQuantity:r,cropProgress:u,progress:n,growthReq:14400*Math.pow(1.5,o),isLocked:t,currentOG:s,cropRawName:"FarmCrop".concat(d,".png"),seedRawName:"Seed_".concat(o,".png")}}),g=getMarketBonus(m,"LAND_PLOTS"),h=Object.entries(o||{}).reduce((e,l)=>{var o,n;let[a,t]=l,r=i.seedInfo.find(e=>parseFloat(a)>=e.cropIdMin&&parseFloat(a)<=e.cropIdMax);return e+parseFloat(t)*Math.pow(2.5,null!==(o=null==r?void 0:r.seedId)&&void 0!==o?o:0)*Math.pow(1.08,a-(null!==(n=null==r?void 0:r.cropIdMin)&&void 0!==n?n:0))},0),f=null!==(r=(0,a.x5)(n,"Deal_Sweetening"))&&void 0!==r?r:0,M=getMarketBonus(m,"MORE_BEENZ"),y=(0,d.k)(null==n?void 0:n.achievements,363);return{plot:p,crop:{...o,beans:v},market:m,cropsFound:Object.keys(o||{}).length,cropsOnVine:Math.floor(1+(g+20*s)/100),instaGrow:c,beanTrade:Math.pow(h,.5)*(1+M/100)*(1+25*f/100)+5*y}},updateFarming=(e,l)=>{var o,n;let i=null==l?void 0:null===(n=l.farming)||void 0===n?void 0:null===(o=n.plot)||void 0===o?void 0:o.map(o=>{var n,i,s,v,c,m,p;let g=getMarketBonus(null==l?void 0:null===(n=l.farming)||void 0===n?void 0:n.market,"OG_FERTILIZER"),h=(0,a.vq)(l,"Taffy_Disc"),f=(0,t.o9)(null==e?void 0:e[0],l,"OG_Chance"),M=(0,d.k)(null==l?void 0:l.achievements,365),y=Math.pow(.4,(null==o?void 0:o.currentOG)+1)*Math.max(1,g)*(1+h/100)*(1+f/100)*(1+15*M/100),k=getMarketBonus(null==l?void 0:null===(i=l.farming)||void 0===i?void 0:i.market,"NUTRITIOUS_SOIL"),T=getMarketBonus(null==l?void 0:null===(s=l.farming)||void 0===s?void 0:s.market,"SPEED_GMO"),S=null===(c=Object.values(null==l?void 0:null===(m=l.farming)||void 0===m?void 0:m.crop))||void 0===c?void 0:null===(v=c.filter(e=>e>=1e3))||void 0===v?void 0:v.length,b=(0,r.iu)(null==l?void 0:null===(p=l.alchemy)||void 0===p?void 0:p.vials,"6FarmSpd"),w=(0,u.R)(l,"<x Farming SPD"),x=Math.max(1,T*S)*(1+(k+b)/100)*(1+w/100),E=((null==o?void 0:o.growthReq)-(null==o?void 0:o.cropProgress))/x,C=Math.min(1e9,Math.max(1,Math.pow(2,null==o?void 0:o.currentOG)));return{...o,nextOGChance:y,growthRate:x,ogMulti:C,timeLeft:E}});return{...(null==l?void 0:l.farming)||{},plot:i,cropDepot:getCropDepotBonuses(l)}},getNextUpgradesReq=e=>{let{index:l,cropId:o,cropIdIncrement:n,level:i,cost:a,costExponent:t,isUnique:r=!0}=e,s=new Map,u=0;for(;s.size<4;){let e=getCropType({index:l,cropId:o,cropIdIncrement:n,level:i+u}),d=a*Math.pow(t,i+u);s.has(e)&&r?s.set(e,s.get(e)+d):s.set(e,d),u++}return Array.from(s.entries()).map(e=>{let[l,o]=e;return{type:l,cost:o}})},getCropType=e=>{let{index:l,cropId:o,cropIdIncrement:n,level:i}=e;return 0===l?Math.floor(o+n*(i+(2*Math.floor(i/3)+Math.floor(i/4)))):Math.floor(o+n*i)},getCropDepotBonuses=e=>{var l,o,n,i,t,r,u,d,v;let c=(0,s.c9)(null==e?void 0:null===(l=e.lab)||void 0===l?void 0:l.labBonuses,17),m=(0,s.c9)(null==e?void 0:e.lab.labBonuses,8),p=(0,s.pc)(null==e?void 0:null===(o=e.lab)||void 0===o?void 0:o.jewels,20,m),g={damage:{name:"DMG",value:0},gamingEvo:{name:"Gaming Evo",value:0},jadeCoin:{name:"Jade Coin",value:0},cookingSpeed:{name:"Meal Spd",value:0},cash:{name:"Cash",value:0},shiny:{name:"Pet Rate",value:0},critters:{name:"Critters",value:0}};return(0,a.x5)(e,"Reinforced_Science_Pencil")&&(g.damage.value=20*Math.round(null==e?void 0:null===(n=e.farming)||void 0===n?void 0:n.cropsFound)*(1+(c+p)/100)),(0,a.x5)(e,"Science_Pen")&&(g.gamingEvo.value=Math.pow(1.02,Math.round(null==e?void 0:null===(i=e.farming)||void 0===i?void 0:i.cropsFound))*(1+(c+p)/100)),(0,a.x5)(e,"Science_Marker")&&(g.jadeCoin.value=8*Math.round(null==e?void 0:null===(t=e.farming)||void 0===t?void 0:t.cropsFound)*(1+(c+p)/100)),(0,a.x5)(e,"Science_Featherpen")&&(g.cookingSpeed.value=Math.pow(1.1,Math.round(null==e?void 0:null===(r=e.farming)||void 0===r?void 0:r.cropsFound))*(1+(c+p)/100)),(0,a.x5)(e,"Science_Environmentally_Sourced_Pencil")&&(g.cash.value=15*Math.round(null==e?void 0:null===(u=e.farming)||void 0===u?void 0:u.cropsFound)*(1+(c+p)/100)),(0,a.x5)(e,"Science_Crayon")&&(g.shiny.value=7*Math.round(null==e?void 0:null===(d=e.farming)||void 0===d?void 0:d.cropsFound)*(1+(c+p)/100)),(0,a.x5)(e,"Science_Paintbrush")&&(g.critters.value=.1*Math.round(null==e?void 0:null===(v=e.farming)||void 0===v?void 0:v.cropsFound)*(1+(c+p)/100)),g},getMarketBonus=(e,l)=>{var o,n;return null!==(n=null===(o=null==e?void 0:e.find(e=>{let{name:o}=e;return o===l}))||void 0===o?void 0:o.value)&&void 0!==n?n:0},calcCostToMax=e=>{let{level:l,maxLvl:o,cost:n,costExponent:i}=e,a=0;for(let e=l;e<o;e++)a+=n*Math.pow(i,e);return null!=a?a:0},getTotalCrop=e=>null==e?void 0:e.reduce((e,l)=>{let{cropQuantity:o,cropRawName:n,ogMulti:i}=l;return{...e,[n]:((null==e?void 0:e[n])||0)+o*i}},{})}}]);